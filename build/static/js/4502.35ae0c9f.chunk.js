(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[4502],{4757:(e,t,a)=>{var s=a(56552);e.exports=function(){return s.Date.now()}},10143:e=>{var t=/\s/;e.exports=function(e){for(var a=e.length;a--&&t.test(e.charAt(a)););return a}},24502:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>xe});var s=a(65043),n=a(27176),r=a(53536),i=a(73216),l=a(49934),o=a(63516),d=a(56434),c=a.n(d),u=a(41434),h=a(80899),p=a(76086),m=a(70579);const g=h.Ik().shape({raw_weight:h.ai().required("Required"),revision_number:h.Yj().required("Required"),scrap_weight:h.ai(),finish_weight:h.ai().test((e,t)=>0!==e&&(!(e>t.parent.raw_weight)||(t.parent.scrap_weight=0,t.createError({message:`Greater than Raw Weight ${t.parent.raw_weight} ${t.parent.product_um?t.parent.product_um:""}`})))).required("Required")}),x=(0,s.forwardRef)((e,t)=>{const{data:a,initialData:s,onFormSubmit:r,onDiscard:i,type:d}=e,h=(e,t,a)=>{console.log(a),e.setFieldValue(t.name,a[0])};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.l1,{innerRef:t,initialValues:{...s,...a},validationSchema:g,onSubmit:(e,t)=>{let{setSubmitting:a}=t;const s=c()(e);null===r||void 0===r||r(s,a)},children:e=>{let{values:t,touched:a,errors:s,isSubmitting:r}=e;return(0,m.jsx)(o.lV,{children:(0,m.jsxs)(l.MG,{children:[(0,m.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,m.jsxs)("div",{className:"grid grid-cols-1 gap-2 p-2",children:[(0,m.jsx)(p.A,{touched:a,errors:s,values:t}),(0,m.jsx)(l.eI,{className:"mb-4",label:"Process Sheet",children:(0,m.jsx)(o.D0,{name:"process_attachment",children:e=>{let{field:t,form:a}=e;return(0,m.jsx)(l._O,{draggable:!0,showList:!0,className:"cursor-pointer h-[100px]",onChange:e=>h(a,t,e),onFileRemove:e=>h(a,t,e),uploadLimit:1,children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-800 dark:text-white",children:["Drop your pdf here, or"," "]}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: pdf"})]})})}})}),(0,m.jsx)(l.eI,{className:"mb-4",label:"Raw Attachment",children:(0,m.jsx)(o.D0,{name:"raw_attachment",children:e=>{let{field:t,form:a}=e;return(0,m.jsx)(l._O,{draggable:!0,showList:!0,className:"cursor-pointer",onChange:e=>h(a,t,e),onFileRemove:e=>h(a,t,e),uploadLimit:1,children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-800 dark:text-white",children:["Drop your pdf here, or"," "]}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: pdf"})]})})}})}),(0,m.jsx)(l.eI,{label:"Finish Attachment",children:(0,m.jsx)(o.D0,{name:"finish_attachment",children:e=>{let{field:t,form:a}=e;return(0,m.jsx)(l._O,{draggable:!0,showList:!0,className:"cursor-pointer",onChange:e=>h(a,t,e),onFileRemove:e=>h(a,t,e),uploadLimit:1,children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-800 dark:text-white",children:["Drop your pdf here, or"," "]}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: pdf"})]})})}})})]})}),(0,m.jsx)(n.NG,{className:"flex bg-white items-center justify-end pt-2",stickyClass:"border-t bg-white border-gray-200",children:(0,m.jsxs)("div",{className:"md:flex items-center",children:[(0,m.jsx)(l.$n,{size:"sm",className:"mr-3",onClick:()=>null===i||void 0===i?void 0:i(),type:"button",children:"Discard"}),(0,m.jsx)(l.$n,{size:"sm",variant:"solid",loading:r,icon:(0,m.jsx)(u.kuV,{}),type:"submit",children:"new"===d?"Add":"Update"})]})})]})})}})})});x.defaultProps={initialData:{Product:{drawing_number:""},product_id:"",raw_weight:"",drawing_number:"",finish_weight:"",drawing_revision_number:"",raw_attachment:"",finish_attachment:"",process_attachment:""}};const w=x;var v=a(31087),f=a(98257),j=a.n(f),y=a(79456),b=a(80907);const _=(0,b.Z0)({name:"product/details/state",initialState:{newDrawingDialog:!1,deleteDrawingDialog:!1,editDrawingDialog:!1,selectedDrawing:{}},reducers:{toggleNewDrawingDialog:(e,t)=>{e.newDrawingDialog=t.payload},toggleDeleteDrawingDialog:(e,t)=>{e.deleteDrawingDialog=t.payload},toggleEditDrawingDialog:(e,t)=>{e.editDrawingDialog=t.payload},setSelectedDrawing:(e,t)=>{e.selectedDrawing=t.payload}}}),{toggleNewDrawingDialog:N,setSelectedDrawing:D,toggleEditDrawingDialog:C,toggleDeleteDrawingDialog:S}=_.actions,A=_.reducer,k=(0,b.zD)("product/details/data/drawing/list",async e=>{try{return await(0,v.zG)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),R=(0,b.zD)("product/details/data/drawing/delete",async e=>{try{return await(0,v.oS)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),I=(0,b.Z0)({name:"product/details/data",initialState:{loading:!1,drawingList:{},tableData:{total:0,pageIndex:1,pageSize:10,query:""},filterData:{status:""}},reducers:{setTableData:(e,t)=>{e.tableData=t.payload},setDrawingList:(e,t)=>{e.drawingList=t.payload},setFilterData:(e,t)=>{e.filterData=t.payload}},extraReducers:{[k.fulfilled]:(e,t)=>{var a;e.drawingList=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[],e.loading=!1},[k.pending]:(e,t)=>{e.loading=!0},[R.fulfilled]:(e,t)=>{var a,s,n;200===(null===(a=t.payload)||void 0===a?void 0:a.status)&&(e.drawingList={...e.drawingList,Drawings:null===(s=e.drawingList)||void 0===s||null===(n=s.Drawings)||void 0===n?void 0:n.filter(e=>{var a;return(null===e||void 0===e?void 0:e.drawing_id)!==(null===(a=t.meta.arg)||void 0===a?void 0:a.drawing_id)})})}}}),{setTableData:z,setFilterData:P,setDrawingList:T}=I.actions,M=I.reducer,F=(e,t,a)=>{l.y8.push((0,m.jsx)(l.Eg,{title:e,type:t,duration:2500,children:a}),{placement:"top-center"})},$=()=>{(0,i.Zp)();const e=(0,y.wA)(),t=(0,i.zy)(),a=(0,y.d4)(e=>e.product_details.state.newDrawingDialog),s=t.pathname.substring(t.pathname.lastIndexOf("/")+1),n=()=>{e(N(!1))};return(0,m.jsx)(l.lG,{width:600,isOpen:a,onClose:n,onRequestClose:n,children:(0,m.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,m.jsx)("h5",{children:"New Drawing Revision & Attachment Information"}),(0,m.jsx)("p",{className:"mb-6",children:"Section to config drawing revision number & attachment information"}),(0,m.jsx)(w,{type:"new",onDiscard:n,onFormSubmit:async(t,a)=>{var r;const i=new(j());i.append("process_attachment",t.process_attachment),i.append("raw_attachment",t.raw_attachment),i.append("finish_attachment",t.finish_attachment),i.append("revision_number",t.revision_number),i.append("raw_weight",t.raw_weight),i.append("finish_weight",t.finish_weight),i.append("product_id",s),a(!0);const l=await(0,v.gh)(i);if(a(!1),null===(r=l.data)||void 0===r||!r.success)return F("Unsuccessful","error","Product not created");F("Successfully Added","success","Product Successfully created"),n(),e(k({product_id:s}))}})]})})};var K=a(24603);const E=(0,a(50805).HY)({data:M,state:A});var L=a(60446),G=a.n(L),q=a(93751),B=a(23533);a(88705);const H=(e,t,a)=>{l.y8.push((0,m.jsx)(l.Eg,{title:e,type:t,duration:2500,children:a}),{placement:"top-center"})},O=e=>{let{data:t}=e;const a=(0,i.Zp)(),s=(0,y.wA)(),n=(0,y.d4)(e=>e.product_details.state.editDrawingDialog),r=(0,y.d4)(e=>e.product_details.state.selectedDrawing),o=()=>{a("/product/list")},d=()=>{s(C(!1))};return(0,m.jsx)(l.lG,{width:600,isOpen:n,onClose:d,onRequestClose:d,children:(0,m.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,m.jsx)("h5",{children:"Update Drawing Revision"}),(0,m.jsx)("p",{className:"mb-6",children:"Section to config drawing revision number"}),(0,m.jsx)(w,{type:"edit",data:{Product:{...t}},initialData:r,onDiscard:d,onFormSubmit:async(e,t)=>{try{var a;t(!0);const s=new(j());s.append("process_attachment",e.process_attachment),s.append("raw_attachment",e.raw_attachment),s.append("finish_attachment",e.finish_attachment),s.append("revision_number",e.revision_number),s.append("raw_weight",e.raw_weight),s.append("finish_weight",e.finish_weight),s.append("drawing_id",e.drawing_id);null!==(a=(await(0,v.Kc)(s)).data)&&void 0!==a&&a.success?(t(!1),H("Successfully updated","success","Drawing Successfully Updated"),d(),o()):(t(!1),H("Unsuccessful","danger","Product not updated"))}catch(s){t(!1),H("Unsuccessful","danger","Product not updated")}}})]})})};var U=a(39679),V=a(58931),W=a(47111);const Z=(e,t,a)=>l.y8.push((0,m.jsx)(l.Eg,{title:e,type:t,duration:2500,children:a}),{placement:"top-center"}),Y=()=>{const[e,t]=(0,s.useState)(!1),a=(0,y.wA)(),r=(0,y.d4)(e=>e.product_details.state.selectedDrawing),i=(0,y.d4)(e=>e.product_details.state.deleteDrawingDialog),l=()=>{a(S(!1))};return(0,m.jsx)(n.TM,{isOpen:i,onClose:l,onRequestClose:l,type:"danger",title:"Delete Drawing",onCancel:l,onConfirm:async()=>{var e;t(!0);const s=await a(R({drawing_id:null===r||void 0===r?void 0:r.drawing_id}));var n,i,o,d;return t(!1),200===(null===(e=s.payload)||void 0===e?void 0:e.status)?(l(),Z("Successfully Deleted","success",null===(n=s.payload)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)):Z("Unsuccessfully","danger",null===(o=s.payload)||void 0===o||null===(d=o.data)||void 0===d?void 0:d.message)},confirmText:e?"Deleting...":"Confirm",confirmButtonColor:"red-600",children:(0,m.jsx)("p",{children:"Are you sure you want to delete this drawing? This action cannot be undone."})})},{Tr:X,Th:J,Td:Q,THead:ee,TBody:te}=l.XI,ae=e=>{let{row:t}=e;const a=async e=>{const t=null===e||void 0===e?void 0:e.split("/uploads/");let a=U.A.apiPrefix;a.endsWith("/")||(a+="/");const s=`${a}static/${t[1]}`;window.open(s,"_blank")};return(0,m.jsxs)("div",{className:"flex gap-x-4 justify-center",children:[t.process_attachment_path&&(0,m.jsx)(l.m_,{title:(0,m.jsxs)("div",{children:["Download ",(0,m.jsx)("strong",{className:"text-yellow-400",children:"Process"})," pdf"]}),children:(0,m.jsx)("span",{className:"cursor-pointer text-lg",onClick:()=>{a(t.process_attachment_path)},children:(0,m.jsx)(q.jJP,{})})}),t.raw_attachment_path&&(0,m.jsx)(l.m_,{title:(0,m.jsxs)("div",{children:["Download ",(0,m.jsx)("strong",{className:"text-yellow-400",children:"Raw"})," pdf"]}),children:(0,m.jsx)("span",{className:"cursor-pointer text-lg",onClick:()=>{a(t.raw_attachment_path)},children:(0,m.jsx)(q.jJP,{})})}),t.finish_attachment_path&&(0,m.jsx)(l.m_,{title:(0,m.jsxs)("div",{children:["Download ",(0,m.jsx)("strong",{className:"text-yellow-400",children:"Finish"})," pdf"]}),children:(0,m.jsx)("span",{className:"cursor-pointer text-lg",onClick:()=>{a(t.finish_attachment_path)},children:(0,m.jsx)(q.jJP,{})})})]})},se=e=>{let{row:t}=e;const{textTheme:a}=(0,B.A)(),n=(0,y.wA)(),r=(0,s.useCallback)(()=>{n(D(t)),n(C(!0))},[t]);return(0,m.jsxs)("div",{className:"flex justify-center text-lg gap-x-4",children:[(0,m.jsx)("span",{className:`cursor-pointer hover:${a}`,onClick:r,children:(0,m.jsx)(q.VUG,{})}),(0,m.jsx)("span",{className:"cursor-pointer hover:text-red-500",onClick:()=>{n(D(t)),n(S(!0))},children:(0,m.jsx)(q.yRo,{})})]})},ne=e=>{let{data:t}=e;const a=(0,s.useMemo)(()=>[{header:"Drawing",accessorKey:"",cell:e=>{e.row.original;return(0,m.jsx)("span",{className:"uppercase",children:null===t||void 0===t?void 0:t.drawing_number})}},{header:"Drg Revision No.",accessorKey:"",cell:e=>{const t=e.row.original;return(0,m.jsx)("span",{className:"uppercase",children:t.revision_number})}},{header:"Raw weight",accessorKey:"raw_weight",cell:e=>{const t=e.row.original;return(0,m.jsx)("span",{className:"uppercase",children:`${t.raw_weight} Kg`})}},{header:"Finish weight",accessorKey:"finish_weight",cell:e=>{const t=e.row.original;return(0,m.jsx)("span",{className:"uppercase",children:`${t.finish_weight} Kg`})}},{header:"Scrap weight",accessorKey:"scrap_weight",cell:e=>{const t=e.row.original,a=t.raw_weight-t.finish_weight;return(0,m.jsx)("span",{className:"uppercase",children:`${a.toFixed(2)} Kg`})}},{header:"Reg. Date",accessorKey:"createdAt",cell:e=>{const t=e.row.original;return(0,m.jsx)("span",{children:G()(t.createdAt).format("DD-MMM-YYYY")})}},{header:"downloads",accessorKey:"drawing_revision_id",cell:e=>{const t=e.row.original;return(0,m.jsx)(ae,{row:t})}},{header:"Action",accessorKey:"",cell:e=>{const t=e.row.original;return(0,m.jsx)(se,{row:t})}}],[]),n=(0,V.N4)({data:(null===t||void 0===t?void 0:t.Drawings)||[],columns:a,getCoreRowModel:(0,W.HT)()});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(l.XI,{className:"relative",compact:!0,children:[(0,m.jsx)(ee,{className:"sticky",style:{top:"-.2px"},children:n.getHeaderGroups().map(e=>(0,m.jsx)(X,{children:e.headers.map(e=>(0,m.jsx)(J,{style:{textAlign:"center",border:".2px dashed lightGray"},colSpan:e.colSpan,children:(0,V.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,m.jsx)(te,{children:n.getRowModel().rows.map(e=>{const{list_status:t}=e.original;return(0,m.jsx)(X,{className:""+("reject"===t?"bg-red-400 text-white":"accept"===t?"bg-emerald-400 text-white":""),children:e.getVisibleCells().map(e=>(0,m.jsx)(Q,{style:{textAlign:"center",border:".2px dashed lightGray"},children:(0,V.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)})})]}),(0,m.jsx)(O,{}),(0,m.jsx)($,{}),(0,m.jsx)(Y,{})]})};var re=a(93950),ie=a.n(re);const le=(0,s.forwardRef)((e,t)=>{const{onInputChange:a}=e,s=ie()(function(e){null===a||void 0===a||a(e)},500);return(0,m.jsx)(l.pd,{ref:t,className:"max-w-md md:w-52",size:"sm",placeholder:"Search",prefix:(0,m.jsx)(q.oF9,{className:"text-lg"}),onChange:e=>{s(e.target.value)}})});var oe=a(72234);const{Control:de}=oe.c,ce=[{value:"",label:"All",color:"bg-gray-500"},{value:!0,label:"Active",color:"bg-emerald-500"},{value:!1,label:"In-Active",color:"bg-red-500"}],ue=e=>{let{innerProps:t,label:a,data:s,isSelected:n}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-between p-2 cursor-pointer "+(n?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600"),...t,children:[(0,m.jsxs)("div",{className:"flex items-center gap-2",children:[(0,m.jsx)(l.Ex,{innerClass:s.color}),(0,m.jsx)("span",{children:a})]}),n&&(0,m.jsx)(q.q9z,{className:"text-emerald-500 text-xl"})]})},he=e=>{let{children:t,...a}=e;const s=a.getValue()[0];return(0,m.jsxs)(de,{...a,children:[s&&(0,m.jsx)(l.Ex,{className:"ltr:ml-4 rtl:mr-4",innerClass:s.color}),t]})},pe=()=>{const e=(0,y.wA)(),{status:t}=(0,y.d4)(e=>e.product_details.data.filterData);return(0,m.jsx)(l.l6,{options:ce,size:"sm",className:"min-w-[130px]",onChange:t=>{e(P({status:t.value}))},components:{Option:ue,Control:he},value:ce.filter(e=>e.value===t)})},me=()=>{const e=(0,y.wA)(),t=(0,s.useRef)(),a=(0,y.d4)(e=>e.product_details.data.tableData),n=t=>{e(z(t)),e(k(t))};return(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("h3",{className:"text-gray-700",children:"Drawings"}),(0,m.jsxs)("div",{className:"md:flex items-center justify-end gap-2",children:[(0,m.jsx)(le,{ref:t,onInputChange:e=>{const t=c()(a);t.query=e,t.pageIndex=1,"string"===typeof e&&e.length>1&&n(t),"string"===typeof e&&0===e.length&&n(t)}}),(0,m.jsx)(pe,{}),(0,m.jsx)(l.$n,{size:"sm",onClick:()=>{const s=c()(a);s.query="",t.current.value="",e(P({status:""})),n(s)},children:"Clear All"}),(0,m.jsx)(l.$n,{size:"sm",variant:"solid",color:"purple-500",onClick:()=>{e(N(!0))},children:"Add Drawing"})]})]})},ge=e=>{var t,a,s;const{data:n}=e;return(0,m.jsxs)("div",{className:"grid md:grid-cols-3 gap-2 mb-4",children:[(0,m.jsxs)(l.Zp,{className:"mt-2 bg-emerald-50",children:[(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Product Name :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n?void 0:n.name)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Product Code :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n?void 0:n.product_code)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Item Code :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n?void 0:n.item_code)||"-"})]}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"SLT :"})," ",(0,m.jsx)("span",{className:"uppercase",children:`${null===n||void 0===n?void 0:n.standard_lead_time} ${null===n||void 0===n?void 0:n.standard_lead_time_type}`||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Unit M. :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n?void 0:n.unit_measurement)||"-"})]})]})]}),(0,m.jsxs)(l.Zp,{className:"mt-2 bg-pink-50",children:[(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Pump Model :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n?void 0:n.pump_model)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Raw Code :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n?void 0:n.row_code)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"HSN Code :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n?void 0:n.hsn_code)||"-"})]})]}),(0,m.jsxs)(l.Zp,{className:"mt-2 bg-slate-50",children:[(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Material Grade :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n||null===(t=n.MaterialGrade)||void 0===t?void 0:t.number)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Pattern :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n||null===(a=n.Pattern)||void 0===a?void 0:a.number)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Category :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n||null===(s=n.Category)||void 0===s?void 0:s.name)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Remark :"})," ",(0,m.jsx)("span",{className:"uppercase",children:(null===n||void 0===n?void 0:n.description)||"-"})]})]})]})};(0,K.Mh)("product_details",E);const xe=()=>{const e=(0,i.zy)(),t=(0,y.wA)(),a=(0,y.d4)(e=>e.product_details.data.drawingList),o=(0,y.d4)(e=>e.product_details.data.loading);(0,s.useEffect)(()=>{d()},[]);const d=async()=>{const a=e.pathname.substring(e.pathname.lastIndexOf("/")+1);a&&await t(k({product_id:a}))};return(0,m.jsxs)(n.mc,{className:"h-full",children:[(0,m.jsx)(n.Rh,{loading:o,children:!(0,r.isEmpty)(a)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ge,{data:a}),(0,m.jsx)("div",{className:"w-full",children:(0,m.jsxs)(l.Zp,{children:[(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsx)(me,{})}),(0,m.jsx)(ne,{data:a})]})})]})}),!o&&(0,r.isEmpty)(a)&&(0,m.jsxs)("div",{className:"h-full flex flex-col items-center justify-center",children:[(0,m.jsx)(n.Sl,{src:"/img/others/img-2.png",darkModeSrc:"/img/others/img-2-dark.png",alt:"No product found!"}),(0,m.jsx)("h3",{className:"mt-8",children:"Product Not found!"})]})]})}},31087:(e,t,a)=>{"use strict";a.d(t,{Kc:()=>r,V4:()=>l,gh:()=>o,h$:()=>d,oS:()=>i,zG:()=>n});var s=a(43971);async function n(e){return s.A.fetchData({url:"v1/web/company/product/drawing/id",method:"post",data:e})}async function r(e){return s.A.fetchData({url:"v1/web/company/product/drawing/update/id",method:"put",data:e})}async function i(e){return s.A.fetchData({url:"v1/web/company/product/drawing/delete/id",method:"delete",data:e})}async function l(e){return s.A.fetchData({url:"v1/web/company/product/drawing/register",method:"post",data:e})}async function o(e){return s.A.fetchData({url:"v1/web/company/product/drawing/register/new",method:"post",data:e})}async function d(){return s.A.fetchData({url:"v1/web/company/product/drawing/option",method:"get"})}},40801:(e,t,a)=>{var s=a(61141),n=a(46686),r=a(19841),i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,o=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var a=l.test(e);return a||o.test(e)?d(e.slice(2),a?2:8):i.test(e)?NaN:+e}},61141:(e,t,a)=>{var s=a(10143),n=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(n,""):e}},76086:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});a(65043);var s=a(49934),n=a(63516),r=a(70579);const i=e=>{var t;const{values:a,touched:i,errors:l}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,r.jsx)(s.eI,{className:"mb-4",label:"Drawing Revision Number",invalid:l.revision_number&&i.revision_number,errorMessage:l.revision_number,children:(0,r.jsx)(n.D0,{type:"text",autoComplete:"off",name:"revision_number",placeholder:"Drawing Revision Number",component:s.pd,prefix:a.Product.drawing_number&&`${null===(t=a.Product)||void 0===t?void 0:t.drawing_number} -`})}),(0,r.jsx)(s.eI,{className:"mb-4",label:"Raw weight",invalid:l.raw_weight&&i.raw_weight,errorMessage:l.raw_weight,children:(0,r.jsx)(n.D0,{type:"number",autoComplete:"off",name:"raw_weight",placeholder:"Raw weight",suffix:"Kg",component:s.pd,onWheel:e=>e.target.blur()})}),(0,r.jsx)(s.eI,{className:"mb-4",label:"Finish weight",invalid:l.finish_weight&&i.finish_weight,errorMessage:l.finish_weight,children:(0,r.jsx)(n.D0,{type:"number",step:"0.01",autoComplete:"off",name:"finish_weight",placeholder:"Finish weight",suffix:"Kg",component:s.pd,onWheel:e=>e.target.blur()})}),(0,r.jsx)(s.eI,{className:"mb-4",label:"Scrap weight",children:(0,r.jsx)(n.D0,{type:"text",disabled:!0,autoComplete:"off",placeholder:"Scrap weight",suffix:"Kg",component:s.pd,value:a.raw_weight&&a.finish_weight?a.raw_weight<a.finish_weight?0:a.raw_weight-a.finish_weight:""})})]})})}},88705:(e,t,a)=>{"use strict";a.d(t,{A:()=>_});var s=a(65043),n=a(98139),r=a.n(n),i=a(49934),l=a(70579);const{Tr:o,Td:d,TBody:c}=i.XI,u=e=>{const{columns:t,rows:a,avatarInColumns:s,avatarProps:n}=e;return(0,l.jsx)(c,{children:Array.from(new Array(a),(e,t)=>t+0).map(e=>(0,l.jsx)(o,{children:Array.from(new Array(t),(e,t)=>t+0).map(e=>(0,l.jsx)(d,{children:(0,l.jsxs)("div",{className:"flex flex-auto items-center gap-2",children:[s.includes(e)&&(0,l.jsx)("div",{children:(0,l.jsx)(i.EA,{variant:"circle",...n})}),(0,l.jsx)(i.EA,{})]})},`col-${e}`))},`row-${e}`))})};u.defaultProps={columns:1,rows:10,avatarInColumns:[]};const h=u;var p=a(6023),m=a(58931),g=a(47111);const{Tr:x,Th:w,Td:v,THead:f,TBody:j}=i.XI,y=e=>{const{indeterminate:t,onChange:a,onCheckBoxChange:n,onIndeterminateCheckBoxChange:r,...o}=e,d=(0,s.useRef)(null);(0,s.useEffect)(()=>{"boolean"===typeof t&&(d.current.indeterminate=!o.checked&&t)},[d,t]);return(0,l.jsx)(i.Sc,{className:"mb-0",ref:d,onChange:(e,t)=>(e=>{a(e),null===n||void 0===n||n(e),null===r||void 0===r||r(e)})(t),...o})},b=(0,s.forwardRef)((e,t)=>{const{skeletonAvatarColumns:a,columns:n,data:o,loading:d,onCheckBoxChange:c,onIndeterminateCheckBoxChange:u,onPaginationChange:b,onSelectChange:_,onSort:N,pageSizes:D,selectable:C,skeletonAvatarProps:S,pagingData:A,tableWidth:k="100%"}=e,{pageSize:R,pageIndex:I,total:z}=A,[P,T]=(0,s.useState)(null),M=(0,s.useMemo)(()=>D.map(e=>({value:e,label:`${e} / page`})),[D]);(0,s.useEffect)(()=>{if(Array.isArray(P)){const e=P.length>0?P[0].desc?"desc":"asc":"",t=P.length>0?P[0].id:"";null===N||void 0===N||N({order:e,key:t})}},[P]);const F=n.some(e=>e.Header||e.accessor||e.Cell),$=(0,s.useMemo)(()=>{const e=n.map(e=>({...e,size:e.size||void 0,minSize:e.minSize||100,maxSize:e.maxSize||300}));return C?[{id:"select",header:e=>{let{table:t}=e;return(0,l.jsx)(y,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:e=>{var a,s;a=e.target.checked,s=t.getRowModel().rows,d||null===u||void 0===u||u(a,s)}})},cell:e=>{let{row:t}=e;return(0,l.jsx)(y,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler(),onCheckBoxChange:e=>((e,t)=>{d||null===c||void 0===c||c(e,t)})(e.target.checked,t.original)})},size:50,minSize:50,maxSize:50},...e]:e},[n,C]),K=(0,m.N4)({data:o,columns:F?[]:$,getCoreRowModel:(0,g.HT)(),getFilteredRowModel:(0,g.hM)(),getPaginationRowModel:(0,g.kW)(),getSortedRowModel:(0,g.h5)(),manualPagination:!0,manualSorting:!0,onSortingChange:T,state:{sorting:P},columnResizeMode:"onChange"}),E=()=>{K.resetSorting()},L=()=>{K.toggleAllRowsSelected(!1)};if((0,s.useImperativeHandle)(t,()=>({resetSorting:E,resetSelected:L})),F){const e="You are using old react-table v7 column config, please use v8 column config instead, refer to our demo or https://tanstack.com/table/v8";return(0,l.jsx)(i.Fc,{children:e})}return(0,l.jsxs)(p.A,{loading:d&&0!==o.length,type:"cover",children:[(0,l.jsx)("div",{style:{width:k,overflowX:"auto"},children:(0,l.jsxs)(i.XI,{style:{width:"100%",tableLayout:"fixed"},children:[(0,l.jsx)(f,{children:K.getHeaderGroups().map(e=>(0,l.jsx)(x,{children:e.headers.map(e=>(0,l.jsx)(w,{colSpan:e.colSpan,style:{width:`${e.column.getSize()}px`},children:e.isPlaceholder?null:(0,l.jsx)("div",{className:r()(d&&"pointer-events-none"),children:(0,m.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),d&&0===o.length?(0,l.jsx)(h,{columns:$.length,rows:A.pageSize,avatarInColumns:a,avatarProps:S}):(0,l.jsx)(j,{children:K.getRowModel().rows.slice(0,R).map(e=>(0,l.jsx)(x,{children:e.getVisibleCells().map(e=>(0,l.jsx)(v,{style:{width:`${e.column.getSize()}px`},children:(0,m.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,l.jsx)(i.dK,{pageSize:R,currentPage:I,total:z,onChange:e=>{d||null===b||void 0===b||b(e)}}),(0,l.jsx)("div",{style:{minWidth:130},children:(0,l.jsx)(i.l6,{size:"sm",menuPlacement:"top",isSearchable:!1,value:M.filter(e=>e.value===R),options:M,onChange:e=>{return t=e.value,void(d||null===_||void 0===_||_(Number(t)));var t}})})]})]})});b.defaultProps={pageSizes:[10,25,50,100],pagingData:{total:0,pageIndex:1,pageSize:10},data:[],columns:[],selectable:!1,loading:!1};const _=b},93950:(e,t,a)=>{var s=a(46686),n=a(4757),r=a(40801),i=Math.max,l=Math.min;e.exports=function(e,t,a){var o,d,c,u,h,p,m=0,g=!1,x=!1,w=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var a=o,s=d;return o=d=void 0,m=t,u=e.apply(s,a)}function f(e){var a=e-p;return void 0===p||a>=t||a<0||x&&e-m>=c}function j(){var e=n();if(f(e))return y(e);h=setTimeout(j,function(e){var a=t-(e-p);return x?l(a,c-(e-m)):a}(e))}function y(e){return h=void 0,w&&o?v(e):(o=d=void 0,u)}function b(){var e=n(),a=f(e);if(o=arguments,d=this,p=e,a){if(void 0===h)return function(e){return m=e,h=setTimeout(j,t),g?v(e):u}(p);if(x)return clearTimeout(h),h=setTimeout(j,t),v(p)}return void 0===h&&(h=setTimeout(j,t)),u}return t=r(t)||0,s(a)&&(g=!!a.leading,c=(x="maxWait"in a)?i(r(a.maxWait)||0,t):c,w="trailing"in a?!!a.trailing:w),b.cancel=function(){void 0!==h&&clearTimeout(h),m=0,o=p=d=h=void 0},b.flush=function(){return void 0===h?u:y(n())},b}},98257:e=>{"use strict";e.exports="object"===typeof self?self.FormData:window.FormData}}]);
//# sourceMappingURL=4502.35ae0c9f.chunk.js.map