"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[5702],{9696:(e,t,r)=>{r.d(t,{$S:()=>u,Cb:()=>s,GK:()=>c,_Z:()=>i,gC:()=>n,hk:()=>d,v$:()=>m,yh:()=>l,ze:()=>o});var a=r(43971);async function o(){return a.A.fetchData({url:"v1/web/company/product/codes",method:"get"})}async function s(e){return a.A.fetchData({url:"v1/web/company/po-list/customer/id",method:"post",data:e})}async function l(e){return a.A.fetchData({url:"v1/web/company/stock",method:"get",params:e})}async function n(e){return a.A.fetchData({url:"v1/web/company/stock/delete/id",method:"delete",data:e})}async function i(e){return a.A.fetchData({url:"v1/web/company/stock/update/id",method:"put",data:e})}async function d(e){return a.A.fetchData({url:"v1/web/company/stock/register",method:"post",data:e})}async function c(e){return a.A.fetchData({url:"v1/web/company/purchase/order/register",method:"post",data:e})}async function u(e){return a.A.fetchData({url:"v1/web/company/purchase/order/update/id",method:"put",data:e})}async function m(e){return a.A.fetchData({url:"v1/web/company/purchase/order",method:"post",data:e})}},20274:(e,t,r)=>{r.d(t,{Ay:()=>i,Rp:()=>o});const a=(0,r(80907).Z0)({name:"new/po/state",initialState:{newPoItemDialog:!1,deletePoItemDialog:!1,editPoItemDialog:!1,selectedPoItem:{}},reducers:{toggleNewPoItemDialog:(e,t)=>{e.newPoItemDialog=t.payload},toggleDeletePoItemDialog:(e,t)=>{e.deletePoItemDialog=t.payload},toggleEditPoItemDialog:(e,t)=>{e.editPoItemDialog=t.payload},setSelectedPoItem:(e,t)=>{e.selectedPoItem=t.payload}}}),{toggleNewPoItemDialog:o,setSelectedPoItem:s,toggleEditPoItemDialog:l,toggleDeletePoItemDialog:n}=a.actions,i=a.reducer},30248:(e,t,r)=>{r.d(t,{Ay:()=>i,bE:()=>l});const a=(0,r(80907).Z0)({name:"edit/porder/state",initialState:{newPoItemDialog:!1,deletePoItemDialog:!1,editPoItemDialog:!1,selectedPoItem:{}},reducers:{toggleNewPoItemDialog:(e,t)=>{e.newPoItemDialog=t.payload},toggleDeletePoItemDialog:(e,t)=>{e.deletePoItemDialog=t.payload},toggleEditPoItemDialog:(e,t)=>{e.editPoItemDialog=t.payload},setSelectedPoItem:(e,t)=>{e.selectedPoItem=t.payload}}}),{toggleNewPoItemDialog:o,setSelectedPoItem:s,toggleEditPoItemDialog:l,toggleDeletePoItemDialog:n}=a.actions,i=a.reducer},55702:(e,t,r)=>{r.d(t,{A:()=>se});var a=r(65043),o=r(49934),s=r(27176),l=r(63516),n=r(56434),i=r.n(n),d=r(41434),c=r(80899),u=r(53536),m=r(79456),p=r(89445),h=r(70579);const v=e=>{const{touched:t,errors:r,customers:s=[],values:n}=e,i=(0,m.wA)(),d=(0,a.useMemo)(()=>s.map(e=>({label:e.name,value:e})),[s]);return(0,a.useEffect)(()=>{(async()=>{i((0,p.ao)({customer_id:null===n||void 0===n?void 0:n.customer_id}))})()},[null===n||void 0===n?void 0:n.customer_id]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h5",{children:"Customer/Supplier Information"}),(0,h.jsx)("p",{className:"mb-4",children:"Section to config customer/supplier information"}),(0,h.jsxs)(o.eI,{className:"mb-0",label:"Customer/Supplier",invalid:r&&t,errorMessage:r,children:[(0,h.jsx)(l.D0,{name:"Customer",children:e=>{let{field:t,form:r}=e;return(0,h.jsx)(o.l6,{field:t,form:r,options:d,value:d.filter(e=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.customer_id)===(null===n||void 0===n?void 0:n.customer_id)}),onChange:e=>r.setFieldValue(t.name,e.value)})}}),(0,u.isEmpty)(n)?null:(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2 h-max",children:[(0,h.jsxs)(o.Zp,{bodyClass:"p-4",className:"bg-emerald-50",children:[(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("strong",{children:"Customer Code :"})," ",(0,h.jsx)("span",{children:(null===n||void 0===n?void 0:n.customer_code)||"-"})]}),(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("strong",{children:"Vender Code :"})," ",(0,h.jsx)("span",{children:(null===n||void 0===n?void 0:n.vender_code)||"-"})]}),(0,h.jsxs)("div",{className:"flex justify-between capitalize",children:[(0,h.jsx)("strong",{children:"Type :"})," ",(0,h.jsx)("span",{children:(null===n||void 0===n?void 0:n.type)||"-"})]}),(0,h.jsxs)("div",{className:"flex justify-between capitalize",children:[(0,h.jsx)("strong",{children:"Phone :"})," ",(0,h.jsx)("span",{children:(null===n||void 0===n?void 0:n.phone)||"-"})]})]}),(0,h.jsxs)(o.Zp,{bodyClass:"p-4",className:"bg-red-50",children:[(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("strong",{children:"Email :"})," ",(0,h.jsx)("span",{className:"lowerCase",children:(null===n||void 0===n?void 0:n.email)||"-"})]}),(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("strong",{children:"Mobile :"})," ",(0,h.jsx)("span",{children:(null===n||void 0===n?void 0:n.mobile)||"-"})]}),(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("strong",{children:"PAN No :"})," ",(0,h.jsx)("span",{children:(null===n||void 0===n?void 0:n.pan)||"-"})]}),(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("strong",{children:"GST No :"})," ",(0,h.jsx)("span",{children:(null===n||void 0===n?void 0:n.gst_no)||"-"})]})]})]})]})]})};var y=r(58931),g=r(47111),x=r(60446),f=r.n(x),b=r(93751),j=r(23533);const{Tr:D,Th:w,Td:N,THead:P,TBody:I}=o.XI,_=e=>{let{index:t,onRemoveItem:r,row:a,onEditItem:o}=e;const{textTheme:s}=(0,j.A)();return(0,h.jsxs)("div",{className:"flex justify-center text-lg gap-x-4",children:[(0,h.jsx)("span",{className:`cursor-pointer hover:${s}`,onClick:()=>{null===o||void 0===o||o(a)},children:(0,h.jsx)(b.VUG,{})}),(0,h.jsx)("span",{className:"cursor-pointer hover:text-red-500",onClick:()=>{null===r||void 0===r||r(t)},children:(0,h.jsx)(b.yRo,{})})]})},A=e=>{let{data:t=[],currency:r="",onRemoveItem:s,onEditItem:l}=e;const n=(0,a.useMemo)(()=>[{header:"Sr no.",accessorKey:"",cell:e=>{const t=e.row.index;return(0,h.jsx)("div",{children:t+1})}},{header:"product",accessorKey:"Product.name"},{header:"drg rev no.",accessorKey:"revision_number",cell:e=>{var t,r;const a=e.row.original;return(0,h.jsx)("div",{children:null===a||void 0===a||null===(t=a.Product)||void 0===t||null===(r=t.Drawings[0])||void 0===r?void 0:r.revision_number})}},{header:"remarks",accessorKey:"remarks"},{header:"po del date.",accessorKey:"delivery_date",cell:e=>{const{delivery_date:t}=e.row.original;return(0,h.jsx)("div",{children:f()(t).format("DD-MMM-YYYY")})}},{header:"po qty",accessorKey:"po_quantity",cell:e=>{const{quantity:t}=e.row.original;return(0,h.jsx)("div",{children:t})}},{header:"GST Type",accessorKey:"gst_type"},{header:"GST (%)",accessorKey:"gst",cell:e=>{const{gst_type:t,Product:r,gst:a}=e.row.original;return(0,h.jsx)("div",{children:("GST"==t?a:"")+"%"})}},{header:`Amount (${r})`,accessorKey:"amount",cell:e=>{const{quantity:t,price:r,gst_type:a,gst:o}=e.row.original;let s=0;if("GST"===a&&o&&r&&t){let e=0;e=parseFloat(r)*parseFloat(t)*parseFloat(o)/100;const a=parseFloat(r)*parseFloat(t);s=(parseFloat(e)+parseFloat(a)).toFixed(2)}if("NGST"===a&&r&&t){const e=parseFloat(r)*parseFloat(t);s=parseFloat(e).toFixed(2)}return(0,h.jsx)("div",{children:s})}},{header:"",accessorKey:"action",cell:e=>{const{index:t}=e.row,r=e.row.original;return(0,h.jsx)(_,{index:t,onRemoveItem:s,onEditItem:l,row:r})}}],[r,t,s,l]);console.log(t);const i=(0,y.N4)({data:t,columns:n,getCoreRowModel:(0,g.HT)()});return(0,h.jsxs)(o.XI,{className:"relative",compact:!0,children:[(0,h.jsx)(P,{className:"sticky",style:{top:"-.2px"},children:i.getHeaderGroups().map(e=>(0,h.jsx)(D,{children:e.headers.map(e=>(0,h.jsx)(w,{style:{textAlign:"center",border:".2px dashed lightGray"},colSpan:e.colSpan,children:(0,y.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,h.jsx)(I,{children:i.getRowModel().rows.map(e=>(0,h.jsx)(D,{children:e.getVisibleCells().map(e=>(0,h.jsx)(N,{style:{textAlign:"center",border:".2px dashed lightGray"},children:(0,y.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})},C=(0,a.memo)(A);var S=r(20274);const R=e=>{const{errors:t,touched:r,type:a,debouncedHandleCheck:s,isPOExist:n=!1,values:i="",handleChange:d,setFieldError:c}=e;return(0,h.jsx)(o.eI,{className:"mb-4",label:"PO Number",invalid:t&&r,errorMessage:t,children:(0,h.jsx)(l.D0,{type:"text",autoComplete:"off",name:"number",placeholder:"PO Number",component:o.pd,disabled:"edit"==a,onChange:e=>{d(e),t&&t.number&&c("number",""),"new"==a&&s(e)}})})},q=(0,a.memo)(R),F=e=>{const{errors:t,touched:r}=e;return(0,h.jsx)(o.eI,{className:"mb-4",label:"PO Date",invalid:t&&r,errorMessage:t,children:(0,h.jsx)(l.D0,{name:"date",children:e=>{let{field:t,form:r}=e;return(0,h.jsx)(o.lr,{placeholder:"PO Date",field:t,form:r,value:t.value,onChange:e=>{r.setFieldValue(t.name,e)}})}})})},k=(0,a.memo)(F),E=[{label:"INR",value:"INR"},{label:"USD",value:"USD"}],T=e=>{const{errors:t,touched:r,values:a}=e;return(0,h.jsx)(o.eI,{className:"mb-4",label:"Currency",invalid:t&&r,errorMessage:t,children:(0,h.jsx)(l.D0,{name:"currency_type",children:e=>{let{field:t,form:r}=e;return(0,h.jsx)(o.l6,{field:t,form:r,options:E,value:E.filter(e=>e.value===a),onChange:e=>r.setFieldValue(t.name,e.value)})}})})},G=(0,a.memo)(T),O=e=>{const{errors:t,touched:r,values:s,categories:n=[],type:i}=e,d=(0,a.useMemo)(()=>n.map(e=>({label:e.name,value:e.category_id})),[n]);return(0,h.jsx)(o.eI,{className:"mb-4",label:"Product Type",children:(0,h.jsx)(l.D0,{name:"category_id",children:e=>{let{field:t,form:r}=e;return(0,h.jsx)(o.l6,{field:t,form:r,options:d,value:d.filter(e=>e.value===s),disabled:"edit"===i,onChange:e=>r.setFieldValue(t.name,e.value)})}})})},M=(0,a.memo)(O),z=e=>{const{errors:t,touched:r,label:a,name:s,placeholder:n="",type:i="text",className:d,suffix:c,prefix:u,value:m,Product:p={}}=e;return(0,h.jsx)(o.eI,{className:"mb-4",label:p&&p.unit_measurement?a+"/"+p.unit_measurement:a,invalid:t&&r,errorMessage:t,children:(0,h.jsx)(l.D0,{type:i,className:d,autoComplete:"off",name:s,suffix:c,prefix:u,placeholder:n,component:o.pd})})},V=(0,a.memo)(z),K=e=>{const{label:t,errors:r,touched:a,placeholder:s="",name:n}=e;return(0,h.jsx)(o.eI,{className:"mb-4",label:t,invalid:r&&a,errorMessage:r,children:(0,h.jsx)(l.D0,{name:n,children:e=>{let{field:t,form:r}=e;return(0,h.jsx)(o.lr,{placeholder:s,field:t,form:r,value:t.value,onChange:e=>{r.setFieldValue(t.name,e)}})}})})},Z=(0,a.memo)(K);var $=r(72234);const{Control:U}=$.c,Y=e=>{var t,r,a;let{children:o,...s}=e;const l=s.getValue()[0];return(0,h.jsxs)(U,{...s,children:[l&&(0,h.jsxs)("span",{className:"ml-2 font-semibold uppercase",children:[null===l||void 0===l||null===(t=l.value)||void 0===t?void 0:t.item_code," :"," ",null===l||void 0===l||null===(r=l.value)||void 0===r||null===(a=r.MaterialGrade)||void 0===a?void 0:a.number]}),o]})},H=e=>{var t,r,a;let{innerProps:o,label:s,data:l,isSelected:n}=e;return(0,h.jsx)("div",{className:"flex items-center justify-between p-2 "+(n?"bg-gray-100":"hover:bg-gray-50"),...o,children:(0,h.jsxs)("div",{className:"items-center flex justify-between w-full",children:[(0,h.jsx)("div",{className:"ml-2 uppercase",children:`${s} : ( ${null===l||void 0===l||null===(t=l.value)||void 0===t?void 0:t.item_code}) : ( ${null===l||void 0===l||null===(r=l.value)||void 0===r||null===(a=r.MaterialGrade)||void 0===a?void 0:a.number}) `}),n&&(0,h.jsx)(b.q9z,{className:"text-emerald-500 text-xl"})]})})},L=e=>{const{values:t,errors:r,touched:s,products:n=[]}=e;console.log(n);const i=(0,a.useMemo)(()=>null===n||void 0===n?void 0:n.map(e=>({label:e.name,value:e})),[n]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(o.eI,{className:"mb-1",label:"Product",invalid:r&&s,errorMessage:r,children:(0,h.jsx)(l.D0,{name:"Product",children:e=>{let{field:r,form:a}=e;return(0,h.jsx)(o.l6,{field:r,form:a,options:i,components:{Option:H,Control:Y},value:i.filter(e=>{var r;return(null===(r=e.value)||void 0===r?void 0:r.product_id)===(null===t||void 0===t?void 0:t.product_id)}),onChange:e=>a.setFieldValue(r.name,e.value)})}})})})},Q=(0,a.memo)(L);var B=r(30248);const X=c.Ik().shape({remarks:c.Yj().required("Required"),Product:c.Ik().required("Required"),revision_number:c.Yj().required("Required").test((e,t)=>{var r,a;return!(null===(r=t.parent)||void 0===r||null===(a=r.Product)||void 0===a||!a.Drawings.some(t=>t.revision_number===e))||t.createError({message:"Not Matched"})}),delivery_date:c.p6().required("Required"),quantity:c.ai().required("Required").test((e,t)=>!(e<1)||t.createError({message:"Quantity should be minimum 1"})),price:c.ai().typeError("Must be number").required("Required").test((e,t)=>!(e<1)||t.createError({message:"Price should be minimum 1 Rs."})),gst_type:c.Yj().required("Required"),gst:c.ai().required("Required")}),J=(0,a.forwardRef)((e,t)=>{const{handleOnAddItem:r,initialData:a,currency_type:s,products:n=[],category:i,mode:d,setItem:c,type:u,setType:p}=e,v=(0,m.wA)(),y=(0,m.d4)(e=>"edit"===d?e.edit_porder.state.editPoItemDialog:e.new_po.state.newPoItemDialog),g=()=>{"edit"===d?(v((0,B.bE)(!1)),c({}),p(!1)):(v((0,S.Rp)(!1)),c({}),p(!1))},x=[{label:"GST",value:"GST"},{label:"NON-GST",value:"NGST"}];return(0,h.jsx)(o.lG,{isOpen:y,onClose:g,onRequestClose:g,children:(0,h.jsx)(l.l1,{innerRef:t,initialValues:{...a},enableReinitialize:!0,validationSchema:X,onSubmit:(e,t)=>{let{setSubmitting:a,resetForm:o}=t;null===r||void 0===r||r(e),o(),v("edit"===d?(0,B.bE)(!1):(0,S.Rp)(!1))},children:e=>{var t,r;let{values:a,touched:i,errors:d}=e,c=0;if("GST"===a.gst_type&&a.gst&&a.price&&a.quantity){let e=0;e=parseFloat(null===a||void 0===a?void 0:a.price)*parseFloat(null===a||void 0===a?void 0:a.quantity)*parseFloat(null===a||void 0===a?void 0:a.gst)/100;const t=parseFloat(null===a||void 0===a?void 0:a.price)*parseFloat(null===a||void 0===a?void 0:a.quantity);c=(parseFloat(e)+parseFloat(t)).toFixed(2)}if("NGST"===a.gst_type&&a.price&&a.quantity){const e=parseFloat(null===a||void 0===a?void 0:a.price)*parseFloat(null===a||void 0===a?void 0:a.quantity);c=parseFloat(e).toFixed(2)}return(0,h.jsx)(l.lV,{children:(0,h.jsxs)(o.MG,{children:[(0,h.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,h.jsx)("h4",{children:"New Item Information"}),(0,h.jsx)("p",{className:"mb-4",children:"Section to config new item information"}),(0,h.jsx)("div",{className:"grid grid-cols-2 gap-2"}),(0,h.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,h.jsx)(Q,{errors:d.Product,touched:i.Product,values:a.Product,products:n})}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,h.jsx)(V,{errors:d.revision_number,touched:i.revision_number,className:(null===(t=a.Product)||void 0===t||null===(r=t.Drawings)||void 0===r?void 0:r.some(e=>e.revision_number===(null===a||void 0===a?void 0:a.revision_number)))&&"bg-emerald-100",name:"revision_number",label:"Drawing Revision Number",placeholder:"Drawing Revision Number"}),(0,h.jsx)(Z,{errors:d.delivery_date,touched:i.delivery_date,name:"delivery_date",label:"PO Delivery Date",placeholder:"PO Delivery Date"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,h.jsx)(o.eI,{className:"mb-4",label:"GST Type",touched:i.gst_type,errors:d.gst_type,children:(0,h.jsx)(l.D0,{name:"gst_type",children:e=>{let{field:t,form:r}=e;return(0,h.jsx)(o.l6,{field:t,form:r,options:x,value:x.filter(e=>(null===e||void 0===e?void 0:e.value)===(null===a||void 0===a?void 0:a.gst_type)),onChange:e=>r.setFieldValue(t.name,e.value)})}})}),(0,h.jsx)(V,{touched:i.gst,errors:d.gst,type:"number",name:"gst",label:"GST(%)",placeholder:"GST %",Product:a.Product}),(0,h.jsx)(V,{touched:i.price,errors:d.price,name:"price",label:"Price",placeholder:"Price",Product:a.gst}),(0,h.jsx)(V,{errors:d.quantity,touched:i.quantity,name:"quantity",type:"number",placeholder:"Quantity",label:"Quantity"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,h.jsx)(o.eI,{className:"mb-4",label:"Amount",children:(0,h.jsx)(l.D0,{disabled:!0,type:"text",autoComplete:"off",placeholder:"Net Amount",prefix:s,value:c||0,component:o.pd})}),(0,h.jsx)(o.eI,{className:"mb-4",label:"Remarks",children:(0,h.jsx)(l.D0,{type:"text",autoComplete:"off",name:"remarks",placeholder:"Remarks",component:o.pd})})]})]}),(0,h.jsxs)("div",{className:"flex justify-end px-5 py-2 bg-gray-100 gap-2 rounded-bl-lg rounded-br-lg",children:[(0,h.jsx)(o.$n,{size:"sm",type:"button",variant:"",children:"Discard"}),(0,h.jsx)(o.$n,{size:"sm",variant:"solid",children:"edit"===u?"Update Item":"Add Item"})]})]})})}})})});J.defaultProps={initialData:{delivery_date:null,revision_number:"",quantity:"",Product:null,gst_type:"",gst:"",price:"",remarks:""}};const W=J;var ee=r(99149),te=r(87106),re=!1;const ae=c.Ik().shape({Customer:c.Ik().required("Required"),number:c.Yj().required("Required").test("isPOExist","PO Number Already Exists",function(e){return!re||this.createError({message:"PO Number Already Exists"})}),date:c.p6().required("Required"),currency_type:c.Yj().required("Required")}),oe=(0,a.forwardRef)((e,t)=>{const{initialData:r,onFormSubmit:n,onDiscard:c,customers:p=[],categories:y=[],productsData:g=[],type:x}=e,f=(0,m.wA)(),[b,j]=(0,a.useState)(null),[D,w]=(0,a.useState)([]),[N,P]=(0,a.useState)(()=>"edit"===x&&r&&r.PurchaseOrderLists?r.PurchaseOrderLists:[]);console.log(r),(0,a.useEffect)(()=>{"edit"===x&&r&&r.PurchaseOrderLists&&P(r.PurchaseOrderLists)},[x,r]);const[I,_]=(0,a.useState)({}),[A,R]=(0,a.useState)(!1),F=()=>{f("edit"===x?(0,B.bE)(!0):(0,S.Rp)(!0))},E=e=>{P(A?t=>t.map(t=>{var r;return t.Product.product_id===(null===(r=e.Product)||void 0===r?void 0:r.product_id)?{...t,...e,delivery_date:new Date(t.delivery_date)}:t}):t=>[...t,e]),_({}),R(!1)},T=e=>{let t=[...N];-1===t.indexOf(e)&&(t.splice(e,1),P(t))},O=e=>{f("edit"===x?(0,B.bE)(!0):(0,S.Rp)(!0)),_(e),R(!0)};(0,a.useEffect)(()=>{(async()=>{var e;const t=await(0,ee.Hx)({category_id:b});w(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.data)})()},[b]);const z=(0,u.debounce)(async e=>{try{200===(await(0,te.xO)({number:e.target.value})).status&&(re=!1)}catch(t){re=!0}},500);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l.l1,{enableReinitialize:!0,innerRef:t,initialValues:{...r},validationSchema:ae,onSubmit:(e,t)=>{let{setSubmitting:r}=t;const a=i()({...e,items:[...N]});if(0===N.length)return r(!1),o.y8.push((0,h.jsx)(o.Eg,{title:"Required",type:"danger",duration:2500,children:"PO List Required"}),{placement:"top-center"});null===n||void 0===n||n(a,r)},children:e=>{let{values:t,touched:r,errors:a,isSubmitting:n,handleChange:i,setFieldError:u}=e;return t.category_id!==b&&"edit"!==x&&j(t.category_id),(0,h.jsx)(l.lV,{children:(0,h.jsxs)(o.MG,{children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,h.jsx)("div",{className:"lg:col-span-1",children:(0,h.jsx)(o.Zp,{className:"bg-gray-50",children:(0,h.jsx)(v,{touched:r.Customer,errors:a.Customer,values:t.Customer,customers:p})})}),(0,h.jsx)("div",{className:"lg:col-span-1",children:(0,h.jsxs)(o.Zp,{className:"bg-green-50",children:[(0,h.jsx)("h5",{children:"Purchase Order Information"}),(0,h.jsx)("p",{className:"mb-4",children:"Section to config PO information"}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,h.jsx)(M,{errors:a.currency_type,touched:r.currency_type,values:t.category_id,categories:y,type:x}),(0,h.jsx)(k,{errors:a.date,touched:r.date}),(0,h.jsx)(q,{errors:a.number,touched:r.number,debouncedHandleCheck:z,isPOExist:re,values:t.number,handleChange:i,setFieldError:u,type:x}),(0,h.jsx)(G,{errors:a.currency_type,touched:r.currency_type,values:t.currency_type})]})]})}),(0,h.jsx)("div",{className:"lg:col-span-2",children:(0,h.jsxs)(o.Zp,{className:"h-max bg-pink-50",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-5",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h5",{children:"Purchase Order List"}),(0,h.jsx)("p",{children:"Section to config list information"})]}),(0,h.jsx)(o.$n,{size:"sm",variant:"solid",type:"button",onClick:F,children:"Add Item"})]}),(0,h.jsx)(C,{currency:t.currency_type,products:D,data:N,category:b,onRemoveItem:T,onEditItem:O}),(0,h.jsx)(W,{handleOnAddItem:E,currency_type:t.currency_type,products:"edit"===x?g:D,initialData:A?{...I,delivery_date:new Date(I.delivery_date)}:{},type:A?"edit":"new",mode:x,setItem:_,setType:R})]})})]}),(0,h.jsxs)(s.NG,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,h.jsxs)("h5",{className:"flex gap-1 items-center text-gray-600",children:["Total ",(0,h.jsx)("h4",{className:"text-blue-500",children:N.length})," ",1===N.length?"item":"items"," in list"]}),(0,h.jsxs)("div",{className:"md:flex items-center",children:[(0,h.jsx)(o.$n,{size:"sm",className:"mr-3",onClick:()=>null===c||void 0===c?void 0:c(),type:"button",children:"Discard"}),(0,h.jsx)(o.$n,{size:"sm",variant:"solid",loading:n,icon:(0,h.jsx)(d.kuV,{}),type:"submit",children:"edit"===x?"Update":"Save"})]})]})]})})}})})});oe.defaultProps={type:"new",initialData:{purchase_order_id:"",date:new Date,number:"",Customer:null,currency_type:"INR",category_id:""}};const se=oe},81187:(e,t,r)=>{r.d(t,{HZ:()=>s,cu:()=>l,ei:()=>n,yU:()=>o});var a=r(43971);async function o(e){return a.A.fetchData({url:"v1/web/company/product/category",method:"post",data:e})}async function s(e){return a.A.fetchData({url:"v1/web/company/product/category/register",method:"post",data:e})}async function l(e){return a.A.fetchData({url:"v1/web/company/product/category/update",method:"put",data:e})}async function n(e){return a.A.fetchData({url:"v1/web/company/product/category/delete",method:"delete",data:e})}},87106:(e,t,r)=>{r.d(t,{DI:()=>o,Ju:()=>s,Tr:()=>l,xO:()=>n});var a=r(43971);async function o(e){return a.A.fetchData({url:"v1/web/company/purchase/order/id",method:"post",data:e})}async function s(e){return a.A.fetchData({url:"v1/web/company/purchase/order/status",method:"post",data:e})}async function l(e){return a.A.fetchData({url:"v1/web/company/purchase/order/delete/id",method:"delete",data:e})}async function n(e){return a.A.fetchData({url:"v1/web/company/purchase/order/check/number",method:"post",data:e})}},89445:(e,t,r)=>{r.d(t,{Ay:()=>u,QU:()=>c,Rf:()=>n,V5:()=>d,ao:()=>i});var a=r(80907),o=r(90642),s=r(81187),l=r(9696);const n=(0,a.zD)("new/po/data/customer/all",async()=>{try{return await(0,o.ZS)()}catch(e){return null===e||void 0===e?void 0:e.response}}),i=(0,a.zD)("new/po/data/product/all",async e=>{try{return await(0,l.Cb)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),d=(0,a.zD)("new/po/data/po/register",async e=>{try{return await(0,l.GK)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),c=(0,a.zD)("new/po/data/po/category/all",async e=>{try{return await(0,s.yU)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),u=(0,a.Z0)({name:"new/po/data",initialState:{customers:[],products:[],categoryList:[]},extraReducers:{[n.fulfilled]:(e,t)=>{var r;e.customers=(null===(r=t.payload.data)||void 0===r?void 0:r.data)||[]},[d.fulfilled]:e=>{},[i.fulfilled]:(e,t)=>{var r;e.products=(null===(r=t.payload.data)||void 0===r?void 0:r.data)||[]},[c.fulfilled]:(e,t)=>{var r,a;e.categoryList=(null===(r=t.payload)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.data)||[]}}}).reducer},90642:(e,t,r)=>{r.d(t,{Ai:()=>i,Kz:()=>d,Wm:()=>u,ZS:()=>l,aQ:()=>m,eB:()=>n,jz:()=>o,k7:()=>s,lC:()=>c});var a=r(43971);async function o(){return a.A.fetchData({url:"v1/web/company/customer/statistic",method:"get"})}async function s(e){return a.A.fetchData({url:"v1/web/company/customer/update",method:"put",data:e})}async function l(e){return a.A.fetchData({url:"v1/web/company/customer/select",method:"get"})}async function n(e){return a.A.fetchData({url:"v1/web/company/customer/register",method:"post",data:e})}async function i(e){return a.A.fetchData({url:"v1/web/company/customer/update/id",method:"put",data:e})}async function d(e){return a.A.fetchData({url:"v1/web/company/customer",method:"post",data:e})}async function c(e){return a.A.fetchData({url:"v1/web/company/customer/details/id",method:"post",data:e})}async function u(){return a.A.fetchData({url:"v1/web/company/customer/option",method:"get"})}async function m(e){return a.A.fetchData({url:"v1/web/company/customer/delete/id",method:"delete",data:e})}},99149:(e,t,r)=>{r.d(t,{Hx:()=>u,PD:()=>o,RU:()=>p,Sy:()=>s,dD:()=>i,ik:()=>l,j4:()=>d,jD:()=>n,qT:()=>c,th:()=>m});var a=r(43971);async function o(e){return a.A.fetchData({url:"v1/web/company/product/code/check",method:"post",data:e})}async function s(e){return a.A.fetchData({url:"v1/web/company/product",method:"post",data:e})}async function l(e){return a.A.fetchData({url:"v1/web/company/product/register",method:"post",data:e})}async function n(e){return a.A.fetchData({url:"v1/web/company/product/update/id",method:"put",data:e})}async function i(e){return a.A.fetchData({url:"v1/web/company/product/delete/id",method:"delete",data:e})}async function d(e){return a.A.fetchData({url:"v1/web/company/product/details/id",method:"post",data:e})}async function c(e){return a.A.fetchData({url:"v1/web/company/product/drawing/select",method:"get"})}async function u(e){return a.A.fetchData({url:"v1/web/company/product/category/id",method:"post",data:e})}async function m(){return a.A.fetchData({url:"v1/web/company/product/itemCode/option",method:"get"})}async function p(e){return a.A.fetchData({url:"v1/web/company/product/option",method:"post",data:e})}}}]);
//# sourceMappingURL=5702.24c6af87.chunk.js.map