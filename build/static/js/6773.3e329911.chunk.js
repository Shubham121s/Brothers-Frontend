(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[6773],{4757:(e,t,a)=>{var s=a(56552);e.exports=function(){return s.Date.now()}},7442:(e,t,a)=>{"use strict";a.d(t,{AM:()=>r,Bh:()=>l,FE:()=>o,I$:()=>d,XG:()=>n,d:()=>u,dJ:()=>i,fy:()=>c});var s=a(43971);async function l(e){return s.A.fetchData({url:"v1/web/company/user",method:"post",data:e})}async function r(e){return s.A.fetchData({url:"v1/web/company/user/get/password",method:"post",data:e})}async function n(e){return s.A.fetchData({url:"v1/web/company/user/register",method:"post",data:e})}async function o(e){return s.A.fetchData({url:"v1/web/company/user/update/id",method:"put",data:e})}async function i(e){return s.A.fetchData({url:"v1/web/company/user/delete/id",method:"delete",data:e})}async function d(e){return s.A.fetchData({url:"v1/web/company/user/update/password",method:"put",data:e})}async function c(e){return s.A.fetchData({url:"v1/web/company/module/detail",method:"post",data:e})}async function u(e){return s.A.fetchData({url:"v1/web/company/module/detail/update",method:"put",data:e})}},10143:e=>{var t=/\s/;e.exports=function(e){for(var a=e.length;a--&&t.test(e.charAt(a)););return a}},26697:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Re});var s=a(65043),l=a(24603),r=a(50805),n=a(80907),o=a(7442);const i=(0,n.zD)("user/data/getUsers",async e=>{try{return await(0,o.Bh)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),d=(0,n.zD)("user/data/new",async e=>{try{return await(0,o.XG)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),c=(0,n.zD)("user/data/update",async e=>{try{return await(0,o.FE)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),u=(0,n.zD)("user/data/forms",async e=>{try{return await(0,o.fy)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),m=(0,n.zD)("user/data/forms/detail",async e=>{try{return await(0,o.d)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),p=(0,n.Z0)({name:"user/data",initialState:{loading:!1,formloading:!1,userList:[],formList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:""},filterData:{type:""},tableFormData:{total:0,pageIndex:1,pageSize:10,query:""}},reducers:{setTableData:(e,t)=>{e.tableData=t.payload},setFormTableData:(e,t)=>{e.tableFormData=t.payload},setUserList:(e,t)=>{e.userList=t.payload},setFilterData:(e,t)=>{e.filterData=t.payload},setShowInMenu:(e,t)=>{e.formList=e.formList.map(e=>e.module_id===t.payload.module_id?{...e,show_in_menu:t.payload.status}:e)}},extraReducers:{[i.fulfilled]:(e,t)=>{var a,s;e.userList=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[],e.tableData.total=null===(s=t.payload.data)||void 0===s?void 0:s.total,e.loading=!1},[i.pending]:e=>{e.loading=!0},[u.fulfilled]:(e,t)=>{var a,s;e.formList=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[],e.tableFormData.total=null===(s=t.payload.data)||void 0===s?void 0:s.total,e.formloading=!1},[u.pending]:e=>{e.formloading=!0},[d.fulfilled]:e=>{},[c.fulfilled]:(e,t)=>{e.userList=e.userList.map(e=>e.user_id===t.meta.arg.user_id?{...e,...t.meta.arg}:e)},[m.pending]:e=>{}}}),{setTableData:g,setUserList:v,setFilterData:h,setFormTableData:x,setShowInMenu:f}=p.actions,y=p.reducer,j=(0,n.Z0)({name:"user/state",initialState:{newUserDialog:!1,deleteUserDialog:!1,editUserDialog:!1,formAssignDialog:!1,passwordDialog:!1,selectedUser:{}},reducers:{toggleNewUserDialog:(e,t)=>{e.newUserDialog=t.payload},toggleDeleteUserDialog:(e,t)=>{e.deleteUserDialog=t.payload},toggleEditUserDialog:(e,t)=>{e.editUserDialog=t.payload},toggleFormAssignDialog:(e,t)=>{e.formAssignDialog=t.payload},togglePasswordDialog:(e,t)=>{e.passwordDialog=t.payload},setSelectedUser:(e,t)=>{e.selectedUser=t.payload}}}),{toggleNewUserDialog:b,setSelectedUser:w,toggleEditUserDialog:C,toggleDeleteUserDialog:D,toggleFormAssignDialog:S,togglePasswordDialog:A}=j.actions,N=j.reducer,I=(0,r.HY)({data:y,state:N});var z=a(49934),k=a(79456),U=a(23533),T=a(60446),R=a.n(T),M=a(56434),q=a.n(M),E=a(88705),_=a(93751),F=a(63516),P=a(41434),$=a(80899),B=a(27176),K=a(70579);const L=[{label:"Active",value:!0},{label:"In-Active",value:!1}],H=[{value:"super-admin",label:"Super Admin",color:"bg-indigo-500"},{value:"admin",label:"Admin",color:"bg-indigo-500"},{value:"sub-admin",label:"Sub Admin",color:"bg-indigo-500"},{value:"executive",label:"Executive",color:"bg-green-500"}],Y=$.Ik().shape({name:$.Yj().required("Required"),status:$.zM().required("Required"),type:$.Yj().required("Required"),mobile:$.ai().required("Required")}),G=$.Ik().shape({name:$.Yj().required("Required"),status:$.zM().required("Required"),type:$.Yj().required("Required"),mobile:$.ai().required("Required"),password:$.Yj().required("Required")}),O=(0,s.forwardRef)((e,t)=>{const{type:a,initialData:s,onFormSubmit:l,onDiscard:r}=e;return(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(F.l1,{innerRef:t,initialValues:{...s},validationSchema:"new"===a?G:Y,onSubmit:(e,t)=>{let{setSubmitting:a}=t;const s=q()(e);null===l||void 0===l||l(s,a)},children:e=>{let{values:t,touched:s,errors:l,isSubmitting:n}=e;return(0,K.jsx)(F.lV,{children:(0,K.jsxs)(z.MG,{children:[(0,K.jsxs)("div",{children:[(0,K.jsxs)("h4",{children:["edit"===a&&"Update"," User Information"]}),(0,K.jsx)("p",{className:"mb-6",children:"Section to config basic user information"}),(0,K.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,K.jsx)(z.eI,{className:"mb-4",label:"Name",invalid:l.name&&s.name,errorMessage:l.name,children:(0,K.jsx)(F.D0,{type:"text",autoComplete:"off",name:"name",placeholder:"Name",component:z.pd})}),(0,K.jsx)(z.eI,{className:"mb-4",label:"Status",invalid:l.status&&s.status,errorMessage:l.status,children:(0,K.jsx)(F.D0,{name:"status",children:e=>{let{field:a,form:s}=e;return(0,K.jsx)(z.l6,{field:a,form:s,options:L,value:L.filter(e=>e.value===t.status),onChange:e=>s.setFieldValue(a.name,e.value)})}})}),(0,K.jsx)(z.eI,{className:"mb-4",label:"Type",invalid:l.type&&s.type,errorMessage:l.type,children:(0,K.jsx)(F.D0,{name:"type",children:e=>{let{field:a,form:s}=e;return(0,K.jsx)(z.l6,{field:a,form:s,options:H,value:H.filter(e=>e.value===t.type),onChange:e=>s.setFieldValue(a.name,e.value)})}})}),(0,K.jsx)(z.eI,{className:"mb-4",label:"Mobile",invalid:l.mobile&&s.mobile,errorMessage:l.mobile,children:(0,K.jsx)(F.D0,{type:"text",autoComplete:"off",name:"mobile",placeholder:"Mobile",component:z.pd})}),(0,K.jsx)(z.eI,{className:"mb-4",label:"Email",children:(0,K.jsx)(F.D0,{type:"text",autoComplete:"off",name:"email",placeholder:"Email",component:z.pd})}),"edit"!==a&&(0,K.jsx)(z.eI,{className:"mb-4",label:"Password",invalid:l.password&&s.password,errorMessage:l.password,children:(0,K.jsx)(F.D0,{type:"text",autoComplete:"off",name:"password",placeholder:"Password",component:B.yA})})]})]}),(0,K.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,K.jsx)(z.$n,{size:"sm",onClick:()=>null===r||void 0===r?void 0:r(),type:"button",children:"Discard"}),(0,K.jsx)(z.$n,{size:"sm",variant:"solid",loading:n,icon:(0,K.jsx)(P.kuV,{className:"mr-1"}),type:"submit",children:"edit"===a?"Update":"Save"})]})]})})}})})});O.defaultProps={type:"edit",initialData:{id:"",name:"",status:"",type:"",mobile:"",email:"",password:""}};const V=O,X=()=>{const e=(0,k.wA)(),t=(0,k.d4)(e=>e.user.state.editUserDialog),a=(0,k.d4)(e=>e.user.state.selectedUser),s=()=>{e(C(!1))};return(0,K.jsx)(z.lG,{isOpen:t,onClose:s,onRequestClose:s,children:(0,K.jsx)(V,{type:"edit",onFormSubmit:async(t,a)=>{a(!0);const l=await e(c(t));a(!1),l.payload.status<300&&(z.y8.push((0,K.jsx)(z.Eg,{title:"Successfully updated",type:"success",duration:2500,children:"User successfully updated"}),{placement:"top-center"}),s())},onDiscard:s,initialData:a})})},W=()=>{const[e,t]=(0,s.useState)(!1),a=(0,k.wA)(),l=(0,k.d4)(e=>e.user.state.selectedUser),r=(0,k.d4)(e=>e.user.state.deleteUserDialog),n=(0,k.d4)(e=>e.user.data.tableData),d=()=>{a(D(!1))},c=e=>{e&&(d(),a(i(n)),z.y8.push((0,K.jsx)(z.Eg,{title:"Successfully Deleted",type:"success",duration:2500,children:"User successfully deleted"}),{placement:"top-center"}))};return(0,K.jsx)(B.TM,{isOpen:r,onClose:d,onRequestClose:d,type:"danger",title:"Delete User",onCancel:d,onConfirm:async()=>{t(!0);try{var e;null!==(e=(await(0,o.dJ)({user_id:l.user_id})).data)&&void 0!==e&&e.success&&c(!0)}catch(a){z.y8.push((0,K.jsx)(z.Eg,{title:"Error",type:"danger",duration:2500,children:"User Not deleted"}),{placement:"top-center"})}t(!1)},confirmText:e?"Deleting":"Confirm",confirmButtonColor:"red-600",children:(0,K.jsx)("p",{children:"Are you sure you want to delete this user? This action cannot be undone."})})};var Z=a(85369),J=a(58931),Q=a(47111);const{Tr:ee,Th:te,Td:ae,THead:se,TBody:le}=z.XI,re=(e,t,a)=>z.y8.push((0,K.jsx)(z.Eg,{title:a,type:t,duration:2500,children:e}),{placement:"top-center"}),ne=e=>{let{row:t}=e;const{textTheme:a}=(0,U.A)(),s=(0,k.wA)();return(0,K.jsx)("div",{className:"flex justify-center gap-x-4",children:(0,K.jsx)(z.ij,{checked:t.show_in_menu,color:"green-500",onChange:e=>{s(f({module_id:t.module_id,status:!e}))}})})},oe=[{header:"Name",accessorKey:"Module",cell:e=>{var t;const a=null===(t=e.row)||void 0===t?void 0:t.original;return(0,K.jsx)("div",{className:"",children:null===a||void 0===a?void 0:a.title})}},{header:"Show in menu",accessorKey:"id",cell:e=>{var t;const a=null===(t=e.row)||void 0===t?void 0:t.original;return(0,K.jsx)(ne,{row:a})}}],ie=()=>{const e=(0,k.wA)(),[t,a]=(0,s.useState)(!1),l=(0,k.d4)(e=>e.user.state.formAssignDialog),r=(0,k.d4)(e=>e.user.state.selectedUser),n=()=>{e(S(!1))},o=(0,k.d4)(e=>e.user.data.formList),{pageIndex:i,pageSize:d,query:c,total:p}=((0,k.d4)(e=>e.user.data.formloading),(0,k.d4)(e=>e.user.data.tableFormData)),g=(0,s.useCallback)(()=>{l&&e(u({user_id:r.user_id}))},[e,l]);(0,s.useEffect)(()=>{g()},[g,l]);const v=(0,J.N4)({data:o,columns:oe,getCoreRowModel:(0,Q.HT)()});return(0,K.jsxs)(z.lG,{isOpen:l,onClose:n,onRequestClose:n,children:[(0,K.jsx)("h5",{className:"mb-4",children:"Form Assign"}),(0,K.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:(0,K.jsxs)(z.XI,{className:"relative",compact:!0,children:[(0,K.jsx)(se,{className:"sticky",style:{top:"-.2px"},children:v.getHeaderGroups().map(e=>(0,K.jsx)(ee,{children:e.headers.map(e=>(0,K.jsx)(te,{style:{textAlign:"center",border:".2px dashed lightGray"},colSpan:e.colSpan,children:(0,J.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,K.jsx)(le,{children:v.getRowModel().rows.map(e=>{const{list_status:t}=e.original;return(0,K.jsx)(ee,{className:"",children:e.getVisibleCells().map(e=>(0,K.jsx)(ae,{style:{textAlign:"center",border:".2px dashed lightGray"},children:(0,J.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)})})]})}),(0,K.jsxs)("div",{className:"flex gap-2 justify-end mt-4",children:[(0,K.jsx)(z.$n,{size:"sm",onClick:n,type:"button",children:"Discard"}),(0,K.jsx)(z.$n,{size:"sm",variant:"solid",loading:t,onClick:async t=>{var s;a(!0);const l=await e(m({formList:o,user_id:r.user_id}));return a(!1),null!==l&&void 0!==l&&null!==(s=l.payload.data)&&void 0!==s&&s.success?(re("Success","success","Successfully added"),n()):re("Error","danger","Unsuccessfully")},children:"Save"})]})]})};var de=a(86111),ce=a.n(de),ue=a(16859),me=a(1009);const pe=(e,t,a)=>z.y8.push((0,K.jsx)(z.Eg,{title:a,type:t,duration:2500,children:e}),{placement:"top-center"}),ge=()=>{const e=(0,k.wA)(),{user_id:t}=(0,k.d4)(e=>e.auth.user),[a,l]=(0,s.useState)(""),[r,n]=(0,s.useState)(""),[d,c]=(0,s.useState)(!1),u=(0,k.d4)(e=>e.user.state.passwordDialog),m=(0,k.d4)(e=>e.user.state.selectedUser),p=(0,k.d4)(e=>e.user.data.tableData),g=()=>{e(A(!1))};(0,s.useEffect)(()=>{u?(n(""),v()):(n(""),l(""))},[u]);const v=async()=>{try{var e;const t=await(0,o.AM)({userId:m.user_id});if((null===t||void 0===t?void 0:t.status)<300&&null!==t&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.data){const e=t.data.data;if(null!==e&&void 0!==e&&e.password){const t=(e=>{try{return ce().AES.decrypt(e,ue.rB).toString(ce().enc.Utf8)}catch(t){return"Unable to decrypt password"}})(e.password);n(t)}}}catch(t){console.error("Error fetching user password:",t)}};return(0,K.jsxs)(B.TM,{isOpen:u,onClose:g,onRequestClose:g,type:"success",title:"Change Passworsd",onCancel:g,onConfirm:async()=>{var t,s,l;const r=await(0,o.I$)({password:a,user_id:m.user_id});var n,d;return null!==r&&void 0!==r&&null!==(t=r.data)&&void 0!==t&&t.success?(e(i(p)),pe(null===r||void 0===r||null===(n=r.payload)||void 0===n||null===(d=n.data)||void 0===d?void 0:d.message,"success","Successfully added"),g()):pe(null===r||void 0===r||null===(s=r.payload)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message,"danger","Unsuccessfully")},confirmText:"Save",confirmButtonColor:"purple-600",width:450,showFooter:!!a,children:[r&&(0,K.jsxs)("div",{className:"text-sm text-gray-600 mb-2 mt-4 relative",children:[(0,K.jsx)("label",{htmlFor:"current-password",className:"block mb-1 font-medium text-gray-700"}),(0,K.jsx)("input",{id:"current-password",type:d?"text":"password",value:r,readOnly:!0,className:"w-full border border-gray-300 rounded px-3 py-3 text-sm focus:outline-none focus:ring focus:ring-purple-200",onFocus:e=>e.target.select(),style:{width:"300px"}}),(0,K.jsx)("button",{type:"button",className:"text-xs text-gray-600 absolute right-2 top-1/2 transform -translate-y-1/2",onClick:()=>c(!d),children:d?(0,K.jsx)(me.Vap,{size:18}):(0,K.jsx)(me._NO,{size:18})})]}),(0,K.jsx)(B.yA,{className:"mt-4",placeholder:"New Password",style:{width:"300px"},onChange:e=>{l(e.target.value)}})]})};var ve=a(27149);const he={true:{label:"Active",dotClass:"bg-emerald-500",textClass:"text-emerald-500"},false:{label:"In-Active",dotClass:"bg-red-500",textClass:"text-red-500"}},xe={"super-admin":{label:"Super Admin",bgClass:"bg-emerald-100",textClass:"text-emerald-600"},"sub-admin":{label:"Sub Admin",bgClass:"bg-orange-100",textClass:"text-orange-600"},admin:{label:"Admin",bgClass:"bg-purple-100",textClass:"text-purple-600"},executive:{label:"Executive",bgClass:"bg-yellow-100",textClass:"text-yellow-600"}},fe=e=>{let{row:t}=e;const a=(0,k.d4)(e=>e.auth.user.authority),{textTheme:s}=(0,U.A)(),l=(0,k.wA)();return(0,K.jsxs)("div",{className:"flex justify-end text-lg gap-x-4",children:[(0,K.jsx)("span",{className:`cursor-pointer hover:${s}`,onClick:()=>{l(C(!0)),l(w(t))},children:(0,K.jsx)(_.VUG,{})}),(0,K.jsx)("span",{className:"cursor-pointer hover:text-red-500",onClick:()=>{l(D(!0)),l(w(t))},children:(0,K.jsx)(_.yRo,{})}),a.includes("super-admin")&&(0,K.jsx)("span",{className:"cursor-pointer hover:text-pink-500",onClick:()=>{l(A(!0)),l(w(t))},children:(0,K.jsx)(ve.H_5,{})}),a.includes("super-admin")&&(0,K.jsx)("span",{className:"cursor-pointer hover:text-purple-500",onClick:()=>{l(S(!0)),l(w(t))},children:(0,K.jsx)(Z.toK,{})})]})},ye=[{header:"Name",accessorKey:"name",cell:e=>{var t;const a=null===(t=e.row)||void 0===t?void 0:t.original;return(0,K.jsx)("div",{className:"uppercase",children:null===a||void 0===a?void 0:a.name})}},{header:"Email",accessorKey:"email",cell:e=>{var t;const a=null===(t=e.row)||void 0===t?void 0:t.original;return(0,K.jsx)("div",{children:null===a||void 0===a?void 0:a.email})}},{header:"mobile",accessorKey:"mobile"},{header:"Status",accessorKey:"status",cell:e=>{var t,a,s,l;const r=null===(t=e.row)||void 0===t?void 0:t.original;return(0,K.jsxs)("div",{className:"flex items-center",children:[(0,K.jsx)(z.Ex,{className:null===(a=he[null===r||void 0===r?void 0:r.status])||void 0===a?void 0:a.dotClass}),(0,K.jsx)("span",{className:`ml-2 font-semibold capitalize ${null===(s=he[null===r||void 0===r?void 0:r.status])||void 0===s?void 0:s.textClass}`,children:null===(l=he[null===r||void 0===r?void 0:r.status])||void 0===l?void 0:l.label})]})}},{header:"Type",accessorKey:"type",cell:e=>{var t,a,s,l;const r=null===(t=e.row)||void 0===t?void 0:t.original;return(0,K.jsx)("div",{children:(0,K.jsx)(z.vw,{className:`${null===(a=xe[null===r||void 0===r?void 0:r.type])||void 0===a?void 0:a.bgClass} ${null===(s=xe[null===r||void 0===r?void 0:r.type])||void 0===s?void 0:s.textClass} border-0`,children:null===(l=xe[null===r||void 0===r?void 0:r.type])||void 0===l?void 0:l.label})})}},{header:"Reg. Date",accessorKey:"lastOnline",cell:e=>{var t;const a=null===(t=e.row)||void 0===t?void 0:t.original;return(0,K.jsx)("div",{className:"flex items-center",children:R()(null===a||void 0===a?void 0:a.createdAt).format("MM/DD/YYYY")})}},{header:"",accessorKey:"id",cell:e=>{var t;const a=null===(t=e.row)||void 0===t?void 0:t.original;return(0,K.jsx)(fe,{row:a})}}],je=()=>{const e=(0,k.wA)(),t=(0,k.d4)(e=>e.user.data.userList),a=(0,k.d4)(e=>e.user.data.loading),{type:l}=(0,k.d4)(e=>e.user.data.filterData),{pageIndex:r,pageSize:n,query:o,total:d}=(0,k.d4)(e=>e.user.data.tableData),c=(0,s.useCallback)(()=>{e(i({pageIndex:r,pageSize:n,query:o,type:l}))},[r,n,o,l,e]);(0,s.useEffect)(()=>{c()},[c,r,n,l]);const u=(0,s.useMemo)(()=>({pageIndex:r,pageSize:n,query:o,total:d}),[r,n,o,d]),{user_id:m}=(0,k.d4)(e=>e.auth.user);return t.filter(e=>e.user_id!=m),(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(E.A,{columns:ye,data:t,loading:a,pagingData:{pageIndex:r,pageSize:n,query:o,total:d},onPaginationChange:t=>{const a=q()(u);a.pageIndex=t,e(g(a))},onSelectChange:t=>{const a=q()(u);a.pageSize=Number(t),a.pageIndex=1,e(g(a))}}),(0,K.jsx)(X,{}),(0,K.jsx)(W,{}),(0,K.jsx)(ie,{}),(0,K.jsx)(ge,{})]})};var be=a(72234);const{Control:we}=be.c,Ce=[{value:"",label:"All",color:"bg-gray-500"},{value:"super-admin",label:"Super Admin",color:"bg-emerald-500"},{value:"executive",label:"Executive",color:"bg-yellow-500"}],De=e=>{let{innerProps:t,label:a,data:s,isSelected:l}=e;return(0,K.jsxs)("div",{className:"flex items-center justify-between p-2 cursor-pointer "+(l?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600"),...t,children:[(0,K.jsxs)("div",{className:"flex items-center gap-2",children:[(0,K.jsx)(z.Ex,{innerClass:s.color}),(0,K.jsx)("span",{children:a})]}),l&&(0,K.jsx)(_.q9z,{className:"text-emerald-500 text-xl"})]})},Se=e=>{let{children:t,...a}=e;const s=a.getValue()[0];return(0,K.jsxs)(we,{...a,children:[s&&(0,K.jsx)(z.Ex,{className:"ltr:ml-4 rtl:mr-4",innerClass:s.color}),t]})},Ae=()=>{const e=(0,k.wA)(),{type:t}=(0,k.d4)(e=>e.user.data.filterData);return(0,K.jsx)(z.l6,{options:Ce,size:"sm",className:"min-w-[130px]",onChange:t=>{e(h({type:t.value}))},components:{Option:De,Control:Se},value:Ce.filter(e=>e.value===t)})};var Ne=a(93950),Ie=a.n(Ne);const ze=(0,s.forwardRef)((e,t)=>{const{onInputChange:a}=e,s=Ie()(function(e){null===a||void 0===a||a(e)},500);return(0,K.jsx)(z.pd,{ref:t,className:"max-w-md md:w-52",size:"sm",placeholder:"Search",prefix:(0,K.jsx)(_.oF9,{className:"text-lg"}),onChange:e=>{s(e.target.value)}})}),ke=()=>{const e=(0,k.wA)(),t=(0,s.useRef)(),a=(0,k.d4)(e=>e.user.data.tableData),l=t=>{e(g(t)),e(i(t))};return(0,K.jsxs)("div",{className:"md:flex items-center justify-end gap-2 mb-4",children:[(0,K.jsx)(ze,{ref:t,onInputChange:e=>{const t=q()(a);t.query=e,t.pageIndex=1,"string"===typeof e&&e.length>1&&l(t),"string"===typeof e&&0===e.length&&l(t)}}),(0,K.jsx)(Ae,{}),(0,K.jsx)(z.$n,{size:"sm",onClick:()=>{const s=q()(a);s.query="",t.current.value="",e(h({type:""})),l(s)},children:"Clear All"}),(0,K.jsx)(z.$n,{size:"sm",variant:"solid",onClick:()=>{e(b(!0))},children:"Add User"})]})},Ue=(e,t,a)=>z.y8.push((0,K.jsx)(z.Eg,{title:a,type:t,duration:2500,children:e}),{placement:"top-center"}),Te=()=>{const e=(0,k.wA)(),t=(0,k.d4)(e=>e.user.state.newUserDialog),a=(0,k.d4)(e=>e.user.data.tableData),s=()=>{e(b(!1))};return(0,K.jsx)(z.lG,{isOpen:t,onClose:s,onRequestClose:s,children:(0,K.jsx)(V,{type:"new",onFormSubmit:async(t,l)=>{var r,n,o;l(!0);const c=await e(d(t));var u,m;return l(!1),null!==c&&void 0!==c&&null!==(r=c.payload.data)&&void 0!==r&&r.success?(e(i(a)),Ue(null===c||void 0===c||null===(u=c.payload)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message,"success","Successfully added"),s()):Ue(null===c||void 0===c||null===(n=c.payload)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message,"danger","Unsuccessfully")},onDiscard:s})})};(0,l.Mh)("user",I);const Re=()=>(0,K.jsxs)("div",{children:[(0,K.jsxs)(z.Zp,{className:"bg-gray-50",children:[(0,K.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,K.jsx)("h3",{children:"Users"}),(0,K.jsx)(ke,{})]}),(0,K.jsx)(je,{})]}),(0,K.jsx)(Te,{})]})},40801:(e,t,a)=>{var s=a(61141),l=a(46686),r=a(19841),n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(l(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=l(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var a=o.test(e);return a||i.test(e)?d(e.slice(2),a?2:8):n.test(e)?NaN:+e}},50477:()=>{},61141:(e,t,a)=>{var s=a(10143),l=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(l,""):e}},88705:(e,t,a)=>{"use strict";a.d(t,{A:()=>C});var s=a(65043),l=a(98139),r=a.n(l),n=a(49934),o=a(70579);const{Tr:i,Td:d,TBody:c}=n.XI,u=e=>{const{columns:t,rows:a,avatarInColumns:s,avatarProps:l}=e;return(0,o.jsx)(c,{children:Array.from(new Array(a),(e,t)=>t+0).map(e=>(0,o.jsx)(i,{children:Array.from(new Array(t),(e,t)=>t+0).map(e=>(0,o.jsx)(d,{children:(0,o.jsxs)("div",{className:"flex flex-auto items-center gap-2",children:[s.includes(e)&&(0,o.jsx)("div",{children:(0,o.jsx)(n.EA,{variant:"circle",...l})}),(0,o.jsx)(n.EA,{})]})},`col-${e}`))},`row-${e}`))})};u.defaultProps={columns:1,rows:10,avatarInColumns:[]};const m=u;var p=a(6023),g=a(58931),v=a(47111);const{Tr:h,Th:x,Td:f,THead:y,TBody:j}=n.XI,b=e=>{const{indeterminate:t,onChange:a,onCheckBoxChange:l,onIndeterminateCheckBoxChange:r,...i}=e,d=(0,s.useRef)(null);(0,s.useEffect)(()=>{"boolean"===typeof t&&(d.current.indeterminate=!i.checked&&t)},[d,t]);return(0,o.jsx)(n.Sc,{className:"mb-0",ref:d,onChange:(e,t)=>(e=>{a(e),null===l||void 0===l||l(e),null===r||void 0===r||r(e)})(t),...i})},w=(0,s.forwardRef)((e,t)=>{const{skeletonAvatarColumns:a,columns:l,data:i,loading:d,onCheckBoxChange:c,onIndeterminateCheckBoxChange:u,onPaginationChange:w,onSelectChange:C,onSort:D,pageSizes:S,selectable:A,skeletonAvatarProps:N,pagingData:I,tableWidth:z="100%"}=e,{pageSize:k,pageIndex:U,total:T}=I,[R,M]=(0,s.useState)(null),q=(0,s.useMemo)(()=>S.map(e=>({value:e,label:`${e} / page`})),[S]);(0,s.useEffect)(()=>{if(Array.isArray(R)){const e=R.length>0?R[0].desc?"desc":"asc":"",t=R.length>0?R[0].id:"";null===D||void 0===D||D({order:e,key:t})}},[R]);const E=l.some(e=>e.Header||e.accessor||e.Cell),_=(0,s.useMemo)(()=>{const e=l.map(e=>({...e,size:e.size||void 0,minSize:e.minSize||100,maxSize:e.maxSize||300}));return A?[{id:"select",header:e=>{let{table:t}=e;return(0,o.jsx)(b,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:e=>{var a,s;a=e.target.checked,s=t.getRowModel().rows,d||null===u||void 0===u||u(a,s)}})},cell:e=>{let{row:t}=e;return(0,o.jsx)(b,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler(),onCheckBoxChange:e=>((e,t)=>{d||null===c||void 0===c||c(e,t)})(e.target.checked,t.original)})},size:50,minSize:50,maxSize:50},...e]:e},[l,A]),F=(0,g.N4)({data:i,columns:E?[]:_,getCoreRowModel:(0,v.HT)(),getFilteredRowModel:(0,v.hM)(),getPaginationRowModel:(0,v.kW)(),getSortedRowModel:(0,v.h5)(),manualPagination:!0,manualSorting:!0,onSortingChange:M,state:{sorting:R},columnResizeMode:"onChange"}),P=()=>{F.resetSorting()},$=()=>{F.toggleAllRowsSelected(!1)};if((0,s.useImperativeHandle)(t,()=>({resetSorting:P,resetSelected:$})),E){const e="You are using old react-table v7 column config, please use v8 column config instead, refer to our demo or https://tanstack.com/table/v8";return(0,o.jsx)(n.Fc,{children:e})}return(0,o.jsxs)(p.A,{loading:d&&0!==i.length,type:"cover",children:[(0,o.jsx)("div",{style:{width:z,overflowX:"auto"},children:(0,o.jsxs)(n.XI,{style:{width:"100%",tableLayout:"fixed"},children:[(0,o.jsx)(y,{children:F.getHeaderGroups().map(e=>(0,o.jsx)(h,{children:e.headers.map(e=>(0,o.jsx)(x,{colSpan:e.colSpan,style:{width:`${e.column.getSize()}px`},children:e.isPlaceholder?null:(0,o.jsx)("div",{className:r()(d&&"pointer-events-none"),children:(0,g.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),d&&0===i.length?(0,o.jsx)(m,{columns:_.length,rows:I.pageSize,avatarInColumns:a,avatarProps:N}):(0,o.jsx)(j,{children:F.getRowModel().rows.slice(0,k).map(e=>(0,o.jsx)(h,{children:e.getVisibleCells().map(e=>(0,o.jsx)(f,{style:{width:`${e.column.getSize()}px`},children:(0,g.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,o.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,o.jsx)(n.dK,{pageSize:k,currentPage:U,total:T,onChange:e=>{d||null===w||void 0===w||w(e)}}),(0,o.jsx)("div",{style:{minWidth:130},children:(0,o.jsx)(n.l6,{size:"sm",menuPlacement:"top",isSearchable:!1,value:q.filter(e=>e.value===k),options:q,onChange:e=>{return t=e.value,void(d||null===C||void 0===C||C(Number(t)));var t}})})]})]})});w.defaultProps={pageSizes:[10,25,50,100],pagingData:{total:0,pageIndex:1,pageSize:10},data:[],columns:[],selectable:!1,loading:!1};const C=w},93950:(e,t,a)=>{var s=a(46686),l=a(4757),r=a(40801),n=Math.max,o=Math.min;e.exports=function(e,t,a){var i,d,c,u,m,p,g=0,v=!1,h=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var a=i,s=d;return i=d=void 0,g=t,u=e.apply(s,a)}function y(e){var a=e-p;return void 0===p||a>=t||a<0||h&&e-g>=c}function j(){var e=l();if(y(e))return b(e);m=setTimeout(j,function(e){var a=t-(e-p);return h?o(a,c-(e-g)):a}(e))}function b(e){return m=void 0,x&&i?f(e):(i=d=void 0,u)}function w(){var e=l(),a=y(e);if(i=arguments,d=this,p=e,a){if(void 0===m)return function(e){return g=e,m=setTimeout(j,t),v?f(e):u}(p);if(h)return clearTimeout(m),m=setTimeout(j,t),f(p)}return void 0===m&&(m=setTimeout(j,t)),u}return t=r(t)||0,s(a)&&(v=!!a.leading,c=(h="maxWait"in a)?n(r(a.maxWait)||0,t):c,x="trailing"in a?!!a.trailing:x),w.cancel=function(){void 0!==m&&clearTimeout(m),g=0,i=p=d=m=void 0},w.flush=function(){return void 0===m?u:b(l())},w}}}]);
//# sourceMappingURL=6773.3e329911.chunk.js.map