"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[5202],{75202:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var o=n(65043),a=n(49934),d=n(73216),l=n(9331),i=n(79456),r=n(24603),s=n(50805),u=n(80907),c=n(90642),p=n(99149),g=n(67600),v=n(95895);const m=(0,u.zD)("new/po/data/customer/all",async()=>{try{return await(0,c.ZS)()}catch(e){return null===e||void 0===e?void 0:e.response}}),w=(0,u.zD)("new/po/data/notes/all",async()=>{try{return await(0,v.p5)()}catch(e){return null===e||void 0===e?void 0:e.response}}),y=(0,u.zD)("new/po/data/condition/all",async e=>{try{return await(0,v.jM)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),h=(0,u.zD)("new/po/data/product/all",async()=>{try{return await(0,p.qT)()}catch(e){return null===e||void 0===e?void 0:e.response}}),f=(0,u.zD)("new/po/data/po/register",async e=>{try{return await(0,g.hv)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),A=(0,u.zD)("new/po/data/po/unique/number",async e=>{try{return await(0,g.II)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),b=(0,u.Z0)({name:"new/po/data",initialState:{loading:{getAllCustomers:!1,getUniquePoNumber:!1,getAllProductsWithDrawing:!1,getAllNotes:!1,getAllCondition:!1},customers:[],products:[],notes:[],condition:[],number:""},extraReducers:{[m.pending]:e=>{e.loading.getAllCustomers=!0},[A.pending]:e=>{e.loading.getUniquePoNumber=!0},[h.pending]:e=>{e.loading.getAllProductsWithDrawing=!0},[w.pending]:e=>{e.loading.getAllNotes=!0},[y.pending]:e=>{e.loading.getAllCondition=!0},[m.fulfilled]:(e,t)=>{var n;e.loading.getAllCustomers=!1,e.customers=(null===(n=t.payload.data)||void 0===n?void 0:n.data)||[]},[A.fulfilled]:(e,t)=>{var n;e.loading.getUniquePoNumber=!1,e.number=(null===(n=t.payload.data)||void 0===n?void 0:n.data)||""},[f.fulfilled]:e=>{},[h.fulfilled]:(e,t)=>{var n;e.loading.getAllProductsWithDrawing=!1,e.products=(null===(n=t.payload.data)||void 0===n?void 0:n.data)||[]},[w.fulfilled]:(e,t)=>{var n;e.loading.getAllNotes=!1,e.notes=(null===(n=t.payload.data)||void 0===n?void 0:n.data)||[]},[y.fulfilled]:(e,t)=>{var n;e.loading.getAllCondition=!1,e.condition=(null===(n=t.payload.data)||void 0===n?void 0:n.data)||[]},[m.rejected]:e=>{e.loading.getAllCustomers=!1},[A.rejected]:e=>{e.loading.getUniquePoNumber=!1},[h.rejected]:e=>{e.loading.getAllProductsWithDrawing=!1},[w.rejected]:e=>{e.loading.getAllNotes=!1},[y.rejected]:e=>{e.loading.getAllCondition=!1}}}).reducer;var _=n(18298);const j=(0,s.HY)({data:b,state:_.Ay});var C=n(27176),D=n(70579);(0,r.Mh)("new_po",j);const N=()=>{const e=(0,i.wA)(),t=(0,d.Zp)();(0,o.useEffect)(()=>{e(m()),e(h()),e(A()),e(w()),e(y({type:"po"}))},[]);const n=(0,i.d4)(e=>e.new_po.data.customers),r=(0,i.d4)(e=>e.new_po.data.products),s=(0,i.d4)(e=>e.new_po.data.number),u=(0,i.d4)(e=>e.new_po.data.notes),c=(0,i.d4)(e=>e.new_po.data.condition),p=(0,i.d4)(e=>e.new_po.data.loading),g=Object.values(p).some(e=>e),v=(0,o.useMemo)(()=>null===u||void 0===u?void 0:u.map(e=>({label:e.name,value:{note_id:e.note_id,notes:e.notes}})),[u]),b=(0,o.useMemo)(()=>null===c||void 0===c?void 0:c.map(e=>({label:e.name,value:{condition_id:e.condition_id,condition:e.condition}})),[c]),_=()=>{t("/po/list")};return(0,D.jsx)(C.Rh,{loading:g,children:(0,D.jsx)(l.A,{type:"new",onFormSubmit:async(t,n)=>{n(!0),console.log(t);const o=await(async t=>await e(f(t)))({...t,number:t.number.replace(/\s+/g,"")});var d,l;(n(!1),200===o.payload.status)?(a.y8.push((0,D.jsx)(a.Eg,{title:"Successfully added",type:"success",duration:2500,children:"Po successfully added"}),{placement:"top-center"}),_()):a.y8.push((0,D.jsx)(a.Eg,{title:"Error",type:"danger",duration:2500,children:null===(d=o.payload)||void 0===d||null===(l=d.data)||void 0===l?void 0:l.message}),{placement:"top-center"})},onDiscard:_,customers:n,products:r,number:s,Notes:v,Condition:b})})}}}]);
//# sourceMappingURL=5202.fa48d0e3.chunk.js.map