"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[2444],{32444:(t,a,e)=>{e.r(a),e.d(a,{default:()=>L});var o=e(65043),n=e(79456),r=e(73216),c=e(80907),d=e(90642),s=e(99149),u=(e(67600),e(87106)),p=e(81187),i=e(9696);const l=(0,c.zD)("po/details/data/details",async t=>{try{return await(0,u.DI)(t)}catch(a){return a.response}}),y=(0,c.zD)("edit/po/data/customer/all",async()=>{try{return await(0,d.ZS)()}catch(t){return null===t||void 0===t?void 0:t.response}}),h=(0,c.zD)("edit/po/data/product/all",async()=>{try{return await(0,s.qT)()}catch(t){return null===t||void 0===t?void 0:t.response}}),m=(0,c.zD)("edit/po/data/po/category/all",async t=>{try{return await(0,p.yU)(t)}catch(a){return null===a||void 0===a?void 0:a.response}}),f=(0,c.zD)("edit/po/data/po/update",async t=>{try{return await(0,i.$S)(t)}catch(a){return null===a||void 0===a?void 0:a.response}}),v=(0,c.Z0)({name:"edit/porder/data",initialState:{customers:[],products:[],categoryList:[],poDetails:{}},extraReducers:{[l.fulfilled]:(t,a)=>{t.poDetails={...a.payload.data.data,PurchaseOrderLists:a.payload.data.data.PurchaseOrderLists.map(t=>({...t,revision_number:t.Product.Drawings[0].revision_number}))}},[y.fulfilled]:(t,a)=>{var e;t.customers=(null===(e=a.payload.data)||void 0===e?void 0:e.data)||[]},[f.fulfilled]:t=>{},[h.fulfilled]:(t,a)=>{var e;t.products=(null===(e=a.payload.data)||void 0===e?void 0:e.data)||[]},[m.fulfilled]:(t,a)=>{var e,o;t.categoryList=(null===(e=a.payload)||void 0===e||null===(o=e.data)||void 0===o?void 0:o.data)||[]}}}).reducer;var w=e(55702),D=e(50805),b=e(30248);const A=(0,D.HY)({data:v,state:b.Ay});var g=e(24603),_=e(49934),P=e(70579);(0,g.Mh)("edit_porder",A);const L=()=>{var t,a;const e=(0,n.wA)(),c=(0,r.Zp)(),d=(0,r.zy)(),s=d.pathname.substring(d.pathname.lastIndexOf("/")+1);(0,o.useEffect)(()=>{(async()=>{e(y()),e(h()),e(m()),s&&await e(l({purchase_order_id:s}))})()},[s]);const u=(0,n.d4)(t=>t.edit_porder.data.poDetails),p=(0,n.d4)(t=>t.edit_porder.data.customers),i=(0,n.d4)(t=>t.edit_porder.data.products),v=(0,n.d4)(t=>t.edit_porder.data.categoryList),D=()=>{c("/purchaseOrder/list")};return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(w.A,{type:"edit",onFormSubmit:async(t,a)=>{console.log(t),a(!0);const o=await(async t=>await e(f(t)))(t);a(!1),200===o.payload.status&&(_.y8.push((0,P.jsx)(_.Eg,{title:"Successfully added",type:"success",duration:2500,children:"Purchase Order successfully Updated"}),{placement:"top-center"}),D())},onDiscard:D,customers:p,productsData:i,categories:v,initialData:{...u,date:u?new Date(u.date):null,category_id:(null===u||void 0===u||null===(t=u.PurchaseOrderLists)||void 0===t?void 0:t.length)>0?null===(a=u.PurchaseOrderLists[0].Product)||void 0===a?void 0:a.category_id:null}})})}},67600:(t,a,e)=>{e.d(a,{II:()=>w,L7:()=>A,NH:()=>_,Pp:()=>x,Ps:()=>n,Q$:()=>k,Q8:()=>D,RV:()=>c,TR:()=>L,Vf:()=>l,Wm:()=>I,XU:()=>s,c:()=>h,ef:()=>y,fd:()=>z,hv:()=>r,jd:()=>P,jt:()=>f,mF:()=>g,mj:()=>m,nT:()=>d,nd:()=>u,pW:()=>b,rQ:()=>j,rh:()=>p,uR:()=>v,xo:()=>i,z6:()=>O});var o=e(43971);async function n(t){return o.A.fetchData({url:"v1/web/company/po/Number/check",method:"post",data:t})}async function r(t){return o.A.fetchData({url:"v1/web/company/po/register",method:"post",data:t})}async function c(t){return o.A.fetchData({url:"v1/web/company/po/update/id",method:"post",data:t})}async function d(t){return o.A.fetchData({url:"v1/web/company/po/delete/id",method:"delete",data:t})}async function s(t){return o.A.fetchData({url:"v1/web/company/po/id",method:"post",data:t})}async function u(t){return o.A.fetchData({url:"v1/web/company/po",method:"post",data:t})}async function p(t){return o.A.fetchData({url:"v1/web/company/po/dates",method:"post",data:t})}async function i(t){return o.A.fetchData({url:"v1/web/company/po/delivery/dates",method:"post",data:t})}async function l(t){return o.A.fetchData({url:"v1/web/company/po/accept/delivery/dates",method:"post",data:t})}async function y(t){return o.A.fetchData({url:"v1/web/company/po/raw/dates",method:"post",data:t})}async function h(t){return o.A.fetchData({url:"v1/web/company/po/machining/dates",method:"post",data:t})}async function m(t){return o.A.fetchData({url:"/v1/web/company/executive/po/list/update",method:"post",data:t})}async function f(t){return o.A.fetchData({url:"v1/web/company/po-list/list/id",method:"post",data:t})}async function v(t){return o.A.fetchData({url:"v1/web/company/po/select/customer/id",method:"post",data:t})}async function w(){return o.A.fetchData({url:"v1/web/company/po/Unique/number",method:"get"})}async function D(t){return o.A.fetchData({url:"v1/web/company/po/lists",method:"get",params:t})}async function b(t){return o.A.fetchData({url:"v1/web/company/po/number/po",method:"post",data:t})}async function A(){return o.A.fetchData({url:"v1/web/company/po/years",method:"get"})}async function g(t){return o.A.fetchData({url:"v1/web/company/po/months",method:"post",data:t})}async function _(t){return o.A.fetchData({url:"v1/web/company/po/month/dates",method:"post",data:t})}async function P(t){return o.A.fetchData({url:"v1/web/company/po/Number/po/option",method:"post",data:t})}async function L(t){return o.A.fetchData({url:"v1/web/company/po/poa/option",method:"post",data:t})}async function x(t){return o.A.fetchData({url:"v1/web/company/po-list/po/number",method:"post",data:t})}async function z(t){return o.A.fetchData({url:"v1/web/company/po-list/serial/number",method:"post",data:t})}async function O(t){return o.A.fetchData({url:"v1/web/company/po-list/attachment",method:"put",data:t})}async function j(t){return o.A.fetchData({url:"v1/web/company/po-list/attachment/delete",method:"put",data:t})}async function I(){return o.A.fetchData({url:"v1/web/company/customer/option",method:"get"})}async function k(t){return o.A.fetchData({url:"v1/web/company/po-list/date/update",method:"post",data:t})}}}]);
//# sourceMappingURL=2444.ea9ca81c.chunk.js.map