"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[3690],{6064:(e,i,t)=>{t.d(i,{EZ:()=>a,nL:()=>o,s2:()=>s,vZ:()=>l});var n=t(43971);async function o(e){return n.A.fetchData({url:"v1/web/company/customer/shipping-address/register",method:"post",data:e})}async function s(e){return n.A.fetchData({url:"v1/web/company/customer/shipping-address/delete",method:"delete",data:e})}async function a(e){return n.A.fetchData({url:"v1/web/company/customer/shipping-address/update",method:"put",data:e})}async function l(e){return n.A.fetchData({url:"v1/web/company/customer/shipping-address/select/customer/id",method:"post",data:e})}},52157:(e,i,t)=>{t(70579)},60206:(e,i,t)=>{t.d(i,{XC:()=>l,gy:()=>s,oV:()=>a,x1:()=>o});var n=t(43971);async function o(e){return n.A.fetchData({url:"v1/web/company/customer/shipping-details/register",method:"post",data:e})}async function s(e){return n.A.fetchData({url:"v1/web/company/customer/shipping-details/delete",method:"delete",data:e})}async function a(e){return n.A.fetchData({url:"v1/web/company/customer/shipping-details/update",method:"put",data:e})}async function l(e){return n.A.fetchData({url:"v1/web/company/customer/shipping-details/select/customer/id",method:"post",data:e})}},67600:(e,i,t)=>{t.d(i,{II:()=>g,L7:()=>b,NH:()=>_,Pp:()=>A,Ps:()=>o,Q$:()=>P,Q8:()=>j,RV:()=>a,TR:()=>N,Vf:()=>h,Wm:()=>C,XU:()=>d,c:()=>p,ef:()=>v,fd:()=>I,hv:()=>s,jd:()=>w,jt:()=>x,mF:()=>D,mj:()=>m,nT:()=>l,nd:()=>r,pW:()=>y,rQ:()=>S,rh:()=>c,uR:()=>f,xo:()=>u,z6:()=>L});var n=t(43971);async function o(e){return n.A.fetchData({url:"v1/web/company/po/Number/check",method:"post",data:e})}async function s(e){return n.A.fetchData({url:"v1/web/company/po/register",method:"post",data:e})}async function a(e){return n.A.fetchData({url:"v1/web/company/po/update/id",method:"post",data:e})}async function l(e){return n.A.fetchData({url:"v1/web/company/po/delete/id",method:"delete",data:e})}async function d(e){return n.A.fetchData({url:"v1/web/company/po/id",method:"post",data:e})}async function r(e){return n.A.fetchData({url:"v1/web/company/po",method:"post",data:e})}async function c(e){return n.A.fetchData({url:"v1/web/company/po/dates",method:"post",data:e})}async function u(e){return n.A.fetchData({url:"v1/web/company/po/delivery/dates",method:"post",data:e})}async function h(e){return n.A.fetchData({url:"v1/web/company/po/accept/delivery/dates",method:"post",data:e})}async function v(e){return n.A.fetchData({url:"v1/web/company/po/raw/dates",method:"post",data:e})}async function p(e){return n.A.fetchData({url:"v1/web/company/po/machining/dates",method:"post",data:e})}async function m(e){return n.A.fetchData({url:"v1/web/company/po-list/id",method:"put",data:e})}async function x(e){return n.A.fetchData({url:"v1/web/company/po-list/list/id",method:"post",data:e})}async function f(e){return n.A.fetchData({url:"v1/web/company/po/select/customer/id",method:"post",data:e})}async function g(){return n.A.fetchData({url:"v1/web/company/po/Unique/number",method:"get"})}async function j(e){return n.A.fetchData({url:"v1/web/company/po/lists",method:"get",params:e})}async function y(e){return n.A.fetchData({url:"v1/web/company/po/number/po",method:"post",data:e})}async function b(){return n.A.fetchData({url:"v1/web/company/po/years",method:"get"})}async function D(e){return n.A.fetchData({url:"v1/web/company/po/months",method:"post",data:e})}async function _(e){return n.A.fetchData({url:"v1/web/company/po/month/dates",method:"post",data:e})}async function w(e){return n.A.fetchData({url:"v1/web/company/po/Number/po/option",method:"post",data:e})}async function N(e){return n.A.fetchData({url:"v1/web/company/po/poa/option",method:"post",data:e})}async function A(e){return n.A.fetchData({url:"v1/web/company/po-list/po/number",method:"post",data:e})}async function I(e){return n.A.fetchData({url:"v1/web/company/po-list/serial/number",method:"post",data:e})}async function L(e){return n.A.fetchData({url:"v1/web/company/po-list/attachment",method:"put",data:e})}async function S(e){return n.A.fetchData({url:"v1/web/company/po-list/attachment/delete",method:"put",data:e})}async function C(){return n.A.fetchData({url:"v1/web/company/customer/option",method:"get"})}async function P(e){return n.A.fetchData({url:"v1/web/company/po-list/date/update",method:"post",data:e})}},83690:(e,i,t)=>{t.r(i),t.d(i,{default:()=>Ci});var n=t(65043),o=t(49934),s=t(80907),a=t(96396),l=t(90642),d=t(67600),r=t(6064),c=t(60206),u=t(95895);const h=(0,s.zD)("new/foreign/invoice/data/customer",async e=>{try{return await(0,l.ZS)(e)}catch(i){return null===i||void 0===i?void 0:i.response}}),v=(0,s.zD)("new/foreign/invoice/data/conditions",async e=>{try{return await(0,u.jM)(e)}catch(i){return null===i||void 0===i?void 0:i.response}}),p=(0,s.zD)("new/foreign/invoice/data/customer/address",async e=>{try{return await(0,r.vZ)(e)}catch(i){return null===i||void 0===i?void 0:i.response}}),m=(0,s.zD)("new/foreign/invoice/data/customer/shipping/address",async e=>{try{return await(0,c.XC)(e)}catch(i){return null===i||void 0===i?void 0:i.response}}),x=(0,s.zD)("new/foreign/invoice/data/po/all",async e=>{try{return await(0,d.uR)(e)}catch(i){return null===i||void 0===i?void 0:i.response}}),f=(0,s.zD)("new/foreign/invoice/data/invoice/register",async e=>{try{return await(0,a.dg)(e)}catch(i){return null===i||void 0===i?void 0:i.response}}),g=(0,s.Z0)({name:"new/foreign/invoice/data",initialState:{customerList:[],poList:[],conditions:[],shippingAddressList:[],shippingDetailsList:[]},reducers:{},extraReducers:{[h.fulfilled]:(e,i)=>{var t;e.customerList=(null===(t=i.payload.data)||void 0===t?void 0:t.data)||[]},[h.pending]:(e,i)=>{e.customerList=[]},[v.fulfilled]:(e,i)=>{var t;e.conditions=(null===(t=i.payload.data)||void 0===t?void 0:t.data)||[]},[x.fulfilled]:(e,i)=>{var t;e.poList=(null===(t=i.payload.data)||void 0===t?void 0:t.data)||[]},[x.pending]:(e,i)=>{e.poList=[]},[f.fulfilled]:e=>{},[p.fulfilled]:(e,i)=>{var t;e.shippingAddressList=(null===(t=i.payload.data)||void 0===t?void 0:t.data)||[]},[p.pending]:(e,i)=>{e.shippingAddressList=[]},[m.fulfilled]:(e,i)=>{var t;e.shippingDetailsList=(null===(t=i.payload.data)||void 0===t?void 0:t.data)||[]},[m.pending]:(e,i)=>{e.shippingDetailsList=[]}}}).reducer;var j=t(79456),y=t(50805);const b=(0,s.Z0)({name:"new/foreign/invoice/state",initialState:{addDispatchItemDialog:{option:!1,locationIndex:null},editDispatchItemDialog:{option:!1,locationIndex:null},deleteDispatchItemDialog:!1,newBoxDialog:!1,editBoxDialog:!1,deleteBoxDialog:!1,selectedBox:{},selectedDispatchItem:{}},reducers:{toggleAddDispatchItemDialog:(e,i)=>{e.addDispatchItemDialog=i.payload},toggleEditDispatchItemDialog:(e,i)=>{e.editDispatchItemDialog=i.payload},toggleDeleteDispatchItemDialog:(e,i)=>{e.deleteDispatchItemDialog=i.payload},setSelectedDispatchItem:(e,i)=>{e.selectedDispatchItem=i.payload},toggleNewBoxDialog:(e,i)=>{e.newBoxDialog=i.payload},toggleDeleteBoxDialog:(e,i)=>{e.deleteBoxDialog=i.payload},toggleEditBoxDialog:(e,i)=>{e.editBoxDialog=i.payload},setSelectedBox:(e,i)=>{e.selectedBox=i.payload}}}),{setSelectedDispatchItem:D,toggleDeleteDispatchItemDialog:_,toggleAddDispatchItemDialog:w,setSelectedBox:N,toggleEditBoxDialog:A,toggleDeleteBoxDialog:I,toggleNewBoxDialog:L,toggleEditDispatchItemDialog:S}=b.actions,C=b.reducer,P=(0,y.HY)({data:g,state:C});var B=t(24603),q=t(63516),R=t(80899),F=t(27176),M=t(56434),O=t.n(M),k=t(53536),E=t(70579);const V=e=>{const{errors:i,values:t,touched:s,customers:a=[],setFieldValue:l}=e,d=(0,j.wA)(),r=(0,n.useMemo)(()=>a.map(e=>({label:e.name,value:e})),[a]),c=(0,n.useCallback)(async()=>{null===l||void 0===l||l("DispatchShippingAddress",null),null===l||void 0===l||l("DispatchShippingDetails",null),t&&(d(x({customer_id:null===t||void 0===t?void 0:t.customer_id,currency_type:"USD"})),d(m({customer_id:(null===t||void 0===t?void 0:t.customer_id)||""})),d(p({customer_id:(null===t||void 0===t?void 0:t.customer_id)||""})))},[null===t||void 0===t?void 0:t.customer_id]);return(0,n.useEffect)(()=>{c()},[t]),(0,E.jsxs)(o.eI,{className:"mb-5 h-max",label:"Consignee",invalid:i&&s,errorMessage:i,children:[(0,E.jsx)(q.D0,{name:"DispatchConsignee",children:e=>{let{field:i,form:n}=e;return(0,E.jsx)(o.l6,{field:i,form:n,options:r,value:r.filter(e=>e.value===t),onChange:e=>n.setFieldValue(i.name,e.value)})}}),(0,k.isEmpty)(t)?null:(0,E.jsxs)(o.Zp,{className:"mt-2",children:[(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Customer Code :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.customer_code)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Vender Code :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.vender_code)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Mobile :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.mobile)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Phone :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.phone)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Email :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.email)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"PAN No :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.pan)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"GST No :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.gst_no)||"-"})]})]})]})},T=(0,n.memo)(V),Y=e=>{const{errors:i,values:t,touched:s,customers:a=[]}=e,l=(0,n.useMemo)(()=>a.map(e=>({label:e.name,value:e})),[a]);return(0,E.jsxs)(o.eI,{label:"Buyer",className:"mb-5 h-max",invalid:i&&s,errorMessage:i,children:[(0,E.jsx)(q.D0,{name:"DispatchBuyer",children:e=>{let{field:i,form:n}=e;return(0,E.jsx)(o.l6,{field:i,form:n,options:l,value:l.filter(e=>e.value===t),onChange:e=>n.setFieldValue(i.name,e.value)})}}),(0,k.isEmpty)(t)?null:(0,E.jsxs)(o.Zp,{className:"mt-2",children:[(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Customer Code :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.customer_code)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Vender Code :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.vender_code)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Mobile :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.mobile)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Phone :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.phone)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Email :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.email)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"PAN No :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.pan)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"GST No :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.gst_no)||"-"})]})]})]})},z=(0,n.memo)(Y),K=e=>{const{errors:i,touched:t}=e;return(0,E.jsx)(o.eI,{className:"mb-0",invalid:i&&t,children:(0,E.jsx)(q.D0,{name:"invoice_date",children:e=>{let{field:i,form:t}=e;return(0,E.jsx)(o.lr,{style:{width:"160px"},placeholder:"Invoice Date",field:i,form:t,defaultValue:new Date,onChange:e=>{t.setFieldValue(i.name,e)}})}})})},Z=(0,n.memo)(K),H=e=>{const{values:i,errors:t,touched:s}=e,a=(0,j.d4)(e=>{var i;return null===(i=e.new_foreign_invoice.data)||void 0===i?void 0:i.shippingAddressList}),l=(0,n.useMemo)(()=>a.map(e=>({label:e.address,value:e})),[a]);return(0,E.jsxs)(o.eI,{className:"mb-5 h-max",label:"Shipping Address",invalid:t&&s,errorMessage:t,children:[(0,E.jsx)(q.D0,{name:"DispatchShippingAddress",children:e=>{let{field:t,form:n}=e;return(0,E.jsx)(o.l6,{field:t,form:n,options:l,value:l.filter(e=>e.value===i),onChange:e=>n.setFieldValue(t.name,e.value)})}}),(0,k.isEmpty)(i)?null:(0,E.jsxs)(o.Zp,{className:"mt-2",children:[(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Country :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.country)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"State :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.state)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"City :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.city)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"ZIP Code :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.zip_code)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Contact Person :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.contact_person)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Contact Phone :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.contact_phone)||"-"})]})]})]})},G=(0,n.memo)(H),$=e=>{const{values:i,errors:t,touched:s}=e,a=(0,j.d4)(e=>{var i;return null===(i=e.new_foreign_invoice.data)||void 0===i?void 0:i.shippingDetailsList}),l=(0,n.useMemo)(()=>a.map(e=>({label:null===e||void 0===e?void 0:e.pre_carriage_by,value:e})),[a]);return(0,E.jsxs)(o.eI,{className:"mb-5 h-max",label:"Shipping Details",invalid:t&&s,errorMessage:t,children:[(0,E.jsx)(q.D0,{name:"DispatchShippingDetails",children:e=>{let{field:t,form:n}=e;return(0,E.jsx)(o.l6,{field:t,form:n,options:l,value:l.filter(e=>e.value===i),onChange:e=>n.setFieldValue(t.name,e.value)})}}),(0,k.isEmpty)(i)?null:(0,E.jsxs)(o.Zp,{className:"mt-2",children:[(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Place of receipt :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.place_of_receipt)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Port of discharge :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.port_of_discharge)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Port of loading :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.port_of_loading)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Country of goods :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.country_of_goods)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Country of final destination :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.destination)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Final destination :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.final_destination)||"-"})]})]})]})},U=(0,n.memo)($),X=e=>{const{values:i}=e;return(0,E.jsxs)(o.Zp,{children:[(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Beneficiary :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.beneficiary_name)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Bank Name :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.bank_name)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Account No :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.account_no)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"IFSC Code :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.ifsc_code)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Swift Code :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.swift_code)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Bank Ad Code :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.bank_ad_code)||"-"})]})]})},Q=(0,n.memo)(X),W=["BY ROAD","BY SEA","BY AIR"],J=["CIF","EX-WORK"],ee=["BROTHERS INDUSTRIES"],ie=["GNX 200","GNX 300","GNX 400","GNX 500","GNX 600"],te=["BY 30 DAYS T/T"],ne=["PRE-PAID","POST-PAID"],oe=e=>{const{errors:i,values:t,touched:n}=e,s=ee.map(e=>({label:e,value:e}));return(0,E.jsx)(o.eI,{className:"mb-4",label:"Shipping Insurance",invalid:i&&n,errorMessage:i,children:(0,E.jsx)(q.D0,{name:"DispatchShippingAndOtherDetails.shipping_insurance",children:e=>{let{field:i,form:n}=e;return(0,E.jsx)(o.l6,{field:i,form:n,options:s,value:s.filter(e=>e.value===t),onChange:e=>n.setFieldValue(i.name,e.value)})}})})},se=(0,n.memo)(oe),ae=e=>{const{values:i,errors:t,touched:n}=e,s=W.map(e=>({label:e,value:e}));return(0,E.jsx)(o.eI,{className:"mb-4",label:"Shipping Line",invalid:t&&n,errorMessage:t,children:(0,E.jsx)(q.D0,{name:"DispatchShippingAndOtherDetails.shipping_line",children:e=>{let{field:t,form:n}=e;return(0,E.jsx)(o.l6,{field:t,form:n,options:s,value:s.filter(e=>e.value===i),onChange:e=>n.setFieldValue(t.name,e.value)})}})})},le=(0,n.memo)(ae),de=e=>{const{errors:i,values:t,touched:n}=e,s=J.map(e=>({label:e,value:e}));return(0,E.jsx)(o.eI,{className:"mb-4",label:"Shipping Term",invalid:i&&n,errorMessage:i,children:(0,E.jsx)(q.D0,{name:"DispatchShippingAndOtherDetails.shipping_term",children:e=>{let{field:i,form:n}=e;return(0,E.jsx)(o.l6,{field:i,form:n,options:s,value:s.filter(e=>e.value===t),onChange:e=>n.setFieldValue(i.name,e.value)})}})})},re=(0,n.memo)(de);var ce=t(58931),ue=t(47111),he=t(93751);const ve=[{label:"MILLIMETER (MM)",value:"mm"},{label:"CENTIMETER (CM)",value:"cm"},{label:"INCH (INCH)",value:"inch"},{label:"METER (M)",value:"m"}],pe=e=>{const{touched:i,errors:t,values:n,index:s}=e;return(0,E.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,E.jsx)(o.eI,{className:"mb-4",label:"Box no",children:(0,E.jsx)(q.D0,{type:"text",name:"box_no",placeholder:"No of box",component:o.pd})}),(0,E.jsx)(o.eI,{className:"mb-4",label:"Box size type",invalid:(null===t||void 0===t?void 0:t.box_size_type)&&(null===i||void 0===i?void 0:i.box_size_type),errorMessage:null===t||void 0===t?void 0:t.box_size_type,children:(0,E.jsx)(q.D0,{name:"box_size_type",children:e=>{let{field:i,form:t}=e;return(0,E.jsx)(o.l6,{field:i,form:t,options:ve,value:ve.filter(e=>e.value===n.box_size_type),onChange:e=>t.setFieldValue(i.name,e.value)})}})}),(0,E.jsx)(o.eI,{className:"mb-4",label:"Length",invalid:(null===t||void 0===t?void 0:t.box_length)&&(null===i||void 0===i?void 0:i.box_length),errorMessage:null===t||void 0===t?void 0:t.box_length,children:(0,E.jsx)(q.D0,{type:"number",name:"box_length",placeholder:"Box Length",component:o.pd,suffix:n.box_size_type})}),(0,E.jsx)(o.eI,{className:"mb-4",label:"Breadth",invalid:(null===t||void 0===t?void 0:t.box_breadth)&&(null===i||void 0===i?void 0:i.box_breadth),errorMessage:null===t||void 0===t?void 0:t.box_breadth,children:(0,E.jsx)(q.D0,{type:"number",name:"box_breadth",placeholder:"Box Breadth",component:o.pd,suffix:n.box_size_type})}),(0,E.jsx)(o.eI,{className:"mb-4",label:"Height",invalid:(null===t||void 0===t?void 0:t.box_height)&&(null===i||void 0===i?void 0:i.box_height),errorMessage:null===t||void 0===t?void 0:t.box_height,children:(0,E.jsx)(q.D0,{type:"number",name:"box_height",placeholder:"Box Height",component:o.pd,suffix:n.box_size_type})}),(0,E.jsx)(o.eI,{className:"mb-4",label:"BOX weight",invalid:(null===t||void 0===t?void 0:t.tare_weight)&&(null===i||void 0===i?void 0:i.tare_weight),errorMessage:null===t||void 0===t?void 0:t.tare_weight,children:(0,E.jsx)(q.D0,{type:"number",name:"tare_weight",placeholder:"Box weight",component:o.pd,suffix:"Kg"})})]})},me=(0,n.memo)(pe),xe=R.Ik().shape({box_length:R.ai().required("Required"),box_breadth:R.ai().required("Required"),box_height:R.ai().required("Required"),tare_weight:R.ai().required("Required"),box_size_type:R.Yj().required("Required")}),fe=(0,n.forwardRef)((e,i)=>{const{initialData:t,handleFormSubmit:n,onDiscard:s,index:a,type:l}=e;return(0,E.jsx)(q.l1,{innerRef:i,initialValues:{...t},validationSchema:xe,onSubmit:e=>{"edit"===l?null===n||void 0===n||n({...e,index:null===t||void 0===t?void 0:t.index}):null===n||void 0===n||n({...e,index:a}),null===s||void 0===s||s()},children:e=>{let{values:i,touched:t,errors:n,setFieldValue:d}=e;return(0,E.jsx)(q.lV,{children:(0,E.jsxs)(o.MG,{children:[(0,E.jsxs)("h4",{children:["new"===l?"New":"Update"," Box Information"]}),(0,E.jsx)("p",{className:"mb-4",children:"Section to config new box information"}),(0,E.jsx)(me,{index:a,values:i,errors:n,touched:t}),(0,E.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,E.jsx)(o.$n,{size:"sm",onClick:()=>null===s||void 0===s?void 0:s(),type:"button",variant:"",children:"Discard"}),(0,E.jsx)(o.$n,{size:"sm",variant:"solid",type:"submit",children:"edit"===l?"Update Box":"Add Box"})]})]})})}})});fe.defaultProps={type:"edit",initialData:{index:"",box_length:"",box_breadth:"",box_height:"",box_size_type:"",tare_weight:"",box_no:""}};const ge=fe,je=e=>{const{handleNewBox:i,boxNo:t=1}=e,n=(0,j.wA)(),s=(0,j.d4)(e=>e.new_foreign_invoice.state.newBoxDialog),a=()=>{n(L(!1))};return console.log(t),(0,E.jsx)(o.lG,{isOpen:s,onClose:a,onRequestClose:a,children:(0,E.jsx)(ge,{index:t,type:"new",handleFormSubmit:i,onDiscard:a})})},ye=e=>{const{handleEditBoxs:i,boxNo:t=1}=e,n=(0,j.wA)(),s=(0,j.d4)(e=>e.new_foreign_invoice.state.editBoxDialog),a=(0,j.d4)(e=>e.new_foreign_invoice.state.selectedBox),l=()=>{n(A(!1))};return(0,E.jsx)(o.lG,{isOpen:s,onClose:l,onRequestClose:l,children:(0,E.jsx)(ge,{index:t,type:"edit",initialData:a,handleFormSubmit:i,onDiscard:l})})},{Tr:be,Th:De,Td:_e,THead:we,TBody:Ne,TFoot:Ae}=o.XI,Ie=e=>{let{row:i,index:t,handleDeleteBox:n,values:o,setFieldValue:s,dispatchList:a}=e;const l=(0,j.wA)();return(0,E.jsxs)("div",{className:"flex text-lg",children:[(0,E.jsx)("span",{className:"cursor-pointer p-1",onClick:()=>{l(A(!0)),l(N({...i,index:t+1}))},children:(0,E.jsx)(he.VUG,{})}),(0,E.jsx)("span",{className:"cursor-pointer p-1 hover:text-red-500",onClick:()=>{null===n||void 0===n||n(o,t,s,a)},children:(0,E.jsx)(he.yRo,{})})]})},Le=e=>{const{handleNewBoxAdd:i,handleDeleteBox:t,className:n,values:s=[],setFieldValue:a,dispatchList:l,handleEditBox:d}=e,r=[{header:"Box no",accessorKey:"box",cell:e=>{const{index:i}=e.row,t=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:`BOX NO ${null===t||void 0===t?void 0:t.box_no}`})}},{header:"length",accessorKey:"box_length",cell:e=>{var i;const t=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:null===(i=Number(null===t||void 0===t?void 0:t.box_length))||void 0===i?void 0:i.toFixed(2)})}},{header:"breadth",accessorKey:"box_breadth",cell:e=>{var i;const t=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:null===(i=Number(null===t||void 0===t?void 0:t.box_breadth))||void 0===i?void 0:i.toFixed(2)})}},{header:"height",accessorKey:"box_height",cell:e=>{var i;const t=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:null===(i=Number(null===t||void 0===t?void 0:t.box_height))||void 0===i?void 0:i.toFixed(2)})}},{header:"size in",accessorKey:"box_size_type",cell:e=>{const i=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:null===i||void 0===i?void 0:i.box_size_type})}},{header:"Box wt. (kg)",accessorKey:"tare_weight",cell:e=>{var i;const t=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:null===(i=Number(null===t||void 0===t?void 0:t.tare_weight))||void 0===i?void 0:i.toFixed(3)})}},{header:"",accessorKey:"action",cell:e=>{const{original:i,index:n}=e.row;return(0,E.jsx)(Ie,{row:i,index:n,values:s,setFieldValue:a,handleDeleteBox:t,dispatchList:l})}}],c=(0,ce.N4)({data:s,columns:r,getCoreRowModel:(0,ue.HT)()});return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(o.XI,{compact:!0,className:"mb-5",children:[(0,E.jsx)(we,{className:n,children:c.getHeaderGroups().map(e=>(0,E.jsx)(be,{children:e.headers.map(e=>(0,E.jsx)(De,{style:{border:".5px solid #e0e0e0",textAlign:"center"},colSpan:e.colSpan,children:(0,ce.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,E.jsx)(Ne,{children:c.getRowModel().rows.map(e=>(0,E.jsx)(be,{children:e.getVisibleCells().map(e=>(0,E.jsx)(_e,{style:{border:".5px solid #e0e0e0"},children:(0,ce.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,E.jsx)(je,{handleNewBox:e=>{i(s,e,a)},boxNo:s.length+1}),(0,E.jsx)(ye,{boxNo:s.length+1,handleEditBoxs:e=>{d(s,e,a)}})]})},Se=(0,n.memo)(Le);var Ce=t(60446),Pe=t.n(Ce);const Be=e=>{const{errors:i,values:t,touched:s}=e,a=(0,j.d4)(e=>e.new_foreign_invoice.data.poList),l=(0,n.useMemo)(()=>null===a||void 0===a?void 0:a.map(e=>({label:e.number,value:e})),[a]);return(0,E.jsxs)(o.eI,{className:"mb-4",label:"PO Number",invalid:i&&s,errorMessage:i,children:[(0,E.jsx)(q.D0,{name:"Po",children:e=>{let{field:i,form:n}=e;return(0,E.jsx)(o.l6,{field:i,form:n,options:l,value:l.filter(e=>{var i;return(null===(i=e.value)||void 0===i?void 0:i.po_id)===(null===t||void 0===t?void 0:t.po_id)}),onChange:e=>{n.setFieldValue("PoList",null),n.setFieldValue(i.name,e.value)}})}}),(0,k.isEmpty)(t)?null:(0,E.jsxs)(o.Zp,{className:"mt-2 bg-emerald-50",children:[(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"PO Number :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.number)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Currency Type :"})," ",(0,E.jsx)("span",{children:(null===t||void 0===t?void 0:t.currency_type)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Po Date :"})," ",(0,E.jsx)("span",{children:Pe()(null===t||void 0===t?void 0:t.date).format("DD-MMM-YYYY")||"-"})]})]})]})},qe=(0,n.memo)(Be),Re=e=>{var i;const{errors:t,values:s,Po:a,touched:l}=e,d=(0,n.useMemo)(()=>{var e;return a?null===a||void 0===a||null===(e=a.PoLists)||void 0===e?void 0:e.map(e=>{var i;return{label:`${null===e||void 0===e?void 0:e.serial_number} : ${null===e||void 0===e||null===(i=e.Product)||void 0===i?void 0:i.name}`,value:e}}).sort((e,i)=>{var t,n;return(parseInt(null===(t=e.value)||void 0===t?void 0:t.serial_number)||0)-(parseInt(null===(n=i.value)||void 0===n?void 0:n.serial_number)||0)}):[]},[a]);return(0,E.jsxs)(o.eI,{className:"mb-4",label:"PO Serial Number",invalid:t&&l,errorMessage:t,children:[(0,E.jsx)(q.D0,{name:"PoList",children:e=>{let{field:i,form:t}=e;return(0,E.jsx)(o.l6,{field:i,form:t,options:d,value:d.filter(e=>{var i;return(null===(i=e.value)||void 0===i?void 0:i.po_list_id)===(null===s||void 0===s?void 0:s.po_list_id)}),onChange:e=>{t.setFieldValue("quantity",""),t.setFieldValue(i.name,e.value)}})}}),(0,k.isEmpty)(s)?null:(0,E.jsxs)(o.Zp,{className:"mt-2 bg-orange-50",children:[(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"PO Sr. No :"})," ",(0,E.jsx)("span",{children:(null===s||void 0===s?void 0:s.serial_number)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"PO Del Date :"})," ",(0,E.jsx)("span",{children:Pe()(null===s||void 0===s?void 0:s.delivery_date).format("DD-MMM-YYYY")||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"Item Code :"})," ",(0,E.jsx)("span",{children:(null===s||void 0===s||null===(i=s.Product)||void 0===i?void 0:i.item_code)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{children:"Price :"})," ",(0,E.jsx)("span",{children:(null===s||void 0===s?void 0:s.unit_price)||"-"})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{children:"Qty :"})," ",(0,E.jsx)("span",{children:(null===s||void 0===s?void 0:s.quantity)||"-"})]})]})]})]})},Fe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return null===e||void 0===e?void 0:e.reduce((e,i)=>null===e||void 0===e?void 0:e.concat(i.poList),[])},Me=e=>{var i,t;const{errors:s,values:a,touched:l,poList:d,dispatchList:r}=e,[c,u]=(0,n.useState)(a||0),[h,v]=(0,n.useState)(parseInt(null===d||void 0===d?void 0:d.quantity)-parseInt(null===(i=Fe(r))||void 0===i||null===(t=i.filter(e=>{var i;return(null===e||void 0===e||null===(i=e.PoList)||void 0===i?void 0:i.po_list_id)===(null===d||void 0===d?void 0:d.po_list_id)}))||void 0===t?void 0:t.reduce((e,i)=>e+parseInt(null===i||void 0===i?void 0:i.quantity),0))||0);return(0,n.useEffect)(()=>{var e,i;v(parseInt(null===d||void 0===d?void 0:d.quantity)-parseInt(null===(e=Fe(r))||void 0===e||null===(i=e.filter(e=>{var i;return(null===e||void 0===e||null===(i=e.PoList)||void 0===i?void 0:i.po_list_id)===(null===d||void 0===d?void 0:d.po_list_id)}))||void 0===i?void 0:i.reduce((e,i)=>e+parseInt(null===i||void 0===i?void 0:i.quantity),0))||0)},[d]),(0,E.jsx)(o.eI,{label:"Quantity",className:"mb-4",invalid:s&&l,errorMessage:s,children:(0,E.jsx)(q.D0,{name:"quantity",children:e=>{let{field:i,form:t}=e;return(0,E.jsxs)("div",{className:"grid grid-cols-4 gap-1",children:[(0,E.jsx)("div",{className:"col-span-1",children:(0,E.jsx)(o.$n,{className:"w-full",style:{borderRadius:"5px 0px 0px 5px"},type:"button",icon:(0,E.jsx)(he.GRP,{}),disabled:a<1,onClick:()=>{u(+parseInt(c||0)-1),t.setFieldValue(i.name,+parseInt(a||0)-1)}})}),(0,E.jsxs)("div",{className:"col-span-2 grid grid-cols-2 gap-1",children:[(0,E.jsx)(o.Zp,{className:"flex justify-center items-center",bodyClass:"p-0 flex justify-center item-center",children:h}),(0,E.jsx)(o.pd,{className:"w-full",field:i,form:t,type:"number",autoComplete:"off",value:c||"",onChange:e=>{if(e.target.value>h||""===e.target.value||e.target.value<0)return u(0),t.setFieldValue(i.name,0);u(parseInt(e.target.value)),t.setFieldValue(i.name,+parseInt(e.target.value))}})]}),(0,E.jsx)("div",{className:"col-span-1",children:(0,E.jsx)(o.$n,{className:"w-full",style:{borderRadius:"0px 5px 5px 0px"},disabled:c===h,icon:(0,E.jsx)(he.s00,{}),type:"button",onClick:()=>{t.setFieldValue(i.name,+parseInt(c||0)+1),u(+parseInt(c||0)+1)}})})]})}})})},Oe=(0,n.memo)(Me),ke=e=>{const{quantity:i=0,currency:t,unitPrice:n=0}=e;return console.log(i),(0,E.jsx)(o.eI,{label:"Total Amount",className:"mb-4",children:(0,E.jsx)(q.D0,{disabled:!0,placeholder:"Total Amount",prefix:t,value:(Number(n)*Number(i)).toFixed(2),component:o.pd})})},Ee=(0,n.memo)(ke),Ve=e=>{const{errors:i,touched:t,values:s,boxes:a=[]}=e,l=(0,n.useMemo)(()=>a.map((e,i)=>({label:`BOX NO ${i+1}`,value:i+1})),[a]);return(0,E.jsx)(o.eI,{label:"Box No",invalid:i&&t,errorMessage:i,children:(0,E.jsx)(q.D0,{name:"box_no",children:e=>{let{field:i,form:t}=e;return(0,E.jsx)(o.l6,{field:i,form:t,options:l,value:l.filter(e=>e.value===s),onChange:e=>t.setFieldValue(i.name,e.value)})}})})},Te=(0,n.memo)(Ve),Ye=e=>{const{errors:i,touched:t,values:s}=e;return(0,n.useEffect)(()=>{var e,i;s.PoList&&(s.weight=null===s||void 0===s||null===(e=s.PoList)||void 0===e||null===(i=e.Product)||void 0===i?void 0:i.Drawings[0].finish_weight)},[s.PoList]),(0,E.jsx)(o.eI,{label:"Weight",invalid:i&&t,errorMessage:i,children:(0,E.jsx)(q.D0,{type:"number",name:"weight",autoComplete:"off",placeholder:"Individual Weight",value:s.weight,disabled:!0,component:o.pd})})},ze=(0,n.memo)(Ye),Ke=R.Ik().shape({PoList:R.Ik().required("Required"),Po:R.Ik().required("Required"),quantity:R.ai().required("Required"),weight:R.ai().required("Required"),box_no:R.Yj().required("Required")}),Ze=(0,n.forwardRef)((e,i)=>{const{initialData:t,onDiscard:n,boxes:s=[],handleFormSubmit:a,type:l,dispatchList:d}=e;return(0,E.jsx)(q.l1,{innerRef:i,initialValues:{...t},validationSchema:Ke,onSubmit:e=>{null===a||void 0===a||a(e)},children:e=>{var i,t;let{values:a,touched:r,errors:c,setFieldValue:u}=e;return console.log(a),(0,E.jsx)(q.lV,{children:(0,E.jsxs)(o.MG,{children:[(0,E.jsxs)("h4",{children:["new"===l?"Add":"Update"," Item Information"]}),(0,E.jsx)("p",{className:"mb-3",children:"Section to config add item information"}),(0,E.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,E.jsx)(qe,{errors:c.Po,touched:r.Po,values:a.Po}),(0,E.jsx)(Re,{errors:c.PoList,touched:r.PoList,values:a.PoList,Po:a.Po}),(0,E.jsx)(Oe,{dispatchList:d,errors:c.quantity,touched:r.quantity,values:a.quantity,setFieldValue:u,poList:a.PoList}),(0,E.jsx)(Ee,{currency:null===(i=a.Po)||void 0===i?void 0:i.po_currency_type,unitPrice:null===(t=a.PoList)||void 0===t?void 0:t.unit_price,quantity:a.quantity}),(0,E.jsx)(Te,{errors:c.box_no,touched:r.box_no,values:a.box_no,boxes:s}),(0,E.jsx)(ze,{errors:c.weight,touched:r.weight,values:a})]}),(0,E.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,E.jsx)(o.$n,{size:"sm",type:"button",variant:"",onClick:()=>null===n||void 0===n?void 0:n(),children:"Discard"}),(0,E.jsxs)(o.$n,{size:"sm",variant:"solid",type:"submit",children:["new"===l?"Add":"Update"," Item"]})]})]})})}})});Ze.defaultProps={initialData:{Po:null,quantity:0,PoList:null,weight:"",box_no:""}};const He=Ze,Ge=e=>{const{boxes:i=[],locationIndex:t,setFieldValue:n,dispatchList:s=[],addNewItemInPoList:a}=e,l=(0,j.wA)(),d=(0,j.d4)(e=>e.new_foreign_invoice.state.addDispatchItemDialog),r=()=>{l(w({option:!1,locationIndex:null}))};return(0,E.jsx)(o.lG,{isOpen:d.option&&t===d.locationIndex,onClose:r,onRequestClose:r,children:(0,E.jsx)(He,{boxes:i,type:"new",dispatchList:s,handleFormSubmit:async e=>{var i;var l,d,c,u,h,v;if(null===(i=s[t])||void 0===i?void 0:i.poList.find(i=>{var t,n,o,s;if((null===i||void 0===i||null===(t=i.Po)||void 0===t?void 0:t.number)===(null===e||void 0===e||null===(n=e.Po)||void 0===n?void 0:n.number)&&(null===i||void 0===i||null===(o=i.PoList)||void 0===o?void 0:o.po_list_id)===(null===e||void 0===e||null===(s=e.PoList)||void 0===s?void 0:s.po_list_id))return i}))return u=`PO ${null===e||void 0===e||null===(l=e.Po)||void 0===l?void 0:l.number} and ${null===e||void 0===e||null===(d=e.PoList)||void 0===d||null===(c=d.Product)||void 0===c?void 0:c.name} Already Added You Can Edit it.`,h="danger",v="Error",o.y8.push((0,E.jsx)(o.Eg,{title:v,type:h,duration:2500,children:u}),{placement:"top-center"});null===a||void 0===a||a(s,e,t,n),r()},onDiscard:r})})},$e=(0,n.memo)(Ge);t(52157);const{Tr:Ue,Th:Xe,Td:Qe,THead:We,TBody:Je,TFoot:ei}=o.XI,ii=e=>{const{dispatchList:i,handleDeleteItemInPoList:t,handleEditItemInPoList:n,row:o,setFieldValue:s,locationIndex:a,index:l}=e;return(0,E.jsx)("div",{className:"flex justify-center text-lg gap-x-4",children:(0,E.jsx)("span",{className:"cursor-pointer hover:text-red-500",onClick:()=>{null===t||void 0===t||t(i,a,s,l)},children:(0,E.jsx)(he.yRo,{})})})},ti=e=>{let{initialData:i=[],locationIndex:t,dispatchList:s,handleDeleteItemInPoList:a,handleEditItemInPoList:l,setFieldValue:d,tableRender:r}=e;console.log(i),console.log(s),console.log(r);const c=(0,n.useMemo)(()=>[{header:"POs details & Delivery Date",columns:[{header:"project no",accessorKey:"prohect_no",cell:e=>{var i;const t=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:`${(null===t||void 0===t||null===(i=t.PoList)||void 0===i?void 0:i.project_no)||"-"}`})}},{header:"po no & sr no",accessorKey:"PoList",cell:e=>{var i;const t=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:`${null===t||void 0===t?void 0:t.Po.number}-${null===t||void 0===t||null===(i=t.PoList)||void 0===i?void 0:i.serial_number}`})}},{header:"Delivery Date",accessorKey:"delivery_date",cell:e=>{var i;const t=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:Pe()(null===t||void 0===t||null===(i=t.PoList)||void 0===i?void 0:i.delivery_date).format("DD-MM-YYYY")})}}]},{header:"Description of goods",columns:[{header:"product name",accessorKey:"name",cell:e=>{var i,t;const n=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:null===n||void 0===n||null===(i=n.PoList)||void 0===i||null===(t=i.Product)||void 0===t?void 0:t.name})}},{header:"item code",accessorKey:"item_code",cell:e=>{var i,t;const n=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:null===n||void 0===n||null===(i=n.PoList)||void 0===i||null===(t=i.Product)||void 0===t?void 0:t.item_code})}},{header:"hsn code",accessorKey:"hsn_code",cell:e=>{var i,t;const n=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:null===n||void 0===n||null===(i=n.PoList)||void 0===i||null===(t=i.Product)||void 0===t?void 0:t.hsn_code})}}]},{header:"qty (No) & amount (USD)",columns:[{header:"qty",accessorKey:"PoList.quantity",cell:e=>{const i=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:null===i||void 0===i?void 0:i.quantity})}},{header:"rate",accessorKey:"unit_price",cell:e=>{var i;const t=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:Number(null===t||void 0===t||null===(i=t.PoList)||void 0===i?void 0:i.unit_price).toFixed(2)})}},{header:"total",accessorKey:"net_amount",cell:e=>{var i;const t=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:Number((null===t||void 0===t||null===(i=t.PoList)||void 0===i?void 0:i.unit_price)*(null===t||void 0===t?void 0:t.quantity)).toFixed(2)})}}]},{header:"Box & Weight (Kg)",columns:[{header:"box",accessorKey:"box_no",cell:e=>{const i=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:null===i||void 0===i?void 0:i.box_no})}},{header:"weight",accessorKey:"weight",cell:e=>{const i=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:Number(null===i||void 0===i?void 0:i.weight).toFixed(3)})}},{header:"total",accessorKey:"total_weight",cell:e=>{const i=e.row.original;return(0,E.jsx)("div",{className:"uppercase text-center",children:Number((null===i||void 0===i?void 0:i.weight)*(null===i||void 0===i?void 0:i.quantity)).toFixed(3)})}}]},{header:"-",columns:[{header:"",accessorKey:"action",cell:e=>{const{index:i}=e.row,n=e.row.original;return(0,E.jsx)(ii,{index:i,locationIndex:t,setFieldValue:d,dispatchList:s,handleDeleteItemInPoList:a,handleEditItemInPoList:l,row:n})}}]}],[i,d,a,s,l,r]),u=(0,ce.N4)({data:i,columns:c,getCoreRowModel:(0,ue.HT)()});return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(o.XI,{compact:!0,children:[(0,E.jsx)(We,{children:u.getHeaderGroups().map(e=>(0,E.jsx)(Ue,{children:e.headers.map(e=>(0,E.jsx)(Xe,{style:{border:".5px solid #e0e0e0",textAlign:"center"},className:"select-none",colSpan:e.colSpan,children:(0,ce.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,E.jsx)(Je,{children:u.getRowModel().rows.map(e=>(0,E.jsx)(Ue,{children:e.getVisibleCells().map(e=>(0,E.jsx)(Qe,{style:{border:".5px solid #e0e0e0"},className:"select-none",children:(0,ce.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})})},ni=(0,n.memo)(ti),oi=e=>{const{index:i,errors:t,touched:s,setFieldValue:a}=e,[l,d]=(0,q.Mt)({name:`DispatchList[${i}].location_code`}),[r,c]=(0,n.useState)(l.value),u=()=>{a(`DispatchList[${i}].location_code`,r)};return(0,E.jsx)(o.eI,{className:"mb-0",invalid:t&&s,errorMessage:t,children:(0,E.jsx)(q.D0,{name:l.name,children:e=>{let{field:i,form:t}=e;return(0,E.jsx)(o.pd,{form:t,field:i,placeholder:"Location Code",size:"sm",value:r,className:"uppercase",onBlur:u,onChange:e=>{c(e.target.value)}})}})})},si=(0,n.memo)(oi),ai=e=>{const{values:i,errors:t,touched:n,conditions:s}=e;return(0,E.jsxs)(o.eI,{className:"mb-0 h-max",label:"Note Details",invalid:t&&n,errorMessage:t,children:[(0,E.jsx)(q.D0,{name:"DispatchNote",children:e=>{let{field:t,form:n}=e;return(0,E.jsx)(o.l6,{field:t,form:n,options:s,value:s.filter(e=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.condition_id)===(null===i||void 0===i?void 0:i.condition_id)}),onChange:e=>n.setFieldValue(t.name,e.value)})}}),(0,k.isEmpty)(i)?null:(0,E.jsx)(o.Zp,{className:"mt-2",children:(0,E.jsx)("div",{className:"flex justify-between",children:(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:null===i||void 0===i?void 0:i.condition}})})})]})},li=(0,n.memo)(ai),di=e=>{const{errors:i,values:t,touched:n}=e,s=te.map(e=>({label:e,value:e}));return(0,E.jsx)(o.eI,{className:"mb-4",label:"Payment Terms",invalid:i&&n,errorMessage:i,children:(0,E.jsx)(q.D0,{name:"DispatchShippingAndOtherDetails.payment_term",children:e=>{let{field:i,form:n}=e;return(0,E.jsx)(o.l6,{field:i,form:n,options:s,value:s.filter(e=>e.value===t),onChange:e=>n.setFieldValue(i.name,e.value)})}})})},ri=(0,n.memo)(di),ci=e=>{const{errors:i,values:t,touched:n}=e,s=ie.map(e=>({label:e,value:e}));return(0,E.jsx)(o.eI,{className:"mb-4",label:"End Use Code",invalid:i&&n,errorMessage:i,children:(0,E.jsx)(q.D0,{name:"DispatchShippingAndOtherDetails.end_use_code",children:e=>{let{field:i,form:n}=e;return(0,E.jsx)(o.l6,{field:i,form:n,options:s,value:s.filter(e=>e.value===t),onChange:e=>n.setFieldValue(i.name,e.value)})}})})},ui=(0,n.memo)(ci),hi=e=>{const{errors:i,touched:t}=e;return(0,E.jsx)(o.eI,{className:"mb-4",label:"USD to INR",invalid:i&&t,errorMessage:i,children:(0,E.jsx)(q.D0,{component:o.pd,name:"DispatchShippingAndOtherDetails.convert_rate",type:"number",placeholder:"1 USD = 80.00 INR"})})},vi=(0,n.memo)(hi),pi=e=>{const{errors:i,values:t,touched:n}=e,s=ne.map(e=>({label:e,value:e}));return(0,E.jsx)(o.eI,{className:"mb-4",label:"Freight",invalid:i&&n,errorMessage:i,children:(0,E.jsx)(q.D0,{name:"DispatchShippingAndOtherDetails.freight",children:e=>{let{field:i,form:n}=e;return(0,E.jsx)(o.l6,{field:i,form:n,options:s,value:s.filter(e=>e.value===t),onChange:e=>n.setFieldValue(i.name,e.value)})}})})},mi=(0,n.memo)(pi),xi=e=>{const{touched:i,errors:t,values:n}=e;return(0,E.jsxs)("div",{children:[(0,E.jsx)(ri,{errors:null===t||void 0===t?void 0:t.payment_term,touched:null===i||void 0===i?void 0:i.payment_term,values:null===n||void 0===n?void 0:n.payment_term}),(0,E.jsx)(mi,{errors:null===t||void 0===t?void 0:t.freight,touched:null===i||void 0===i?void 0:i.freight,values:null===n||void 0===n?void 0:n.freight}),(0,E.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,E.jsx)(ui,{errors:null===t||void 0===t?void 0:t.end_use_code,touched:null===i||void 0===i?void 0:i.end_use_code,values:null===n||void 0===n?void 0:n.end_use_code}),(0,E.jsx)(vi,{errors:null===t||void 0===t?void 0:t.convert_rate,touched:null===i||void 0===i?void 0:i.convert_rate,values:null===n||void 0===n?void 0:n.convert_rate})]})]})},fi=(0,n.memo)(xi),gi=e=>{const{values:i}=e;return(0,E.jsxs)(o.Zp,{className:"h-max",children:[(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"IEC CODE :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.iec_code)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"GSTIN :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.gstin)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"ITC CODE :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.itc_code)||"-"})]}),(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsx)("strong",{children:"DUTY DRAWBACK SERIAL NO :"})," ",(0,E.jsx)("span",{children:(null===i||void 0===i?void 0:i.duty_drawback_serial_no)||"-"})]})]})},ji=(0,n.memo)(gi),yi=e=>{const{boxes:i=[],locationIndex:t,setFieldValue:n,dispatchList:s=[],editItemInPoList:a}=e,l=(0,j.wA)(),d=(0,j.d4)(e=>e.new_foreign_invoice.state.editDispatchItemDialog),r=(0,j.d4)(e=>e.new_foreign_invoice.state.selectedDispatchItem),c=()=>{l(S({option:!1,locationIndex:null}))};return(0,E.jsx)(o.lG,{isOpen:d.option&&t===d.locationIndex,onClose:c,onRequestClose:c,children:(0,E.jsx)(He,{boxes:i,type:"edit",dispatchList:s,handleFormSubmit:e=>{null===a||void 0===a||a(s,e,t,n)},onDiscard:c,initialData:r})})},bi=(0,n.memo)(yi),Di=e=>{const{errors:i,touched:t,debouncedHandleCheck:n,isPOExist:s=!1,values:a="",handleChange:l}=e;return(0,E.jsx)(o.eI,{className:"mb-0 h-max",label:"",invalid:i&&t,errorMessage:i,children:(0,E.jsx)(q.D0,{name:"invoice_no",placeholder:"Invoice No.",component:o.pd,onChange:e=>{l(e),n(e)}})})},_i=(0,n.memo)(Di);var wi=!1;const Ni=R.Ik().shape({DispatchConsignee:R.Ik().required("Required"),DispatchBuyer:R.Ik().required("Required"),DispatchShippingAddress:R.Ik().required("Required"),DispatchShippingDetails:R.Ik().required("Required"),DispatchList:R.YO(R.Ik({location_code:R.Yj().test((e,i)=>1===i.options.context.DispatchList.length||(void 0!==e&&null!==e&&""!==e||i.createError({message:"Required"})))})),DispatchCompanyDetails:R.Ik().shape({iec_code:R.Yj().required("Required"),gstin:R.Yj().required("Required"),itc_code:R.Yj().required("Required"),duty_drawback_serial_no:R.Yj().required("Required")}),invoice_date:R.p6().required("Required"),DispatchBoxList:R.YO(R.Ik({box_length:R.ai().required("Required"),box_breadth:R.ai().required("Required"),box_height:R.ai().required("Required"),tare_weight:R.ai().required("Required"),box_size_type:R.Yj().required("Required")})),DispatchBankDetails:R.Ik().required("Required"),DispatchShippingAndOtherDetails:R.Ik().shape({payment_term:R.Yj().required("Required"),end_use_code:R.Yj().required("Required"),convert_rate:R.ai().required("Required"),freight:R.Yj().required("Required"),shipping_term:R.Yj().required("Required"),shipping_line:R.Yj().required("Required"),shipping_insurance:R.Yj().required("Required")}),DispatchNote:R.Ik().required("Required"),invoice_no:R.Yj().required("Required").test("isInvoiceNumberExist","Invoice Number Already Exists",function(e){return!wi||this.createError({message:"Invoice Number Already Exists"})})}),Ai=(0,n.forwardRef)((e,i)=>{const t=(0,j.wA)(),[s,l]=(0,n.useState)(0),{initialData:d,onFormSubmit:r,customers:c=[],pushNotification:u,conditions:h=[]}=e;(0,n.useEffect)(()=>{},[s]);const v=function(){let e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((i,t)=>t!==e);null===i||void 0===i||i("DispatchList",t)},p=(e,i,t,n)=>{n("DispatchList",[...e.slice(0,t),{...e[t],poList:[...e[t].poList,i]},...e.slice(t+1)])},m=(e,i,t,n)=>{const o=[...e],a=o[t].poList.findIndex(e=>e.Po.po_id===i.Po.po_id);-1!==a&&(o[t].poList[a]=i),n("DispatchList",o),l(s+1)},x=function(){let e=arguments.length>2?arguments[2]:void 0;const i=[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}];null===e||void 0===e||e("DispatchBoxList",i)},f=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const t=[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]];console.log(e,t);let n=t.findIndex(i=>i.index===e.index);if(!(n>-1))return u("Cannot Edit Box Some Error Occured, Please Delete It And Create New One","danger","Error");t[n]=e,null===i||void 0===i||i("DispatchBoxList",t)},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;if((arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).find(e=>e.poList.find(e=>e.box_no===i+1)))return u("Cannot Delete Box Already Added In Product Delete Product First","danger","Error");const n=[...e];n.splice(i,1),null===t||void 0===t||t("DispatchBoxList",n)},y=function(){let e=arguments.length>1?arguments[1]:void 0;const i=[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{location_code:"",poList:[]}];null===e||void 0===e||e("DispatchList",i)},b=(e,i,t,n)=>{const o=[...e].map((e,t)=>t===i?{...e,poList:e.poList.filter((e,i)=>i!==n)}:e);null===t||void 0===t||t("DispatchList",o)},_=(e,i,n,o,s)=>{const a=[...e];t(D(s)),t(S({option:!0,locationIndex:i})),null===n||void 0===n||n("DispatchList",a)},N=(0,k.debounce)(async e=>{try{200===(await(0,a.nV)({invoice_no:e.target.value})).status&&(wi=!1)}catch(i){wi=!0}},500);return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(n.Suspense,{fallback:(0,E.jsx)(F.Rh,{loading:!0}),children:(0,E.jsx)(q.l1,{innerRef:i,initialValues:{...d},validationSchema:Ni,onSubmit:(e,i)=>{let{setSubmitting:t}=i;if(e.DispatchList.filter(e=>0===e.poList.length).length>0)return t(!1),null===u||void 0===u?void 0:u("Add items in list","danger","Required");const n=O()({...e});null===r||void 0===r||r(n,t)},children:e=>{var i,n,a,l,d,r,u,j,D;let{values:A,touched:I,errors:S,setFieldValue:C,isSubmitting:P,handleChange:B}=e;return console.log(A),(0,E.jsx)(q.lV,{children:(0,E.jsxs)(o.MG,{children:[(0,E.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,E.jsxs)(o.Zp,{className:"bg-yellow-50",bodyClass:"pb-0",children:[(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsxs)("span",{children:[(0,E.jsx)("h5",{className:"font-semibold text-gray-700",children:"Consignee & Buyer Information"}),(0,E.jsx)("p",{className:"mb-2",children:"Section to config consignee & buyer information"})]}),(0,E.jsx)(Z,{touched:null===I||void 0===I?void 0:I.invoice_date,errors:null===S||void 0===S?void 0:S.invoice_date})]}),(0,E.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,E.jsx)(T,{touched:null===I||void 0===I?void 0:I.DispatchConsignee,errors:null===S||void 0===S?void 0:S.DispatchConsignee,values:null===A||void 0===A?void 0:A.DispatchConsignee,customers:c,setFieldValue:C}),(0,E.jsx)(z,{touched:null===I||void 0===I?void 0:I.DispatchBuyer,errors:null===S||void 0===S?void 0:S.DispatchBuyer,values:null===A||void 0===A?void 0:A.DispatchBuyer,customers:c})]})]}),(0,E.jsxs)(o.Zp,{className:"bg-blue-50 h-max",bodyClass:"pb-0",children:[(0,E.jsxs)("div",{className:"flex justify-between",children:[(0,E.jsxs)("span",{children:[(0,E.jsx)("h5",{className:"font-semibold text-gray-700",children:"Address & Shipping Information"}),(0,E.jsx)("p",{className:"mb-2",children:"Section to config address & shipping information"})]}),(0,E.jsx)(_i,{touched:null===I||void 0===I?void 0:I.invoice_no,errors:null===S||void 0===S?void 0:S.invoice_no,debouncedHandleCheck:N,isInvoiceNumberExist:wi,handleChange:B})]}),(0,E.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,E.jsx)(G,{touched:null===I||void 0===I?void 0:I.DispatchShippingAddress,errors:null===S||void 0===S?void 0:S.DispatchShippingAddress,values:null===A||void 0===A?void 0:A.DispatchShippingAddress}),(0,E.jsx)(U,{touched:null===I||void 0===I?void 0:I.DispatchShippingDetails,errors:null===S||void 0===S?void 0:S.DispatchShippingDetails,values:null===A||void 0===A?void 0:A.DispatchShippingDetails})]})]}),(0,E.jsxs)(o.Zp,{className:"bg-blue-50 h-max",children:[(0,E.jsx)("h5",{className:"font-semibold text-gray-700",children:"Bank & Company Information"}),(0,E.jsx)("p",{className:"mb-2",children:"Section to config bank & company information"}),(0,E.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,E.jsx)(Q,{touched:null===I||void 0===I?void 0:I.DispatchBankDetails,errors:null===S||void 0===S?void 0:S.DispatchBankDetails,values:null===A||void 0===A?void 0:A.DispatchBankDetails}),(0,E.jsx)(ji,{values:null===A||void 0===A?void 0:A.DispatchCompanyDetails})]})]}),(0,E.jsxs)(o.Zp,{className:"bg-yellow-50 h-max",bodyClass:"pb-0",children:[(0,E.jsxs)("div",{className:"flex justify-between items-center",children:[(0,E.jsxs)("span",{children:[(0,E.jsx)("h5",{className:"font-semibold text-gray-700",children:"Box Information"}),(0,E.jsx)("p",{className:"mb-2",children:"Section to config box information"})]}),(0,E.jsx)(o.$n,{type:"button",size:"sm",variant:"solid",onClick:()=>{t(L(!0))},children:"Add Box"})]}),(0,E.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,E.jsx)(Se,{values:null===A||void 0===A?void 0:A.DispatchBoxList,handleNewBoxAdd:x,handleDeleteBox:g,handleEditBox:f,setFieldValue:C,dispatchList:A.DispatchList})})]})]}),(0,E.jsx)(o.Zp,{className:"my-4",children:A.DispatchList.map((e,i)=>{var n,a,l,d;return(0,E.jsxs)("div",{className:A.DispatchList.length-1===i?"":"mb-5",children:[(0,E.jsxs)("div",{className:"flex justify-between items-center",children:[0===i?(0,E.jsxs)("div",{children:[(0,E.jsx)("h5",{className:"font-semibold text-gray-700",children:"POs Information"}),(0,E.jsx)("p",{className:"mb-3",children:"Section to config POs list information"})]}):(0,E.jsx)("div",{}),(0,E.jsxs)("div",{className:"flex gap-2 justify-end mb-5",children:[1!==A.DispatchList.length&&(0,E.jsx)(si,{setFieldValue:C,index:i,errors:null===S||void 0===S||null===(n=S.DispatchList)||void 0===n||null===(a=n[i])||void 0===a?void 0:a.location_code,touched:null===S||void 0===S||null===(l=S.DispatchList)||void 0===l||null===(d=l[i])||void 0===d?void 0:d.location_code}),1!==A.DispatchList.length&&(0,E.jsx)(o.$n,{type:"button",variant:"solid",color:"red-500",size:"sm",onClick:()=>{null===v||void 0===v||v(A.DispatchList,i,C)},children:"Remove"}),(0,E.jsx)(o.$n,{type:"button",variant:"solid",color:"pink-500",size:"sm",onClick:()=>{t(w({option:!0,locationIndex:i}))},children:"Add Item"}),0===i?(0,E.jsx)(o.$n,{type:"button",variant:"solid",size:"sm",onClick:()=>{null===y||void 0===y||y(null===A||void 0===A?void 0:A.DispatchList,C)},children:"New Location"}):null]})]}),(0,E.jsx)(ni,{handleDeleteItemInPoList:b,handleEditItemInPoList:_,locationIndex:i,initialData:e.poList,dispatchList:A.DispatchList,tableRender:s,setFieldValue:C}),(0,E.jsx)($e,{boxes:A.DispatchBoxList,locationIndex:i,setFieldValue:C,addNewItemInPoList:p,dispatchList:A.DispatchList}),(0,E.jsx)(bi,{boxes:A.DispatchBoxList,locationIndex:i,setFieldValue:C,editItemInPoList:m,dispatchList:A.DispatchList})]})})}),(0,E.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,E.jsxs)(o.Zp,{className:"bg-blue-50 h-max",children:[(0,E.jsx)("h5",{className:"font-semibold text-gray-700",children:"Shipping & Other Information"}),(0,E.jsx)("p",{className:"mb-2",children:"Section to config shipping & other information"}),(0,E.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,E.jsx)(fi,{errors:null===S||void 0===S?void 0:S.DispatchShippingAndOtherDetails,touched:null===I||void 0===I?void 0:I.DispatchShippingAndOtherDetails,values:null===A||void 0===A?void 0:A.DispatchShippingAndOtherDetails}),(0,E.jsxs)("div",{children:[(0,E.jsx)(se,{touched:null===I||void 0===I||null===(i=I.DispatchShippingAndOtherDetails)||void 0===i?void 0:i.shipping_insurance,errors:null===S||void 0===S||null===(n=S.DispatchShippingAndOtherDetails)||void 0===n?void 0:n.shipping_insurance,values:null===A||void 0===A||null===(a=A.DispatchShippingAndOtherDetails)||void 0===a?void 0:a.shipping_insurance}),(0,E.jsx)(le,{touched:null===I||void 0===I||null===(l=I.DispatchShippingAndOtherDetails)||void 0===l?void 0:l.shipping_line,errors:null===S||void 0===S||null===(d=S.DispatchShippingAndOtherDetails)||void 0===d?void 0:d.shipping_line,values:null===A||void 0===A||null===(r=A.DispatchShippingAndOtherDetails)||void 0===r?void 0:r.shipping_line}),(0,E.jsx)(re,{touched:null===I||void 0===I||null===(u=I.DispatchShippingAndOtherDetails)||void 0===u?void 0:u.shipping_term,errors:null===S||void 0===S||null===(j=S.DispatchShippingAndOtherDetails)||void 0===j?void 0:j.shipping_term,values:null===A||void 0===A||null===(D=A.DispatchShippingAndOtherDetails)||void 0===D?void 0:D.shipping_term})]})]})]}),(0,E.jsxs)(o.Zp,{className:"bg-blue-50 h-max",children:[(0,E.jsx)("h5",{className:"font-semibold text-gray-700",children:"Note Information"}),(0,E.jsx)("p",{className:"mb-2",children:"Section to config note information"}),(0,E.jsx)(li,{conditions:h,touched:null===I||void 0===I?void 0:I.DispatchNote,errors:null===S||void 0===S?void 0:S.DispatchNote,values:null===A||void 0===A?void 0:A.DispatchNote})]})]}),(0,E.jsx)(F.NG,{className:"-mx-8 px-8 flex items-center justify-center p-3",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:(0,E.jsx)("div",{className:"md:flex items-center",children:(0,E.jsx)(o.$n,{variant:"solid",loading:P,type:"submit",children:"DISPATCH ORDER"})})})]},"invoiceFormContainer")},"invoiceForm")}})})})});Ai.defaultProps={initialData:{invoice_type:"foreign",invoice_date:new Date,invoice_no:"",DispatchConsignee:null,DispatchBuyer:null,DispatchShippingAddress:null,DispatchShippingDetails:null,DispatchList:[{location_code:"",poList:[]}],DispatchBoxList:[],DispatchCompanyDetails:{iec_code:"GZUPS0011Q ",gstin:"27GZUPS0011Q1ZK",itc_code:"84139190",duty_drawback_serial_no:"8413B",state:"MAHARASHTRA",pan:"GZUPS0011Q",state_code:33},DispatchBankDetails:{id:1,bank_name:"BANK OF MAHARASHTRA",account_no:60262968113,beneficiary_name:"BROTHERS INDUSTRIES",ifsc_code:"MAHBOOOOO3O",ifsc_code:"MAHBOOOOO3O",swift_code:"MAHBINBBKOL",bank_ad_code:"0230067-6000009"},DispatchShippingAndOtherDetails:{end_use_code:"",packing_details:"",excise_document:"",freight:"",shipping_term:"",payment_term:"",shipping_line:"",shipping_insurance:ee[0],vehicle_no:"",bill_type:"GST",c_gst:"",s_gst:"",i_gst:18,e_way_bill_no:"",remark:"",convert_rate:""},DispatchNote:""}};const Ii=Ai;var Li=t(73216);(0,B.Mh)("new_foreign_invoice",P);const Si=(e,i,t)=>o.y8.push((0,E.jsx)(o.Eg,{title:t,type:i,duration:2500,children:e}),{placement:"top-center"}),Ci=()=>{const e=(0,j.wA)(),i=(0,Li.Zp)();(0,n.useEffect)(()=>{e(h()),e(v({type:"foreign"}))},[]);const t=(0,j.d4)(e=>e.new_foreign_invoice.data.customerList),o=(0,j.d4)(e=>e.new_foreign_invoice.data.conditions),s=(0,n.useMemo)(()=>null===o||void 0===o?void 0:o.map(e=>({label:e.name,value:{condition_id:e.condition_id,condition:e.condition}})),[o]),a=()=>{i("/dispatch-list")};return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(Ii,{type:"new",onFormSubmit:async(i,t)=>{var n,o,s;const l=await(async i=>await e(f(i)))(i);var d,r;return t(!1),200===(null===l||void 0===l||null===(n=l.payload)||void 0===n?void 0:n.status)?(Si(null===l||void 0===l||null===(d=l.payload)||void 0===d||null===(r=d.data)||void 0===r?void 0:r.message,"success","Successfully added"),a()):Si(null===l||void 0===l||null===(o=l.payload)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.message,"danger","Unsuccessfully")},onDiscard:a,customers:t,conditions:s,pushNotification:Si})})}},90642:(e,i,t)=>{t.d(i,{Ai:()=>d,Kz:()=>r,Wm:()=>u,ZS:()=>a,aQ:()=>h,eB:()=>l,jz:()=>o,k7:()=>s,lC:()=>c});var n=t(43971);async function o(){return n.A.fetchData({url:"v1/web/company/customer/statistic",method:"get"})}async function s(e){return n.A.fetchData({url:"v1/web/company/customer/update",method:"put",data:e})}async function a(e){return n.A.fetchData({url:"v1/web/company/customer/select",method:"get"})}async function l(e){return n.A.fetchData({url:"v1/web/company/customer/register",method:"post",data:e})}async function d(e){return n.A.fetchData({url:"v1/web/company/customer/update/id",method:"put",data:e})}async function r(e){return n.A.fetchData({url:"v1/web/company/customer",method:"post",data:e})}async function c(e){return n.A.fetchData({url:"v1/web/company/customer/details/id",method:"post",data:e})}async function u(){return n.A.fetchData({url:"v1/web/company/customer/option",method:"get"})}async function h(e){return n.A.fetchData({url:"v1/web/company/customer/delete/id",method:"delete",data:e})}},95895:(e,i,t)=>{t.d(i,{BT:()=>u,D6:()=>l,DJ:()=>s,VM:()=>v,dg:()=>c,e3:()=>o,jM:()=>h,p5:()=>a,rp:()=>r,wN:()=>d});var n=t(43971);async function o(e){return n.A.fetchData({url:"v1/web/company/note/register",method:"post",data:e})}async function s(e){return n.A.fetchData({url:"v1/web/company/note",method:"post",data:e})}async function a(e){return n.A.fetchData({url:"v1/web/company/note/all",method:"get",data:e})}async function l(e){return n.A.fetchData({url:"v1/web/company/note/update/id",method:"put",data:e})}async function d(e){return n.A.fetchData({url:"v1/web/company/note/delete/id",method:"delete",data:e})}async function r(e){return n.A.fetchData({url:"v1/web/company/condition/register",method:"post",data:e})}async function c(e){return n.A.fetchData({url:"v1/web/company/condition",method:"post",data:e})}async function u(e){return n.A.fetchData({url:"v1/web/company/condition/update/id",method:"put",data:e})}async function h(e){return n.A.fetchData({url:"v1/web/company/condition/all",method:"post",data:e})}async function v(e){return n.A.fetchData({url:"v1/web/company/condition/delete/id",method:"delete",data:e})}},96396:(e,i,t)=>{t.d(i,{D8:()=>r,F$:()=>j,FT:()=>y,H1:()=>d,HH:()=>s,K5:()=>P,Lb:()=>C,M:()=>c,O:()=>p,S9:()=>v,V1:()=>D,VA:()=>h,Wm:()=>L,Xd:()=>u,Z2:()=>g,c2:()=>x,cZ:()=>f,dg:()=>a,i7:()=>q,ic:()=>m,ko:()=>I,nV:()=>o,r6:()=>b,tt:()=>A,uM:()=>B,v8:()=>w,vq:()=>_,vv:()=>N,wb:()=>S,xs:()=>l});var n=t(43971);async function o(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/check/invoice/number",method:"post",data:e})}async function s(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/domestic/register",method:"post",data:e})}async function a(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/foreign/register",method:"post",data:e})}async function l(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/foreign/invoice/date/update",method:"put",data:e})}async function d(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/foreign/invoice/id",method:"post",data:e})}async function r(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/domestic/invoice/id",method:"post",data:e})}async function c(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/domestic/packing/update",method:"put",data:e})}async function u(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch",method:"post",data:e})}async function h(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/details/id",method:"post",data:e})}async function v(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch-list/id",method:"put",data:e})}async function p(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch-list/delete/id",method:"delete",data:e})}async function m(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch-list/raw/machining/date",method:"post",data:e})}async function x(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch-list/add/product",method:"post",data:e})}async function f(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch-list/add/box",method:"post",data:e})}async function g(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch-list/delete/box",method:"delete",data:e})}async function j(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch-list/update/box",method:"put",data:e})}async function y(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/delete",method:"delete",data:e})}async function b(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/pattern/register",method:"post",data:e})}async function D(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/pattern",method:"post",data:e})}async function _(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/Pattern/invoice/id",method:"post",data:e})}async function w(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/patternList/id",method:"put",data:e})}async function N(e){return n.A.fetchData({url:"v1/web/company/product/pattern/update/product",method:"put",data:e})}async function A(e){return n.A.fetchData({url:"v1/web/company/product/pattern/delete",method:"delete",data:e})}async function I(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/invoice/number",method:"get",data:e})}async function L(){return n.A.fetchData({url:"v1/web/company/customer/option",method:"get"})}async function S(){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/invoice/date",method:"get"})}async function C(){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/invoice/years",method:"get"})}async function P(){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/invoice/months",method:"get"})}async function B(e){return n.A.fetchData({url:"v1/web/company/invoice/dispatch/update/status",method:"put",data:e})}async function q(e){return console.log("data",e),n.A.fetchData({url:"v1/web/company/invoice/dispatch/patternInvoice/update/status",method:"put",data:e})}}}]);
//# sourceMappingURL=3690.74b9546f.chunk.js.map