"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[9076],{9331:(e,t,n)=>{n.d(t,{A:()=>oe});var a=n(65043),r=n(49934),o=n(27176),i=n(63516),s=n(56434),l=n.n(s),c=n(41434),d=n(80899),u=n(53536),m=n(70579);const p=e=>{const{touched:t,errors:n,customers:o=[],values:s}=e,l=(0,a.useMemo)(()=>o.map(e=>({label:e.name,value:e})),[o]);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h5",{children:"Customer/Supplier Informations"}),(0,m.jsx)("p",{className:"mb-4",children:"Section to config customer/supplier information"}),(0,m.jsxs)(r.eI,{className:"mb-0",label:"Customer/Supplier",invalid:n&&t,errorMessage:n,children:[(0,m.jsx)(i.D0,{name:"Customer",children:e=>{let{field:t,form:n}=e;return(0,m.jsx)(r.l6,{field:t,form:n,options:l,value:l.filter(e=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.customer_id)===(null===s||void 0===s?void 0:s.customer_id)}),onChange:e=>n.setFieldValue(t.name,e.value)})}}),(0,u.isEmpty)(s)?null:(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2 h-max",children:[(0,m.jsxs)(r.Zp,{bodyClass:"p-4",className:"bg-emerald-50",children:[(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Customer Code :"})," ",(0,m.jsx)("span",{children:(null===s||void 0===s?void 0:s.customer_code)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Vender Code :"})," ",(0,m.jsx)("span",{children:(null===s||void 0===s?void 0:s.vender_code)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between capitalize",children:[(0,m.jsx)("strong",{children:"Type :"})," ",(0,m.jsx)("span",{children:(null===s||void 0===s?void 0:s.type)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between capitalize",children:[(0,m.jsx)("strong",{children:"Phone :"})," ",(0,m.jsx)("span",{children:(null===s||void 0===s?void 0:s.phone)||"-"})]})]}),(0,m.jsxs)(r.Zp,{bodyClass:"p-4",className:"bg-red-50",children:[(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Email :"})," ",(0,m.jsx)("span",{className:"lowerCase",children:(null===s||void 0===s?void 0:s.email)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"Mobile :"})," ",(0,m.jsx)("span",{children:(null===s||void 0===s?void 0:s.mobile)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"PAN No :"})," ",(0,m.jsx)("span",{children:(null===s||void 0===s?void 0:s.pan)||"-"})]}),(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsx)("strong",{children:"GST No :"})," ",(0,m.jsx)("span",{children:(null===s||void 0===s?void 0:s.gst_no)||"-"})]})]})]})]})]})};var h=n(58931),v=n(47111),y=n(60446),f=n.n(y),x=n(23533),b=n(93751);const{Tr:g,Th:j,Td:D,THead:_,TBody:w}=r.XI,N=e=>{let{index:t,onRemoveItem:n,row:a,onEditItem:r}=e;const{textTheme:o}=(0,x.A)();return(0,m.jsx)("div",{className:"flex justify-center text-lg gap-x-4",children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:`cursor-pointer hover:${o}`,onClick:()=>{null===r||void 0===r||r(a,t)},children:(0,m.jsx)(b.VUG,{})}),(0,m.jsx)("span",{className:"cursor-pointer hover:text-red-500",onClick:()=>{null===n||void 0===n||n(t)},children:(0,m.jsx)(b.yRo,{})})]})})},I=e=>{let{data:t=[],currency:n="",onRemoveItem:o,onEditItem:i,type:s}=e;console.log(t);const l=(0,a.useMemo)(()=>[{header:"po sr no.",accessorKey:"serial_number"},{header:"project no.",accessorKey:"project_no"},{header:"product",accessorKey:"Product.name"},{header:"drg rev no.",accessorKey:"revision_number"},{header:"remarks",accessorKey:"description"},{header:"po del date.",accessorKey:"delivery_date",cell:e=>{const{delivery_date:t}=e.row.original;return(0,m.jsx)("div",{children:f()(t).format("DD-MMM-YYYY")})}},{header:"po qty",accessorKey:"po_quantity",cell:e=>{const{quantity:t}=e.row.original;return(0,m.jsx)("div",{children:t})}},{header:"pending qty",accessorKey:"pending_quantity",cell:e=>{console.log("type",s);const{quantity:t,pending_quantity:n}=e.row.original;return"edit"===s?(0,m.jsx)("div",{children:n}):(0,m.jsx)("div",{children:t})}},{header:`rate (${n})`,accessorKey:"unit_price",cell:e=>{const{unit_price:t}=e.row.original;return(0,m.jsx)("div",{children:t})}},{header:`Amount (${n})`,accessorKey:"amount",cell:e=>{const{quantity:t,unit_price:n}=e.row.original;return(0,m.jsx)("div",{children:(t*n).toFixed(2)})}},{header:"",accessorKey:"action",cell:e=>{const{index:t}=e.row,n=e.row.original;return(0,m.jsx)(N,{index:t,onRemoveItem:o,onEditItem:i,row:n})}}],[n,t,o]),c=(0,h.N4)({data:t,columns:l,getCoreRowModel:(0,v.HT)()});return(0,m.jsxs)(r.XI,{className:"relative",compact:!0,children:[(0,m.jsx)(_,{className:"sticky",style:{top:"-.2px"},children:c.getHeaderGroups().map(e=>(0,m.jsx)(g,{children:e.headers.map(e=>(0,m.jsx)(j,{style:{textAlign:"center",border:".2px dashed lightGray"},colSpan:e.colSpan,children:(0,h.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,m.jsx)(w,{children:c.getRowModel().rows.map(e=>(0,m.jsx)(g,{children:e.getVisibleCells().map(e=>(0,m.jsx)(D,{style:{textAlign:"center",border:".2px dashed lightGray"},children:(0,h.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})},A=(0,a.memo)(I);var P=n(79456),C=n(18298),q=n(42784);const S=e=>{const{errors:t,touched:n,type:a,debouncedHandleCheck:o,isPOExist:s=!1,values:l="",handleChange:c}=e;return(0,m.jsx)(r.eI,{className:"mb-4",label:"PO Number",invalid:t&&n,errorMessage:t,children:(0,m.jsx)(i.D0,{type:"text",autoComplete:"off",name:"number",value:l,placeholder:"PO Number",component:r.pd,disabled:"edit"===a,onChange:e=>{c(e),"new"===a&&o(e)}})})},k=(0,a.memo)(S),R=e=>{const{errors:t,touched:n}=e;return(0,m.jsx)(r.eI,{className:"mb-4",label:"PO Date",invalid:t&&n,errorMessage:t,children:(0,m.jsx)(i.D0,{name:"date",children:e=>{let{field:t,form:n}=e;return(0,m.jsx)(r.lr,{placeholder:"PO Date",field:t,form:n,value:t.value,onChange:e=>{const a=e?f()(e).format("YYYY-MM-DD"):null;n.setFieldValue(t.name,a)}})}})})},E=(0,a.memo)(R),M=[{label:"INR",value:"INR"},{label:"USD",value:"USD"}],O=e=>{const{errors:t,touched:n,values:a}=e;return(0,m.jsx)(r.eI,{className:"mb-4",label:"Currency",invalid:t&&n,errorMessage:t,children:(0,m.jsx)(i.D0,{name:"currency_type",children:e=>{let{field:t,form:n}=e;return(0,m.jsx)(r.l6,{field:t,form:n,options:M,value:M.filter(e=>e.value===a),onChange:e=>n.setFieldValue(t.name,e.value)})}})})},T=(0,a.memo)(O),V=e=>{const{errors:t,touched:n,label:a,name:o,placeholder:s="",type:l="text",className:c,suffix:d,prefix:u,value:p}=e;return(0,m.jsx)(r.eI,{className:"mb-4",label:a,invalid:t&&n,errorMessage:t,children:(0,m.jsx)(i.D0,{type:l,className:c,autoComplete:"off",name:o,suffix:d,prefix:u,placeholder:s,component:r.pd})})},F=(0,a.memo)(V),Y=e=>{const{label:t,errors:n,touched:a,placeholder:o="",name:s}=e;return(0,m.jsx)(r.eI,{className:"mb-4",label:t,invalid:n&&a,errorMessage:n,children:(0,m.jsx)(i.D0,{name:s,children:e=>{let{field:t,form:n}=e;return(0,m.jsx)(r.lr,{placeholder:o,field:t,form:n,value:t.value,onChange:e=>{const a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));n.setFieldValue(t.name,a)}})}})})},K=(0,a.memo)(Y);var U=n(72234);const{Control:z}=U.c,Z=e=>{var t;let{children:n,...a}=e;const r=a.getValue()[0];return(0,m.jsxs)(z,{...a,children:[r&&(0,m.jsxs)("span",{className:"ml-2 font-semibold uppercase",children:[null===r||void 0===r||null===(t=r.value)||void 0===t?void 0:t.item_code," :"]}),n]})},$=e=>{let{innerProps:t,label:n,data:a,isSelected:r}=e;return(0,m.jsx)("div",{className:"flex items-center justify-between p-2 "+(r?"bg-gray-100":"hover:bg-gray-50"),...t,children:(0,m.jsxs)("div",{className:"items-center flex justify-between w-full",children:[(0,m.jsx)("div",{className:"ml-2 uppercase",children:`${n}`}),r&&(0,m.jsx)(b.q9z,{className:"text-emerald-500 text-xl"})]})})},G=e=>{const{values:t,errors:n,touched:o,mode:s}=e,l=(0,P.d4)(e=>"edit"===s?e.edit_po.data.products:e.new_po.data.products),c=(0,a.useMemo)(()=>l.map(e=>({label:`${e.name} (${null===e||void 0===e?void 0:e.item_code})`,value:e})),[l]);return(0,m.jsx)(r.eI,{className:"mb-4",label:"Product",invalid:n&&o,errorMessage:n,children:(0,m.jsx)(i.D0,{name:"Product",children:e=>{let{field:n,form:a}=e;return(0,m.jsx)(r.l6,{field:n,form:a,options:c,components:{Option:$,Control:Z},value:c.filter(e=>{var n;return(null===(n=e.value)||void 0===n?void 0:n.product_id)===(null===t||void 0===t?void 0:t.product_id)}),onChange:e=>a.setFieldValue(n.name,e.value)})}})})},H=(0,a.memo)(G),L=e=>{const{errors:t,touched:n,label:a,name:o,value:s}=e,l=1===s;return(0,m.jsx)(r.eI,{className:"mb-3",children:(0,m.jsx)(i.D0,{name:o,children:e=>{let{field:t,form:n}=e;return(0,m.jsx)(r.Sc,{...t,checked:l,onChange:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const[r]=t;n.setFieldValue(o,r?1:0)},children:a})}})})},Q=(0,a.memo)(L),B=d.Ik().shape({description:d.Yj().required("Required"),Product:d.Ik().required("Required"),serial_number:d.Yj().required("Required"),revision_number:d.Yj().required("Required").test((e,t)=>{var n,a;return!(null===(n=t.parent)||void 0===n||null===(a=n.Product)||void 0===a||!a.Drawings.some(t=>t.revision_number===e))||t.createError({message:"Not Matched"})}),delivery_date:d.p6().required("Required"),quantity:d.ai().required("Required").test((e,t)=>!(e<1)||t.createError({message:"Quantity should be minimum 1"})),unit_price:d.ai().typeError("Must be number").required("Required").test((e,t)=>!(e<1)||t.createError({message:"Price should be minimum 1 Rs."})),project_no:d.Yj().required("Required")}),W=(0,a.forwardRef)((e,t)=>{console.log("props",e);const{handleOnAddItem:n,initialData:a,currency_type:o,type:s,mode:l,setItem:c,setType:d}=e,u=(0,P.wA)(),p=(0,P.d4)(e=>"edit"===l?e.edit_po.state.editPoItemDialog:e.new_po.state.newPoItemDialog),h=()=>{"edit"===l?(u((0,q.bE)(!1)),c({}),d(!1)):(u((0,C.Rp)(!1)),c({}),d(!1))};return(0,m.jsx)(r.lG,{isOpen:p,onClose:h,onRequestClose:h,children:(0,m.jsx)(i.l1,{innerRef:t,initialValues:{...a},validationSchema:B,onSubmit:(e,t)=>{let{setSubmitting:a,resetForm:r}=t;const o={...e,delivery_date:new Date(e.delivery_date).toISOString()};null===n||void 0===n||n(o),r(),u("edit"===l?(0,q.bE)(!1):(0,C.Rp)(!1))},children:e=>{var t,n,a,c;let{values:d,touched:u,errors:p}=e;return console.log("values",d),(0,m.jsx)(i.lV,{children:(0,m.jsxs)(r.MG,{children:[(0,m.jsxs)("div",{className:"flex flex-col h-full justify-between",children:[(0,m.jsx)("h4",{children:"edit"===s?"Edit Item Information":"New Item Information"}),(0,m.jsx)("p",{className:"mb-4",children:"Section to config new item information"}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,m.jsx)(F,{errors:p.serial_number,touched:u.serial_number,name:"serial_number",label:"Po Serial Number",placeholder:"Po Serial Number"}),(0,m.jsx)(F,{errors:p.project_no,touched:u.project_no,name:"project_no",label:"Project Number",placeholder:"Project Number"})]}),(0,m.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,m.jsx)(H,{errors:p.Product,touched:u.Product,values:d.Product,mode:l})}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,m.jsx)(F,{errors:p.revision_number,touched:u.revision_number,className:(null===(t=d.Product)||void 0===t||null===(n=t.Drawings)||void 0===n?void 0:n.some(e=>e.revision_number===(null===d||void 0===d?void 0:d.revision_number)))&&"bg-emerald-100",name:"revision_number",label:"Drawing Revision Number",placeholder:"Drawing Revision Number"}),(0,m.jsx)(K,{errors:p.delivery_date,touched:u.delivery_date,name:"delivery_date",label:"PO Delivery Date",placeholder:"PO Delivery Date"})]}),(0,m.jsxs)("div",{className:"grid grid-cols-3 gap-1",children:[(0,m.jsx)(Q,{name:"material_tc_verify_check",label:"Material TC",value:d.material_tc_verify_check}),(0,m.jsx)(Q,{name:"internal_inspection_check",label:"Internal Insp.",value:d.internal_inspection_check}),(0,m.jsx)(Q,{name:"ndt_requirement_check",label:"NDT",value:d.ndt_requirement_check}),(0,m.jsx)(Q,{name:"final_inspection_check",label:"final Insp.",value:d.final_inspection_check}),(0,m.jsx)(Q,{name:"heat_treatment_check",label:"Heat Treatment",value:d.heat_treatment_check}),(0,m.jsx)(Q,{name:"other_check",label:"Other",value:d.other_check})]}),(0,m.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,m.jsx)(F,{errors:p.description,touched:u.description,name:"description",placeholder:"Remarks",label:"Remarks"})}),(0,m.jsxs)("div",{className:"grid md:grid-cols-3 gap-2 mb-2",children:[(0,m.jsx)(F,{errors:p.quantity,touched:u.quantity,name:"quantity",type:"number",placeholder:"Quantity",label:"Quantity",suffix:null===(a=d.Product)||void 0===a||null===(c=a.unit_measurement)||void 0===c?void 0:c.toUpperCase()}),(0,m.jsx)(F,{type:"number",errors:p.unit_price,touched:u.unit_price,name:"unit_price",placeholder:"Unit Price",label:"Unit Price",prefix:o}),(0,m.jsx)(r.eI,{className:"mb-4",label:"Amount",children:(0,m.jsx)(i.D0,{disabled:!0,type:"text",autoComplete:"off",placeholder:"Net Amount",prefix:o,value:((null===d||void 0===d?void 0:d.unit_price)*(null===d||void 0===d?void 0:d.quantity)).toFixed(2),component:r.pd})})]})]}),(0,m.jsxs)("div",{className:"flex justify-end px-5 py-2 bg-gray-100 gap-2 rounded-bl-lg rounded-br-lg",children:[(0,m.jsx)(r.$n,{size:"sm",type:"button",variant:"",children:"Discard"}),(0,m.jsx)(r.$n,{size:"sm",variant:"solid",type:"submit",children:"edit"===s?"Update Item":"Add Item"})]})]})})}})})});W.defaultProps={type:"new",initialData:{description:"",revision_number:"",delivery_date:null,quantity:"",pending_quantity:0,unit_price:"",serial_number:"",Product:null,project_no:"",material_tc_verify_check:!1,internal_inspection_check:!1,ndt_requirement_check:!1,final_inspection_check:!1,heat_treatment_check:!1,other_check:!1}};const X=W;var J=n(67600);const ee=e=>{const{errors:t,touched:n,values:a=""}=e;return(0,m.jsx)(r.eI,{className:"mb-4",label:"",invalid:t&&n,errorMessage:t,children:(0,m.jsx)(i.D0,{type:"text",autoComplete:"off",name:"note",value:a,placeholder:"Note",component:r.pd})})},te=(0,a.memo)(ee);var ne=!1;const ae=d.Ik().shape({Customer:d.Ik().required("Required"),number:d.Yj().required("Required").test("isPOExist","PO Number Already Exists",function(e){return!ne||this.createError({message:"PO Number Already Exists"})}),date:d.p6().required("Required"),currency_type:d.Yj().required("Required")}),re=(0,a.forwardRef)((e,t)=>{const{initialData:n,onFormSubmit:s,onDiscard:d,customers:h=[],products:v=[],type:y,number:f="",Notes:x=[],Condition:b=[]}=e,g=(0,P.wA)(),[j,D]=(0,a.useState)(()=>"edit"===y&&n&&n.PoLists?n.PoLists:[]),[_,w]=(0,a.useState)(-1);(0,a.useEffect)(()=>{"edit"===y&&n&&n.PoLists&&D(n.PoLists)},[y,n]);const[N,I]=(0,a.useState)({}),[S,R]=(0,a.useState)(!1),M=()=>{g("edit"===y?(0,q.bE)(!0):(0,C.Rp)(!0))},O=e=>{let t=j.find((t,n)=>t.serial_number==e.serial_number&&n!==_);return t&&!S?(I({}),R(!1),r.y8.push((0,m.jsx)(r.Eg,{title:"Error",type:"danger",duration:3e3,children:"Serial Number Already Exists"}),{placement:"top-center"})):t&&S?(I({}),R(!1),w(-1),r.y8.push((0,m.jsx)(r.Eg,{title:"Error",type:"danger",duration:3e3,children:"Serial Number Already Exists"}),{placement:"top-center"})):S?(D(t=>t.map((t,n)=>n===_?{...t,...e,delivery_date:new Date(null===e||void 0===e?void 0:e.delivery_date),serial_number:Number(null===e||void 0===e?void 0:e.serial_number)}:t).sort((e,t)=>e.serial_number<t.serial_number?-1:e.serial_number>t.serial_number?1:0)),I({}),R(!1),w(-1),r.y8.push((0,m.jsx)(r.Eg,{title:"Success",type:"success",duration:3e3,children:"Product Updated Successfully"}),{placement:"top-center"})):(D(t=>[...t,{...e,serial_number:Number(e.serial_number),pending_quantity:e.quantity}].sort((e,t)=>e.serial_number<t.serial_number?-1:e.serial_number>t.serial_number?1:0)),I({}),void R(!1))},V=e=>{let t=[...j];-1===t.indexOf(e)&&(t.splice(e,1),D(t),I({}),R(!1))},F=(e,t)=>{g("edit"===y?(0,q.bE)(!0):(0,C.Rp)(!0)),w(t),I(e),R(!0)},Y=(0,u.debounce)(async e=>{try{if("edit"!==y){200===(await(0,J.Ps)({number:e.target.value})).status&&(ne=!1)}}catch(t){ne=!0}},500);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.l1,{enableReinitialize:!0,innerRef:t,initialValues:{...n},validateOnBlur:!0,validationSchema:ae,onSubmit:(e,t)=>{let{setSubmitting:n}=t;const a=l()({...e,items:[...j]});if(0===j.length)return n(!1),r.y8.push((0,m.jsx)(r.Eg,{title:"Required",type:"danger",duration:2500,children:"PO List Required"}),{placement:"top-center"});null===s||void 0===s||s(a,n)},children:e=>{var t,n,a;let{values:s,touched:l,errors:f,isSubmitting:g,handleChange:D}=e;return(0,m.jsx)(i.lV,{children:(0,m.jsxs)(r.MG,{children:[(0,m.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,m.jsx)("div",{className:"lg:col-span-1",children:(0,m.jsx)(r.Zp,{className:"bg-gray-50",children:(0,m.jsx)(p,{touched:l.Customer,errors:f.Customer,values:s.Customer,customers:h})})}),(0,m.jsx)("div",{className:"lg:col-span-1",children:(0,m.jsxs)(r.Zp,{className:"bg-green-50",children:[(0,m.jsx)("h5",{children:"Sale Order Information"}),(0,m.jsx)("p",{className:"mb-4",children:"Section to config PO information"}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,m.jsx)(k,{errors:f.number,touched:l.number,type:y,debouncedHandleCheck:Y,isPOExist:ne,values:s.number,handleChange:D}),(0,m.jsx)(E,{errors:f.date,touched:l.date}),(0,m.jsx)(T,{errors:f.currency_type,touched:l.currency_type,values:s.currency_type})]})]})}),(0,m.jsxs)("div",{className:"lg:col-span-2",children:[(0,m.jsxs)(r.Zp,{className:"h-max bg-pink-50",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center mb-5",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h5",{children:"Sale Order Lists"}),(0,m.jsx)("p",{children:"Section to config list information"})]}),(0,m.jsx)(r.$n,{size:"sm",variant:"solid",type:"button",onClick:M,children:"Add Item"})]}),(0,m.jsx)(A,{currency:s.currency_type,products:v,data:j,onRemoveItem:V,onEditItem:F,type:y}),(0,m.jsx)(X,{handleOnAddItem:O,currency_type:s.currency_type,initialData:S?{...N,delivery_date:new Date(N.delivery_date)}:{},type:S?"edit":"new",mode:y,setItem:I,setType:R}),(0,m.jsx)("div",{className:"mt-4 grid grid-cols-2",children:(0,m.jsx)(te,{values:s.note})})]}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,m.jsxs)(r.Zp,{className:"bg-blue-50 h-max",children:[(0,m.jsx)("h5",{className:"font-semibold text-gray-700",children:"Note Information"}),(0,m.jsx)("p",{className:"mb-2",children:"Section to config note information"}),(0,m.jsxs)(r.eI,{className:"mb-0",label:"",children:[(0,m.jsx)(i.D0,{name:"Note",children:e=>{let{field:t,form:n}=e;return(0,m.jsx)(r.l6,{field:t,form:n,options:x,value:x.filter(e=>{var t,n;return(null===(t=e.value)||void 0===t?void 0:t.note_id)===(null===s||void 0===s||null===(n=s.Note)||void 0===n?void 0:n.note_id)}),onChange:e=>n.setFieldValue(t.name,e.value)})}}),(0,u.isEmpty)(null===s||void 0===s?void 0:s.Note)?null:(0,m.jsx)(r.Zp,{className:"mt-2",children:(0,m.jsx)("div",{className:"flex flex-col",children:null===(t=s.Note)||void 0===t?void 0:t.notes.map((e,t)=>(0,m.jsxs)("div",{className:"flex justify-between",children:[(0,m.jsxs)("div",{children:[t+1,". ",(0,m.jsxs)("strong",{children:[e.label,":"]})," ",(0,m.jsx)("span",{children:e.value||"-"})]}),(0,m.jsx)("br",{})]},t))})})]})]}),(0,m.jsxs)(r.Zp,{className:"bg-blue-50 h-max",children:[(0,m.jsx)("h5",{className:"font-semibold text-gray-700",children:"Condition Information"}),(0,m.jsx)("p",{className:"mb-2",children:"Section to config condition information"}),(0,m.jsxs)(r.eI,{className:"mb-0",label:"",children:[(0,m.jsx)(i.D0,{name:"Condition",children:e=>{let{field:t,form:n}=e;return(0,m.jsx)(r.l6,{field:t,form:n,options:b,value:b.filter(e=>{var t,n;return(null===(t=e.value)||void 0===t?void 0:t.condition_id)===(null===s||void 0===s||null===(n=s.Condition)||void 0===n?void 0:n.condition_id)}),onChange:e=>n.setFieldValue(t.name,e.value)})}}),(0,u.isEmpty)(null===s||void 0===s||null===(n=s.Condition)||void 0===n?void 0:n.condition)?null:(0,m.jsx)(r.Zp,{className:"mt-2",children:(0,m.jsx)("div",{className:"flex justify-between",children:(0,m.jsx)("div",{dangerouslySetInnerHTML:{__html:null===s||void 0===s||null===(a=s.Condition)||void 0===a?void 0:a.condition}})})})]})]})]})]})]}),(0,m.jsxs)(o.NG,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[(0,m.jsxs)("h5",{className:"flex gap-1 items-center text-gray-600",children:["Total"," ",(0,m.jsx)("h4",{className:"text-blue-500",children:Array.isArray(j)?j.length:0})," ",1===j.length?"item":"items"," in list"]}),(0,m.jsxs)("div",{className:"md:flex items-center",children:[(0,m.jsx)(r.$n,{size:"sm",className:"mr-3",onClick:()=>null===d||void 0===d?void 0:d(),type:"button",children:"Discard"}),(0,m.jsx)(r.$n,{size:"sm",variant:"solid",loading:g,icon:(0,m.jsx)(c.kuV,{}),type:"submit",children:"edit"===y?"Update":"Save"})]})]})]})})}})})});re.defaultProps={type:"new",initialData:{po_id:"",date:new Date,number:"",Customer:null,currency_type:"",Note:null,Condition:null,note:""}};const oe=re},18298:(e,t,n)=>{n.d(t,{Ay:()=>l,Rp:()=>r});const a=(0,n(80907).Z0)({name:"new/po/state",initialState:{newPoItemDialog:!1,deletePoItemDialog:!1,editPoItemDialog:!1,selectedPoItem:{}},reducers:{toggleNewPoItemDialog:(e,t)=>{e.newPoItemDialog=t.payload},toggleDeletePoItemDialog:(e,t)=>{e.deletePoItemDialog=t.payload},toggleEditPoItemDialog:(e,t)=>{e.editPoItemDialog=t.payload},setSelectedPoItem:(e,t)=>{e.selectedPoItem=t.payload}}}),{toggleNewPoItemDialog:r,setSelectedPoItem:o,toggleEditPoItemDialog:i,toggleDeletePoItemDialog:s}=a.actions,l=a.reducer},42784:(e,t,n)=>{n.d(t,{Ay:()=>l,bE:()=>i});const a=(0,n(80907).Z0)({name:"edit/po/state",initialState:{newPoItemDialog:!1,deletePoItemDialog:!1,editPoItemDialog:!1,selectedPoItem:{}},reducers:{toggleNewPoItemDialog:(e,t)=>{e.newPoItemDialog=t.payload},toggleDeletePoItemDialog:(e,t)=>{e.deletePoItemDialog=t.payload},toggleEditPoItemDialog:(e,t)=>{e.editPoItemDialog=t.payload},setSelectedPoItem:(e,t)=>{e.selectedPoItem=t.payload}}}),{toggleNewPoItemDialog:r,setSelectedPoItem:o,toggleEditPoItemDialog:i,toggleDeletePoItemDialog:s}=a.actions,l=a.reducer},67600:(e,t,n)=>{n.d(t,{II:()=>x,L7:()=>j,NH:()=>_,Pp:()=>I,Ps:()=>r,Q$:()=>S,Q8:()=>b,RV:()=>i,TR:()=>N,Vf:()=>m,Wm:()=>q,XU:()=>l,c:()=>h,ef:()=>p,fd:()=>A,hv:()=>o,jd:()=>w,jt:()=>y,mF:()=>D,mj:()=>v,nT:()=>s,nd:()=>c,pW:()=>g,rQ:()=>C,rh:()=>d,uR:()=>f,xo:()=>u,z6:()=>P});var a=n(43971);async function r(e){return a.A.fetchData({url:"v1/web/company/po/Number/check",method:"post",data:e})}async function o(e){return a.A.fetchData({url:"v1/web/company/po/register",method:"post",data:e})}async function i(e){return a.A.fetchData({url:"v1/web/company/po/update/id",method:"post",data:e})}async function s(e){return a.A.fetchData({url:"v1/web/company/po/delete/id",method:"delete",data:e})}async function l(e){return a.A.fetchData({url:"v1/web/company/po/id",method:"post",data:e})}async function c(e){return a.A.fetchData({url:"v1/web/company/po",method:"post",data:e})}async function d(e){return a.A.fetchData({url:"v1/web/company/po/dates",method:"post",data:e})}async function u(e){return a.A.fetchData({url:"v1/web/company/po/delivery/dates",method:"post",data:e})}async function m(e){return a.A.fetchData({url:"v1/web/company/po/accept/delivery/dates",method:"post",data:e})}async function p(e){return a.A.fetchData({url:"v1/web/company/po/raw/dates",method:"post",data:e})}async function h(e){return a.A.fetchData({url:"v1/web/company/po/machining/dates",method:"post",data:e})}async function v(e){return a.A.fetchData({url:"/v1/web/company/executive/po/list/update",method:"post",data:e})}async function y(e){return a.A.fetchData({url:"v1/web/company/po-list/list/id",method:"post",data:e})}async function f(e){return a.A.fetchData({url:"v1/web/company/po/select/customer/id",method:"post",data:e})}async function x(){return a.A.fetchData({url:"v1/web/company/po/Unique/number",method:"get"})}async function b(e){return a.A.fetchData({url:"v1/web/company/po/lists",method:"get",params:e})}async function g(e){return a.A.fetchData({url:"v1/web/company/po/number/po",method:"post",data:e})}async function j(){return a.A.fetchData({url:"v1/web/company/po/years",method:"get"})}async function D(e){return a.A.fetchData({url:"v1/web/company/po/months",method:"post",data:e})}async function _(e){return a.A.fetchData({url:"v1/web/company/po/month/dates",method:"post",data:e})}async function w(e){return a.A.fetchData({url:"v1/web/company/po/Number/po/option",method:"post",data:e})}async function N(e){return a.A.fetchData({url:"v1/web/company/po/poa/option",method:"post",data:e})}async function I(e){return a.A.fetchData({url:"v1/web/company/po-list/po/number",method:"post",data:e})}async function A(e){return a.A.fetchData({url:"v1/web/company/po-list/serial/number",method:"post",data:e})}async function P(e){return a.A.fetchData({url:"v1/web/company/po-list/attachment",method:"put",data:e})}async function C(e){return a.A.fetchData({url:"v1/web/company/po-list/attachment/delete",method:"put",data:e})}async function q(){return a.A.fetchData({url:"v1/web/company/customer/option",method:"get"})}async function S(e){return a.A.fetchData({url:"v1/web/company/po-list/date/update",method:"post",data:e})}},90642:(e,t,n)=>{n.d(t,{Ai:()=>l,Kz:()=>c,Wm:()=>u,ZS:()=>i,aQ:()=>m,eB:()=>s,jz:()=>r,k7:()=>o,lC:()=>d});var a=n(43971);async function r(){return a.A.fetchData({url:"v1/web/company/customer/statistic",method:"get"})}async function o(e){return a.A.fetchData({url:"v1/web/company/customer/update",method:"put",data:e})}async function i(e){return a.A.fetchData({url:"v1/web/company/customer/select",method:"get"})}async function s(e){return a.A.fetchData({url:"v1/web/company/customer/register",method:"post",data:e})}async function l(e){return a.A.fetchData({url:"v1/web/company/customer/update/id",method:"put",data:e})}async function c(e){return a.A.fetchData({url:"v1/web/company/customer",method:"post",data:e})}async function d(e){return a.A.fetchData({url:"v1/web/company/customer/details/id",method:"post",data:e})}async function u(){return a.A.fetchData({url:"v1/web/company/customer/option",method:"get"})}async function m(e){return a.A.fetchData({url:"v1/web/company/customer/delete/id",method:"delete",data:e})}},95895:(e,t,n)=>{n.d(t,{BT:()=>u,D6:()=>s,DJ:()=>o,VM:()=>p,dg:()=>d,e3:()=>r,jM:()=>m,p5:()=>i,rp:()=>c,wN:()=>l});var a=n(43971);async function r(e){return a.A.fetchData({url:"v1/web/company/note/register",method:"post",data:e})}async function o(e){return a.A.fetchData({url:"v1/web/company/note",method:"post",data:e})}async function i(e){return a.A.fetchData({url:"v1/web/company/note/all",method:"get",data:e})}async function s(e){return a.A.fetchData({url:"v1/web/company/note/update/id",method:"put",data:e})}async function l(e){return a.A.fetchData({url:"v1/web/company/note/delete/id",method:"delete",data:e})}async function c(e){return a.A.fetchData({url:"v1/web/company/condition/register",method:"post",data:e})}async function d(e){return a.A.fetchData({url:"v1/web/company/condition",method:"post",data:e})}async function u(e){return a.A.fetchData({url:"v1/web/company/condition/update/id",method:"put",data:e})}async function m(e){return a.A.fetchData({url:"v1/web/company/condition/all",method:"post",data:e})}async function p(e){return a.A.fetchData({url:"v1/web/company/condition/delete/id",method:"delete",data:e})}},99149:(e,t,n)=>{n.d(t,{Hx:()=>u,PD:()=>r,RU:()=>p,Sy:()=>o,dD:()=>l,ik:()=>i,j4:()=>c,jD:()=>s,qT:()=>d,th:()=>m});var a=n(43971);async function r(e){return a.A.fetchData({url:"v1/web/company/product/code/check",method:"post",data:e})}async function o(e){return a.A.fetchData({url:"v1/web/company/product",method:"post",data:e})}async function i(e){return a.A.fetchData({url:"v1/web/company/product/register",method:"post",data:e})}async function s(e){return a.A.fetchData({url:"v1/web/company/product/update/id",method:"put",data:e})}async function l(e){return a.A.fetchData({url:"v1/web/company/product/delete/id",method:"delete",data:e})}async function c(e){return a.A.fetchData({url:"v1/web/company/product/details/id",method:"post",data:e})}async function d(e){return a.A.fetchData({url:"v1/web/company/product/drawing/select",method:"get"})}async function u(e){return a.A.fetchData({url:"v1/web/company/product/category/id",method:"post",data:e})}async function m(){return a.A.fetchData({url:"v1/web/company/product/itemCode/option",method:"get"})}async function p(e){return a.A.fetchData({url:"v1/web/company/product/option",method:"post",data:e})}}}]);
//# sourceMappingURL=9076.078fdfb7.chunk.js.map