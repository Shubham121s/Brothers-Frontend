(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[9061],{4757:(e,t,a)=>{var n=a(56552);e.exports=function(){return n.Date.now()}},10143:e=>{var t=/\s/;e.exports=function(e){for(var a=e.length;a--&&t.test(e.charAt(a)););return a}},39061:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var n=a(65043),r=a(24603),o=a(49934),i=a(79456),l=a(80907),s=a(54632);const d=(0,l.zD)("po/data/list/all",async e=>{try{return await(0,s.DR)(e)}catch(t){return t.response}}),c=(0,l.Z0)({name:"inward/data/list",initialState:{loading:!1,inwardList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:""},filterData:{status:""}},reducers:{setTableData:(e,t)=>{e.tableData=t.payload},setFilterData:(e,t)=>{e.filterData=t.payload}},extraReducers:{[d.fulfilled]:(e,t)=>{var a;e.inwardList=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[],e.tableData.table=t.payload.data.total||0,e.loading=!1},[d.pending]:(e,t)=>{e.loading=!0}}}),{setTableData:u,setFilterData:g}=c.actions,h=c.reducer;var m=a(23533),v=a(35475),p=a(60446),f=a.n(p),x=a(56434),w=a.n(x),y=a(88705),j=a(70579);const C=e=>{let{row:t}=e;const{textTheme:a}=(0,m.A)();return(0,j.jsx)(o.m_,{title:(0,j.jsxs)("div",{children:["View ",(0,j.jsx)("strong",{className:"text-yellow-400",children:"GRN"})]}),children:(0,j.jsx)(v.N_,{className:`hover:${a} font-semibold`,to:`/inward/details/${null===t||void 0===t?void 0:t.inward_id}`,children:null===t||void 0===t?void 0:t.inward_no})})},S=()=>{const e=(0,i.wA)(),t=(0,i.d4)(e=>e.inward_list.data.inwardList),a=(0,i.d4)(e=>e.inward_list.data.loading),{status:r}=(0,i.d4)(e=>e.inward_list.data.filterData),o=[{header:"inward Number",accessorKey:"",cell:e=>{const t=e.row.original;return(0,j.jsx)(C,{row:t})}},{header:"Customer",accessorKey:"Customer.name",cell:e=>{const{Customer:t}=e.row.original;return(0,j.jsx)("div",{className:"uppercase",children:null===t||void 0===t?void 0:t.name})}},{header:"C. Code",accessorKey:"Customer.customer_code",cell:e=>{var t;const a=e.row.original;return(0,j.jsx)("div",{children:null===a||void 0===a||null===(t=a.Customer)||void 0===t?void 0:t.customer_code})}},{header:"items",accessorKey:"",cell:e=>{var t;const a=e.row.original;return(0,j.jsx)("div",{className:"capitalize",children:null===a||void 0===a||null===(t=a.InWardDetails)||void 0===t?void 0:t.length})}},{header:"Mobile",accessorKey:"",cell:e=>{var t,a;const n=e.row.original;return(0,j.jsx)("div",{children:(null===n||void 0===n||null===(t=n.Customer)||void 0===t?void 0:t.mobile)||(null===n||void 0===n||null===(a=n.Customer)||void 0===a?void 0:a.phone)})}},{header:"inward Date",accessorKey:"inward_date",cell:e=>{const t=e.row.original;return(0,j.jsx)("div",{children:f()(null===t||void 0===t?void 0:t.inward_date).format("DD-MMM-YYYY")})}}],{pageIndex:l,pageSize:s,sort:c,query:g,total:h}=(0,i.d4)(e=>e.inward_list.data.tableData),m=(0,n.useCallback)(()=>{e(d({pageIndex:l,pageSize:s,sort:c,query:g,status:r}))},[l,s,c,g,r,e]);(0,n.useEffect)(()=>{m()},[m,l,s,c,r]);const v=(0,n.useMemo)(()=>({pageIndex:l,pageSize:s,sort:c,query:g,total:h}),[l,s,c,g,h]);return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(y.A,{columns:o,data:t,loading:a,pagingData:{pageIndex:l,pageSize:s,sort:c,query:g,total:h},onPaginationChange:t=>{const a=w()(v);a.pageIndex=t,e(u(a))},onSelectChange:t=>{const a=w()(v);a.pageSize=Number(t),a.pageIndex=1,e(u(a))}})})};var b=a(50805);const D=(0,l.Z0)({name:"inward/data/list",initialState:{deletePoItemDialog:!1,openDialog:!1,selectedPurchase:{}},reducers:{toggleDeletePoItemDialog:(e,t)=>{e.deletePoItemDialog=t.payload},toggleDialog:(e,t)=>{e.openDialog=t.payload},setSelectedPurchase:(e,t)=>{e.selectedPurchase=t.payload}}}),{toggleDialog:I,setSelectedPurchase:z}=D.actions,A=D.reducer,k=(0,b.HY)({data:h,state:A});var N=a(93751),T=a(93950),P=a.n(T);const R=(0,n.forwardRef)((e,t)=>{const{onInputChange:a}=e,n=P()(function(e){null===a||void 0===a||a(e)},500);return(0,j.jsx)(o.pd,{ref:t,className:"max-w-md md:w-52",size:"sm",placeholder:"Search",prefix:(0,j.jsx)(N.oF9,{className:"text-lg"}),onChange:e=>{n(e.target.value)}})}),M=()=>{const e=(0,i.wA)(),t=(0,n.useRef)(),a=(0,i.d4)(e=>e.inward_list.data.tableData),r=t=>{e(u(t)),e(d(t))};return(0,j.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-4",children:[(0,j.jsx)("h3",{children:"Purchase Orders"}),(0,j.jsxs)("div",{className:"flex gap-4",children:[(0,j.jsx)(R,{ref:t,onInputChange:e=>{const t=w()(a);t.query=e,t.pageIndex=1,"string"===typeof e&&e.length>1&&r(t),"string"===typeof e&&0===e.length&&r(t)}}),(0,j.jsx)(o.$n,{size:"sm",onClick:()=>{const e=w()(a);e.query="",t.current.value="",r(e)},children:"Clear All"})]})]})};(0,r.Mh)("inward_list",k);const _=()=>(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(M,{}),(0,j.jsx)(o.Zp,{children:(0,j.jsx)(S,{})})]})},40801:(e,t,a)=>{var n=a(61141),r=a(46686),o=a(19841),i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var a=l.test(e);return a||s.test(e)?d(e.slice(2),a?2:8):i.test(e)?NaN:+e}},54632:(e,t,a)=>{"use strict";a.d(t,{$H:()=>i,DR:()=>l,VJ:()=>d,cW:()=>s,oj:()=>r,w9:()=>o});var n=a(43971);async function r(e){return n.A.fetchData({url:"v1/web/company/inward/register",method:"post",data:e})}async function o(e){return n.A.fetchData({url:"v1/web/company/inward/attachment",method:"post",data:e})}async function i(e){return n.A.fetchData({url:"v1/web/company/inward/upload/attachment",method:"put",data:e})}async function l(e){return n.A.fetchData({url:"v1/web/company/inward",method:"post",data:e})}async function s(e){return n.A.fetchData({url:"v1/web/company/inward/id",method:"post",data:e})}async function d(){return n.A.fetchData({url:"v1/web/company/inward/generate/grn",method:"get"})}},61141:(e,t,a)=>{var n=a(10143),r=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(r,""):e}},88705:(e,t,a)=>{"use strict";a.d(t,{A:()=>S});var n=a(65043),r=a(98139),o=a.n(r),i=a(49934),l=a(70579);const{Tr:s,Td:d,TBody:c}=i.XI,u=e=>{const{columns:t,rows:a,avatarInColumns:n,avatarProps:r}=e;return(0,l.jsx)(c,{children:Array.from(new Array(a),(e,t)=>t+0).map(e=>(0,l.jsx)(s,{children:Array.from(new Array(t),(e,t)=>t+0).map(e=>(0,l.jsx)(d,{children:(0,l.jsxs)("div",{className:"flex flex-auto items-center gap-2",children:[n.includes(e)&&(0,l.jsx)("div",{children:(0,l.jsx)(i.EA,{variant:"circle",...r})}),(0,l.jsx)(i.EA,{})]})},`col-${e}`))},`row-${e}`))})};u.defaultProps={columns:1,rows:10,avatarInColumns:[]};const g=u;var h=a(6023),m=a(58931),v=a(47111);const{Tr:p,Th:f,Td:x,THead:w,TBody:y}=i.XI,j=e=>{const{indeterminate:t,onChange:a,onCheckBoxChange:r,onIndeterminateCheckBoxChange:o,...s}=e,d=(0,n.useRef)(null);(0,n.useEffect)(()=>{"boolean"===typeof t&&(d.current.indeterminate=!s.checked&&t)},[d,t]);return(0,l.jsx)(i.Sc,{className:"mb-0",ref:d,onChange:(e,t)=>(e=>{a(e),null===r||void 0===r||r(e),null===o||void 0===o||o(e)})(t),...s})},C=(0,n.forwardRef)((e,t)=>{const{skeletonAvatarColumns:a,columns:r,data:s,loading:d,onCheckBoxChange:c,onIndeterminateCheckBoxChange:u,onPaginationChange:C,onSelectChange:S,onSort:b,pageSizes:D,selectable:I,skeletonAvatarProps:z,pagingData:A,tableWidth:k="100%"}=e,{pageSize:N,pageIndex:T,total:P}=A,[R,M]=(0,n.useState)(null),_=(0,n.useMemo)(()=>D.map(e=>({value:e,label:`${e} / page`})),[D]);(0,n.useEffect)(()=>{if(Array.isArray(R)){const e=R.length>0?R[0].desc?"desc":"asc":"",t=R.length>0?R[0].id:"";null===b||void 0===b||b({order:e,key:t})}},[R]);const $=r.some(e=>e.Header||e.accessor||e.Cell),B=(0,n.useMemo)(()=>{const e=r.map(e=>({...e,size:e.size||void 0,minSize:e.minSize||100,maxSize:e.maxSize||300}));return I?[{id:"select",header:e=>{let{table:t}=e;return(0,l.jsx)(j,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:e=>{var a,n;a=e.target.checked,n=t.getRowModel().rows,d||null===u||void 0===u||u(a,n)}})},cell:e=>{let{row:t}=e;return(0,l.jsx)(j,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler(),onCheckBoxChange:e=>((e,t)=>{d||null===c||void 0===c||c(e,t)})(e.target.checked,t.original)})},size:50,minSize:50,maxSize:50},...e]:e},[r,I]),H=(0,m.N4)({data:s,columns:$?[]:B,getCoreRowModel:(0,v.HT)(),getFilteredRowModel:(0,v.hM)(),getPaginationRowModel:(0,v.kW)(),getSortedRowModel:(0,v.h5)(),manualPagination:!0,manualSorting:!0,onSortingChange:M,state:{sorting:R},columnResizeMode:"onChange"}),K=()=>{H.resetSorting()},q=()=>{H.toggleAllRowsSelected(!1)};if((0,n.useImperativeHandle)(t,()=>({resetSorting:K,resetSelected:q})),$){const e="You are using old react-table v7 column config, please use v8 column config instead, refer to our demo or https://tanstack.com/table/v8";return(0,l.jsx)(i.Fc,{children:e})}return(0,l.jsxs)(h.A,{loading:d&&0!==s.length,type:"cover",children:[(0,l.jsx)("div",{style:{width:k,overflowX:"auto"},children:(0,l.jsxs)(i.XI,{style:{width:"100%",tableLayout:"fixed"},children:[(0,l.jsx)(w,{children:H.getHeaderGroups().map(e=>(0,l.jsx)(p,{children:e.headers.map(e=>(0,l.jsx)(f,{colSpan:e.colSpan,style:{width:`${e.column.getSize()}px`},children:e.isPlaceholder?null:(0,l.jsx)("div",{className:o()(d&&"pointer-events-none"),children:(0,m.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),d&&0===s.length?(0,l.jsx)(g,{columns:B.length,rows:A.pageSize,avatarInColumns:a,avatarProps:z}):(0,l.jsx)(y,{children:H.getRowModel().rows.slice(0,N).map(e=>(0,l.jsx)(p,{children:e.getVisibleCells().map(e=>(0,l.jsx)(x,{style:{width:`${e.column.getSize()}px`},children:(0,m.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,l.jsx)(i.dK,{pageSize:N,currentPage:T,total:P,onChange:e=>{d||null===C||void 0===C||C(e)}}),(0,l.jsx)("div",{style:{minWidth:130},children:(0,l.jsx)(i.l6,{size:"sm",menuPlacement:"top",isSearchable:!1,value:_.filter(e=>e.value===N),options:_,onChange:e=>{return t=e.value,void(d||null===S||void 0===S||S(Number(t)));var t}})})]})]})});C.defaultProps={pageSizes:[10,25,50,100],pagingData:{total:0,pageIndex:1,pageSize:10},data:[],columns:[],selectable:!1,loading:!1};const S=C},93950:(e,t,a)=>{var n=a(46686),r=a(4757),o=a(40801),i=Math.max,l=Math.min;e.exports=function(e,t,a){var s,d,c,u,g,h,m=0,v=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var a=s,n=d;return s=d=void 0,m=t,u=e.apply(n,a)}function w(e){var a=e-h;return void 0===h||a>=t||a<0||p&&e-m>=c}function y(){var e=r();if(w(e))return j(e);g=setTimeout(y,function(e){var a=t-(e-h);return p?l(a,c-(e-m)):a}(e))}function j(e){return g=void 0,f&&s?x(e):(s=d=void 0,u)}function C(){var e=r(),a=w(e);if(s=arguments,d=this,h=e,a){if(void 0===g)return function(e){return m=e,g=setTimeout(y,t),v?x(e):u}(h);if(p)return clearTimeout(g),g=setTimeout(y,t),x(h)}return void 0===g&&(g=setTimeout(y,t)),u}return t=o(t)||0,n(a)&&(v=!!a.leading,c=(p="maxWait"in a)?i(o(a.maxWait)||0,t):c,f="trailing"in a?!!a.trailing:f),C.cancel=function(){void 0!==g&&clearTimeout(g),m=0,s=h=d=g=void 0},C.flush=function(){return void 0===g?u:j(r())},C}}}]);
//# sourceMappingURL=9061.25d2d625.chunk.js.map