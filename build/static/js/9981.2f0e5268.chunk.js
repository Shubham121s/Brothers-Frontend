"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[9981],{5809:(e,a,t)=>{t.d(a,{$T:()=>d,B:()=>i,HN:()=>s,N5:()=>n,VC:()=>o,uO:()=>l});var r=t(43971);async function i(){return r.A.fetchData({url:"v1/web/company/product/material-grade/select",method:"get"})}async function d(e){return r.A.fetchData({url:"v1/web/company/product/material-grade",method:"post",data:e})}async function l(e){return r.A.fetchData({url:"v1/web/company/product/material-grade/register",method:"post",data:e})}async function n(e){return r.A.fetchData({url:"v1/web/company/product/material-grade/update",method:"put",data:e})}async function o(e){return r.A.fetchData({url:"v1/web/company/product/material-grade/delete",method:"delete",data:e})}async function s(){return r.A.fetchData({url:"v1/web/company/product/material-grade/option",method:"get"})}},70941:(e,a,t)=>{t.d(a,{Ay:()=>S});var r=t(65043),i=t(49934),d=t(27176),l=t(63516),n=t(56434),o=t.n(n),s=t(93751),c=t(41434),u=t(80899),m=t(70579);const p=e=>{const{errors:a,touched:t,label:d,name:n,placeholder:o="",type:s="text"}=e,{values:c,setFieldValue:u}=(0,l.j7)();(0,r.useEffect)(()=>{if(["raw_lead_time","machine_lead_time","quality_lead_time"].includes(n)){const e=parseFloat(c.raw_lead_time)||0,a=parseFloat(c.machine_lead_time)||0,t=parseFloat(c.quality_lead_time)||0;u("standard_lead_time",e+a+t)}},[c.raw_lead_time,c.machine_lead_time,c.quality_lead_time,u,n]);return(0,m.jsx)(i.eI,{className:"mb-4",label:d,invalid:a&&t,errorMessage:a,children:(0,m.jsx)(l.D0,{type:s,autoComplete:"off",name:n,placeholder:o,component:i.pd,value:c[n]||"",onChange:e=>{let a=e.target.value;"name"===n&&(a=a.toUpperCase()),u(n,a)},..."number"===s?{onWheel:e=>e.target.blur()}:{}})})},h=(0,r.memo)(p),_=e=>{const{errors:a,touched:t,name:r,data:d,values:n,label:o,components:s={}}=e;return(0,m.jsx)(i.eI,{className:"mb-3",label:o,invalid:a&&t,errorMessage:a,children:(0,m.jsx)(l.D0,{name:r,children:e=>{let{field:a,form:t}=e;return(0,m.jsx)(i.l6,{field:a,form:t,options:d,components:s,value:d.filter(e=>e.value===n),onChange:e=>t.setFieldValue(a.name,e.value)})}})})},v=(0,r.memo)(_);var g=t(72234),y=t(76086),b=t(99149),w=t(53536);const x=e=>{const{errors:a,touched:t,label:r,name:d,placeholder:n="",type:o="text",isCodeExixts:s=!1,debouncedHandleCheck:c,handleChange:u,values:p=""}=e;return(0,m.jsx)(i.eI,{className:"mb-4",label:r,invalid:a&&t,errorMessage:a,children:(0,m.jsx)(l.D0,{type:"text",autoComplete:"off",name:d,placeholder:n,component:i.pd,onChange:e=>{(e=>{u(e),"new"==o&&c(e)})(e)}})})},j=(0,r.memo)(x),{Control:f}=g.c;var q=!1;const N=u.Ik().shape({name:u.Yj().required("Required"),description:u.Yj().required("Required"),material_grade_id:u.Yj().required("Required"),unit_measurement:u.Yj().required("Required"),standard_lead_time:u.Yj().required("Required"),standard_lead_time_type:u.Yj().required("Required"),raw_lead_time:u.Yj().required("Required"),raw_lead_time_type:u.Yj().required("Required"),machine_lead_time:u.Yj().required("Required"),machine_lead_time_type:u.Yj().required("Required"),quality_lead_time:u.Yj().required("Required"),quality_lead_time_type:u.Yj().required("Required"),pattern_id:u.Yj().required("Required"),item_code:u.Yj().required("Required").test("isCodeExixts","Item Code Already Exists",function(e){return!q||this.createError({message:"Item Code Already Exists"})}),category_id:u.Yj().required("Required"),drawing_number:u.Yj().required("Required"),raw_weight:u.ai().required("Required"),revision_number:u.Yj().required("Required"),scrap_weight:u.ai(),finish_weight:u.ai().test((e,a)=>0!==e&&(!(e>a.parent.raw_weight)||(a.parent.scrap_weight=0,a.createError({message:`Greater than Raw Weight ${a.parent.raw_weight} ${a.parent.product_um?a.parent.product_um:""}`})))).required("Required")}),R=u.Ik().shape({name:u.Yj().required("Required"),description:u.Yj().required("Required"),material_grade_id:u.Yj().required("Required"),unit_measurement:u.Yj().required("Required"),standard_lead_time:u.Yj().required("Required"),standard_lead_time_type:u.Yj().required("Required"),raw_lead_time:u.Yj().required("Required"),raw_lead_time_type:u.Yj().required("Required"),machine_lead_time:u.Yj().required("Required"),machine_lead_time_type:u.Yj().required("Required"),quality_lead_time:u.Yj().required("Required"),quality_lead_time_type:u.Yj().required("Required"),pattern_id:u.Yj().required("Required"),item_code:u.Yj().required("Required"),category_id:u.Yj().required("Required"),drawing_number:u.Yj().required("Required")}),D=[{label:"Weeks",value:"weeks"}],C=[{label:"No",value:"no"},{label:"Kg",value:"kg"},{label:"MM",value:"mm"}],Y=e=>{let{innerProps:a,label:t,data:r,isSelected:d}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-between p-2 cursor-pointer "+(d?"bg-gray-100":"hover:bg-gray-50"),...a,children:[(0,m.jsxs)("div",{className:"flex items-center gap-2",children:[(0,m.jsx)(i.Ex,{innerClass:r.availability?"bg-emerald-500":"br-red-500"}),(0,m.jsx)("span",{children:t})]}),d&&(0,m.jsx)(s.q9z,{className:"text-emerald-500 text-xl"})]})},A=e=>{let{children:a,...t}=e;const r=t.getValue()[0];return(0,m.jsxs)(f,{...t,children:[r&&(0,m.jsx)(i.Ex,{className:"ltr:ml-4 rtl:mr-4",innerClass:r.availability?"bg-emerald-500":"br-red-500"}),a]})},k=(0,r.forwardRef)((e,a)=>{const{type:t,initialData:n,onFormSubmit:s,onDiscard:u,onDelete:p,categories:_=[],materialGrades:g=[],patterns:x=[]}=e,f=(0,r.useMemo)(()=>_.map(e=>({label:e.name,value:e.category_id})),[_]),k=(0,r.useMemo)(()=>g.map(e=>({label:e.number,value:e.material_grade_id})),[g]),S=(0,r.useMemo)(()=>x.map(e=>({label:e.number,value:e.pattern_id,availability:e.availability})),[x]),I=(e,a,t)=>{e.setFieldValue(a.name,t[0])},M=(0,w.debounce)(async e=>{try{201==(await(0,b.PD)({item_code:e.target.value})).status&&(q=!1)}catch(a){q=!0}},500);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.l1,{enableReinitialize:!0,innerRef:a,initialValues:{...n},validationSchema:"edit"===t?R:N,onSubmit:(e,a)=>{let{setSubmitting:t}=a;const r=o()(e);null===s||void 0===s||s(r,t)},children:e=>{let{values:a,touched:r,errors:n,isSubmitting:o,handleChange:s}=e;return(0,m.jsx)(l.lV,{children:(0,m.jsxs)(i.MG,{children:[(0,m.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,m.jsxs)(i.Zp,{className:"bg-emerald-50 h-max",children:[(0,m.jsx)("h5",{children:"Basic Information"}),(0,m.jsx)("p",{className:"mb-4",children:"Section to config basic product information"}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,m.jsx)(h,{errors:null===n||void 0===n?void 0:n.name,touched:null===r||void 0===r?void 0:r.name,placeholder:"Product Name",label:"Product Name",name:"name"}),(0,m.jsx)(h,{errors:null===n||void 0===n?void 0:n.drawing_number,touched:null===r||void 0===r?void 0:r.drawing_number,placeholder:"Drawing Number",label:"Drawing Number",name:"drawing_number"}),(0,m.jsx)(j,{errors:null===n||void 0===n?void 0:n.item_code,touched:null===r||void 0===r?void 0:r.item_code,placeholder:"Item Code",label:"Item Code",type:t,values:a,handleChange:s,debouncedHandleCheck:M,isCodeExixts:q,name:"item_code"}),(0,m.jsx)(h,{errors:null===n||void 0===n?void 0:n.raw_code,touched:null===r||void 0===r?void 0:r.raw_code,placeholder:"Raw Code",label:"Raw Code",name:"row_code"}),(0,m.jsx)(h,{errors:null===n||void 0===n?void 0:n.hsn_code,touched:null===r||void 0===r?void 0:r.hsn_code,placeholder:"HSN Code",label:"HSN Code",name:"hsn_code"}),(0,m.jsx)(h,{errors:null===n||void 0===n?void 0:n.pump_model,touched:null===r||void 0===r?void 0:r.pump_model,placeholder:"Pump Model",label:"Pump Model",name:"pump_model"}),(0,m.jsx)(h,{errors:null===n||void 0===n?void 0:n.description,touched:null===r||void 0===r?void 0:r.description,placeholder:"Remarks",label:"Remarks",name:"description"})]})]}),(0,m.jsxs)(i.Zp,{className:"bg-blue-50 h-max",children:[(0,m.jsx)("h5",{children:"Other Information"}),(0,m.jsx)("p",{className:"mb-6",children:"Section to config other information"}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,m.jsx)(h,{errors:null===n||void 0===n?void 0:n.standard_lead_time,touched:null===r||void 0===r?void 0:r.standard_lead_time,name:"standard_lead_time",type:"number",placeholder:"Standard Lead Time",label:"SLT"}),(0,m.jsx)(v,{errors:null===n||void 0===n?void 0:n.standard_lead_time_type,touched:null===r||void 0===r?void 0:r.standard_lead_time_type,name:"standard_lead_time_type",data:D,values:a.standard_lead_time_type,label:"SLT Type"}),(0,m.jsx)(h,{errors:null===n||void 0===n?void 0:n.raw_lead_time,touched:null===r||void 0===r?void 0:r.raw_lead_time,name:"raw_lead_time",type:"number",placeholder:"Raw Lead Time",label:"RLT"}),(0,m.jsx)(v,{errors:null===n||void 0===n?void 0:n.raw_lead_time_type,touched:null===r||void 0===r?void 0:r.raw_lead_time_type,name:"raw_lead_time_type",data:D,values:a.raw_lead_time_type,label:"RLT Type"}),(0,m.jsx)(h,{errors:null===n||void 0===n?void 0:n.machine_lead_time,touched:null===r||void 0===r?void 0:r.machine_lead_time,name:"machine_lead_time",type:"number",placeholder:"Machine Lead Time",label:"MLT"}),(0,m.jsx)(v,{errors:null===n||void 0===n?void 0:n.machine_lead_time_type,touched:null===r||void 0===r?void 0:r.machine_lead_time_type,name:"machine_lead_time_type",data:D,values:a.machine_lead_time_type,label:"MLT Type"}),(0,m.jsx)(h,{errors:null===n||void 0===n?void 0:n.quality_lead_time,touched:null===r||void 0===r?void 0:r.quality_lead_time,name:"quality_lead_time",type:"number",placeholder:"Quality Lead Time",label:"QLT"}),(0,m.jsx)(v,{errors:null===n||void 0===n?void 0:n.quality_lead_time_type,touched:null===r||void 0===r?void 0:r.quality_lead_time_type,name:"quality_lead_time_type",data:D,values:a.quality_lead_time_type,label:"QLT Type"}),(0,m.jsx)(v,{errors:null===n||void 0===n?void 0:n.unit_measurement,touched:null===r||void 0===r?void 0:r.unit_measurement,name:"unit_measurement",data:C,values:a.unit_measurement,label:"Unit Measurements"}),(0,m.jsx)(v,{errors:null===n||void 0===n?void 0:n.category_id,touched:null===r||void 0===r?void 0:r.category_id,name:"category_id",data:f,values:a.category_id,label:"Category"}),(0,m.jsx)(v,{errors:null===n||void 0===n?void 0:n.material_grade_id,touched:null===r||void 0===r?void 0:r.material_grade_id,name:"material_grade_id",data:k,values:a.material_grade_id,label:"Material Grade"}),(0,m.jsx)(v,{errors:null===n||void 0===n?void 0:n.pattern_id,touched:null===r||void 0===r?void 0:r.pattern_id,name:"pattern_id",data:S,values:a.pattern_id,label:"Pattern",components:{Option:Y,Control:A}})]})]}),"new"===t&&(0,m.jsx)(i.Zp,{className:"bg-red-50 h-max",children:(0,m.jsxs)("div",{className:"grid grid-cols-1 gap-2 p-2",children:[(0,m.jsx)(y.A,{touched:r,errors:n,values:a}),(0,m.jsx)(i.eI,{className:"mb-4",label:"Process Sheet",children:(0,m.jsx)(l.D0,{name:"process_attachment",children:e=>{let{field:a,form:t}=e;return(0,m.jsx)(i._O,{draggable:!0,showList:!0,className:"cursor-pointer h-[100px]",onChange:e=>I(t,a,e),onFileRemove:e=>I(t,a,e),uploadLimit:1,children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-800 dark:text-white",children:["Drop your pdf here, or"," "]}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: pdf"})]})})}})}),(0,m.jsx)(i.eI,{className:"mb-4",label:"Raw Attachment",children:(0,m.jsx)(l.D0,{name:"raw_attachment",children:e=>{let{field:a,form:t}=e;return(0,m.jsx)(i._O,{draggable:!0,showList:!0,className:"cursor-pointer",onChange:e=>I(t,a,e),onFileRemove:e=>I(t,a,e),uploadLimit:1,children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-800 dark:text-white",children:["Drop your pdf here, or"," "]}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: pdf"})]})})}})}),(0,m.jsx)(i.eI,{label:"Finish Attachment",children:(0,m.jsx)(l.D0,{name:"finish_attachment",children:e=>{let{field:a,form:t}=e;return(0,m.jsx)(i._O,{draggable:!0,showList:!0,className:"cursor-pointer",onChange:e=>I(t,a,e),onFileRemove:e=>I(t,a,e),uploadLimit:1,children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-800 dark:text-white",children:["Drop your pdf here, or"," "]}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"Support: pdf"})]})})}})})]})})]}),(0,m.jsx)(d.NG,{className:"-mx-8 px-8 flex items-center justify-between py-4",stickyClass:"border-t bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:(0,m.jsxs)("div",{className:"md:flex items-center",children:[(0,m.jsx)(i.$n,{size:"sm",className:"mr-3",onClick:()=>null===u||void 0===u?void 0:u(),type:"button",children:"Discard"}),(0,m.jsx)(i.$n,{size:"sm",variant:"solid",loading:o,icon:(0,m.jsx)(c.kuV,{className:"mr-1"}),type:"submit",children:"new"===t?"Save":"Update"})]})})]})})}})})});k.defaultProps={type:"new",initialData:{product_id:"",pattern_id:"",category_id:"",material_grade_id:"",name:"",item_code:"",row_code:"",pump_model:"",unit_measurement:"no",hsn_code:"",description:"",standard_lead_time:"",standard_lead_time_type:"weeks",raw_lead_time:"",raw_lead_time_type:"weeks",machine_lead_time:"",machine_lead_time_type:"weeks",quality_lead_time:"",quality_lead_time_type:"weeks",drawing_number:"",Product:{drawing_number:""},raw_weight:"",drawing_number:"",finish_weight:"",drawing_revision_number:"",raw_attachment:"",finish_attachment:"",process_attachment:""}};const S=k},74171:(e,a,t)=>{t.d(a,{SX:()=>o,V9:()=>d,fP:()=>l,gr:()=>n,re:()=>i});var r=t(43971);async function i(){return r.A.fetchData({url:"v1/web/company/product/pattern/select",method:"get"})}async function d(e){return r.A.fetchData({url:"v1/web/company/product/pattern",method:"post",data:e})}async function l(e){return r.A.fetchData({url:"v1/web/company/product/pattern/register",method:"post",data:e})}async function n(e){return r.A.fetchData({url:"v1/web/company/product/pattern/update",method:"put",data:e})}async function o(e){return r.A.fetchData({url:"v1/web/company/product/pattern/delete",method:"delete",data:e})}},76086:(e,a,t)=>{t.d(a,{A:()=>l});t(65043);var r=t(49934),i=t(63516),d=t(70579);const l=e=>{var a;const{values:t,touched:l,errors:n}=e;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,d.jsx)(r.eI,{className:"mb-4",label:"Drawing Revision Number",invalid:n.revision_number&&l.revision_number,errorMessage:n.revision_number,children:(0,d.jsx)(i.D0,{type:"text",autoComplete:"off",name:"revision_number",placeholder:"Drawing Revision Number",component:r.pd,prefix:t.Product.drawing_number&&`${null===(a=t.Product)||void 0===a?void 0:a.drawing_number} -`})}),(0,d.jsx)(r.eI,{className:"mb-4",label:"Raw weight",invalid:n.raw_weight&&l.raw_weight,errorMessage:n.raw_weight,children:(0,d.jsx)(i.D0,{type:"number",autoComplete:"off",name:"raw_weight",placeholder:"Raw weight",suffix:"Kg",component:r.pd,onWheel:e=>e.target.blur()})}),(0,d.jsx)(r.eI,{className:"mb-4",label:"Finish weight",invalid:n.finish_weight&&l.finish_weight,errorMessage:n.finish_weight,children:(0,d.jsx)(i.D0,{type:"number",step:"0.01",autoComplete:"off",name:"finish_weight",placeholder:"Finish weight",suffix:"Kg",component:r.pd,onWheel:e=>e.target.blur()})}),(0,d.jsx)(r.eI,{className:"mb-4",label:"Scrap weight",children:(0,d.jsx)(i.D0,{type:"text",disabled:!0,autoComplete:"off",placeholder:"Scrap weight",suffix:"Kg",component:r.pd,value:t.raw_weight&&t.finish_weight?t.raw_weight<t.finish_weight?0:t.raw_weight-t.finish_weight:""})})]})})}},81187:(e,a,t)=>{t.d(a,{HZ:()=>d,cu:()=>l,ei:()=>n,yU:()=>i});var r=t(43971);async function i(e){return r.A.fetchData({url:"v1/web/company/product/category",method:"post",data:e})}async function d(e){return r.A.fetchData({url:"v1/web/company/product/category/register",method:"post",data:e})}async function l(e){return r.A.fetchData({url:"v1/web/company/product/category/update",method:"put",data:e})}async function n(e){return r.A.fetchData({url:"v1/web/company/product/category/delete",method:"delete",data:e})}},99149:(e,a,t)=>{t.d(a,{Hx:()=>u,PD:()=>i,RU:()=>p,Sy:()=>d,dD:()=>o,ik:()=>l,j4:()=>s,jD:()=>n,qT:()=>c,th:()=>m});var r=t(43971);async function i(e){return r.A.fetchData({url:"v1/web/company/product/code/check",method:"post",data:e})}async function d(e){return r.A.fetchData({url:"v1/web/company/product",method:"post",data:e})}async function l(e){return r.A.fetchData({url:"v1/web/company/product/register",method:"post",data:e})}async function n(e){return r.A.fetchData({url:"v1/web/company/product/update/id",method:"put",data:e})}async function o(e){return r.A.fetchData({url:"v1/web/company/product/delete/id",method:"delete",data:e})}async function s(e){return r.A.fetchData({url:"v1/web/company/product/details/id",method:"post",data:e})}async function c(e){return r.A.fetchData({url:"v1/web/company/product/drawing/select",method:"get"})}async function u(e){return r.A.fetchData({url:"v1/web/company/product/category/id",method:"post",data:e})}async function m(){return r.A.fetchData({url:"v1/web/company/product/itemCode/option",method:"get"})}async function p(e){return r.A.fetchData({url:"v1/web/company/product/option",method:"post",data:e})}}}]);
//# sourceMappingURL=9981.2f0e5268.chunk.js.map