(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[8053],{4757:(e,r,a)=>{var t=a(56552);e.exports=function(){return t.Date.now()}},8053:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>de});var t=a(65043),o=a(49934),s=a(79456),l=a(88705),n=a(56434),i=a.n(n),d=a(80907),c=a(62142);const u=(0,d.zD)("worker/data/all",async e=>{try{return await(0,c.MA)(e)}catch(r){return(null===r||void 0===r?void 0:r.response)||r.toString()}}),m=(0,d.zD)("worker/data/add",async e=>{try{return await(0,c.qF)(e)}catch(r){return(null===r||void 0===r?void 0:r.response)||r.toString()}}),p=(0,d.zD)("worker/data/update",async e=>{try{return await(0,c.Pg)(e)}catch(r){return(null===r||void 0===r?void 0:r.response)||r.toString()}}),g=(0,d.zD)("worker/data/delete",async e=>{try{return await(0,c.qv)(e)}catch(r){return(null===r||void 0===r?void 0:r.response)||r.toString()}}),h=(0,d.zD)("worker/data/password",async e=>{try{return""}catch(r){return(null===r||void 0===r?void 0:r.response)||r.toString()}}),w=(0,d.Z0)({name:"worker/data",initialState:{loading:!0,worker:[],tableData:{query:"",pageIndex:1,pageSize:10,total:0},filterData:{status:""}},reducers:{setTableData:(e,r)=>{e.tableData=r.payload},setFilterData:(e,r)=>{e.filterData=r.payload}},extraReducers:{[u.fulfilled]:(e,r)=>{var a,t,o;e.worker=(null===(a=r.payload.data)||void 0===a?void 0:a.data)||[],e.tableData.total=null===(t=r.payload)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.total,e.loading=!1},[u.pending]:e=>{e.loading=!0},[m.fulfilled]:(e,r)=>{if(201===r.payload.status){var a,t;if(e.worker.length<e.tableData.pageSize)e.worker.push(null===(a=r.payload)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data);e.tableData.total=e.tableData.total+1}},[p.fulfilled]:(e,r)=>{200===r.payload.status&&(e.worker=e.worker.map(e=>r.meta.arg.worker_id===e.worker_id?{...e,...r.meta.arg}:{...e}))},[g.fulfilled]:(e,r)=>{200===r.payload.status&&(e.worker=e.worker.filter(e=>r.meta.arg.worker_id!=e.worker_id),e.worker.length>0&&(e.tableData.total=e.tableData.total-1))},[h.fulfilled]:()=>{}}}),{setTableData:x,setFilterData:v}=w.actions,f=w.reducer;var k=a(93751),y=a(85369),b=a(23533);const j=(0,d.Z0)({name:"worker/state",initialState:{deleteConfirmation:!1,newDialog:!1,editDialog:!1,passwordDialog:!1,attendanceDialog:!1,selectedWorker:{}},reducers:{toggleDeleteConfirmation:(e,r)=>{e.deleteConfirmation=r.payload},toggleNewDialog:(e,r)=>{e.newDialog=r.payload},toggleEditDialog:(e,r)=>{e.editDialog=r.payload},togglePasswordDialog:(e,r)=>{e.passwordDialog=r.payload},toggleAttendanceDialog:(e,r)=>{e.attendanceDialog=r.payload},setSelectedWorker:(e,r)=>{e.selectedWorker=r.payload}}}),{toggleDeleteConfirmation:_,toggleAttendanceDialog:D,toggleNewDialog:C,togglePasswordDialog:S,toggleEditDialog:N,setSelectedWorker:A}=j.actions,R=j.reducer;var I=a(27176),z=a(70579);const M=()=>{const e=(0,s.wA)(),r=(0,s.d4)(e=>e.worker.state.deleteConfirmation),a=(0,s.d4)(e=>e.worker.state.selectedWorker),t=()=>{e(_(!1))};return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(I.TM,{isOpen:r,onClose:t,onRequestClose:t,type:"danger",title:"Delete Worker",onCancel:t,onConfirm:async()=>{const r=await e(g(a));var t;200===r.payload.status?(e(_(!1)),o.y8.push((0,z.jsx)(o.Eg,{title:"Successfully Deleted",type:"success",duration:2500,children:"HR successfully deleted"}),{placement:"top-center"})):o.y8.push((0,z.jsx)(o.Eg,{title:"Successfully Deleted",type:"success",duration:2500,children:null===(t=r.payload.data)||void 0===t?void 0:t.message}),{placement:"top-center"})},confirmButtonColor:"red-600",children:(0,z.jsx)("p",{children:"Are you sure you want to delete this HR? All record related to this HR will be deleted as well. This action cannot be undone."})})})};var q=a(63516),Y=a(41434),P=a(80899),$=a(99796);const H=P.Ik().shape({worker_name:P.Yj().required("Worker Name Required"),worker_mobile:P.Yj().matches(/^[6-9]\d{9}$/,"Invalid mobile number").required("Mobile number is required"),worker_address:P.Yj().required("Address Required"),worker_adhaar:P.Yj().matches(/^\d{12}$/,"must be 12 digits").required("Aadhaar number is required"),worker_dob:P.Yj().matches(/^\d{4}-\d{2}-\d{2}$/,"Use YYYY-MM-DD").required("DOB required"),worker_blood_group:P.Yj(),worker_pan:P.Yj().optional()}),T=P.Ik().shape({worker_name:P.Yj().required("Worker Name Required"),worker_mobile:P.Yj().matches(/^[6-9]\d{9}$/,"Invalid mobile number").required("Mobile number is required"),worker_status:P.zM().required("Status Required"),worker_address:P.Yj().required("Address Required"),worker_adhaar:P.Yj().matches(/^\d{12}$/,"must be 12 digits").required("Aadhaar number is required"),worker_dob:P.Yj().matches(/^\d{4}-\d{2}-\d{2}$/,"Use YYYY-MM-DD").required("DOB is required"),worker_blood_group:P.Yj(),worker_pan:P.Yj().optional()}),E=(0,t.forwardRef)((e,r)=>{const{type:a,initialData:t,onFormSubmit:s,onDiscard:l}=e,n=async(e,r,a)=>{const t=Math.round(40960);a[0].type.startsWith("image/")&&a[0].size<=t?e.setFieldValue(r.name,await(e=>new Promise((r,a)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>{r(t.result)},t.onerror=e=>{a(e)}}))(a[0])):o.y8.push((0,z.jsx)(o.Eg,{title:"Image Error",type:"danger",duration:3500,children:"Image Size Should Be Less than 40 KB, and the file must be an image."}))};return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(q.l1,{innerRef:r,initialValues:{...t},validationSchema:"new"===a?H:T,onSubmit:(e,r)=>{let{setSubmitting:a}=r;const t=i()(e);null===s||void 0===s||s(t,a)},children:e=>{let{values:r,touched:t,errors:s,isSubmitting:i}=e;return(0,z.jsx)(q.lV,{children:(0,z.jsxs)(o.MG,{children:[(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:["edit"===a&&(0,z.jsx)(o.eI,{label:"Status",className:"mb-2",invalid:s.worker_status&&t.worker_status,errorMessage:s.worker_status,children:(0,z.jsx)(q.D0,{name:"worker_status",children:e=>{let{field:a,form:t}=e;return(0,z.jsx)(o.l6,{placeholder:"Status",field:a,className:"text-left",form:t,options:$.e,value:$.e.filter(e=>e.value===r.worker_status),onChange:e=>{t.setFieldValue(a.name,e.value)}})}})}),(0,z.jsx)(o.eI,{label:"HR Image",children:(0,z.jsx)(q.D0,{name:"worker_image",className:"mt-4",children:e=>{let{field:r,form:a}=e;const t=r.value?{src:r.value}:{};return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)("div",{className:"flex gap-2",children:[(null===t||void 0===t?void 0:t.src)&&(0,z.jsx)("img",{src:null===t||void 0===t?void 0:t.src,width:"50"}),(0,z.jsx)(o._O,{className:"cursor-pointer",onChange:e=>n(a,r,e),onFileRemove:e=>n(a,r,e),showList:!1,uploadLimit:1,children:(0,z.jsx)(o.$n,{variant:"",type:"button",children:"Upload"})})]})})}})}),(0,z.jsx)(o.eI,{className:"mb-2",label:"Name",invalid:s.worker_name&&t.worker_name,errorMessage:s.worker_name,children:(0,z.jsx)(q.D0,{type:"text",autoComplete:"off",name:"worker_name",placeholder:"HR Name",component:o.pd})}),(0,z.jsx)(o.eI,{className:"mb-2",label:"Mobile",invalid:s.worker_mobile&&t.worker_mobile,errorMessage:s.worker_mobile,children:(0,z.jsx)(q.D0,{type:"number",autoComplete:"off",name:"worker_mobile",placeholder:"HR Mobile",component:o.pd})}),(0,z.jsx)(o.eI,{className:"mb-2",label:"Adhaar",invalid:s.worker_adhaar&&t.worker_adhaar,errorMessage:s.worker_adhaar,children:(0,z.jsx)(q.D0,{type:"number",autoComplete:"off",name:"worker_adhaar",placeholder:"HR Adhaar",component:o.pd})}),(0,z.jsx)(o.eI,{className:"mb-2",label:"PAN",invalid:s.worker_pan&&t.worker_pan,errorMessage:s.worker_pan,children:(0,z.jsx)(q.D0,{type:"text",autoComplete:"off",name:"worker_pan",placeholder:"HR PAN",component:o.pd})}),(0,z.jsx)(o.eI,{className:"mb-2",label:"DOB",invalid:s.worker_dob&&t.worker_dob,errorMessage:s.worker_dob,children:(0,z.jsx)(q.D0,{type:"text",autoComplete:"off",name:"worker_dob",placeholder:"YYYY-MM-DD",component:o.pd})}),(0,z.jsx)(o.eI,{className:"mb-2",label:"Blood Group",invalid:s.worker_blood_group&&t.worker_blood_group,errorMessage:s.worker_blood_group,children:(0,z.jsx)(q.D0,{type:"text",autoComplete:"off",name:"worker_blood_group",placeholder:"HR Blood Group",component:o.pd})}),(0,z.jsx)(o.eI,{className:"mb-2",label:"Address",invalid:s.worker_address&&t.worker_address,errorMessage:s.worker_address,children:(0,z.jsx)(q.D0,{type:"text",autoComplete:"off",name:"worker_address",placeholder:"HR Address",component:o.pd})})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2 mt-3 justify-end",children:[(0,z.jsx)(o.$n,{size:"sm",className:"ltr:mr-3 rtl:ml-3",onClick:()=>null===l||void 0===l?void 0:l(),type:"button",children:"Discard"}),(0,z.jsx)(o.$n,{size:"sm",variant:"solid",loading:i,icon:(0,z.jsx)(Y.kuV,{className:"mr-1"}),type:"submit",children:"new"===a?"Create":"Save"})]})]})})}})})});E.defaultProps={type:"edit",initialData:{worker_id:"",worker_name:"",worker_mobile:"",worker_status:!0,worker_address:"",worker_adhaar:"",worker_pan:"",worker_dob:"",worker_image:"",worker_blood_group:""}};const F=E,B=()=>{const e=(0,s.wA)(),r=(0,s.d4)(e=>e.worker.state.newDialog),a=()=>{e(C(!1))},t=()=>{e(C(!1))};return(0,z.jsxs)(o.lG,{isOpen:r,onClose:a,onRequestClose:a,children:[(0,z.jsx)("h4",{className:"text-center mb-5",children:"New HR"}),(0,z.jsx)(F,{type:"new",onFormSubmit:async(r,a)=>{a(!0);const s=await e(m(r));var l;(a(!1),console.log(s),201===s.payload.status)?(o.y8.push((0,z.jsx)(o.Eg,{title:"Successfully added",type:"success",duration:2500,children:"HR successfully added"}),{placement:"top-center"}),t()):o.y8.push((0,z.jsx)(o.Eg,{title:"Failed",type:"danger",duration:2500,children:null===(l=s.payload.data)||void 0===l?void 0:l.message}),{placement:"top-center"})},onDiscard:t})]})},W=()=>{const e=(0,s.wA)(),r=(0,s.d4)(e=>e.worker.state.editDialog),a=(0,s.d4)(e=>e.worker.state.selectedWorker),t=()=>{e(N(!1))},l=()=>{e(N(!1))};return(0,z.jsxs)(o.lG,{isOpen:r,onClose:t,onRequestClose:t,children:[(0,z.jsx)("h4",{className:"text-center mb-5",children:"Update HR"}),(0,z.jsx)(F,{type:"edit",onFormSubmit:async(r,a)=>{a(!0);const t=await e(p(r));var s;(a(!1),200===t.payload.status)?(o.y8.push((0,z.jsx)(o.Eg,{title:"Successfully Updated",type:"success",duration:2500,children:"HR successfully updated"}),{placement:"top-end"}),l()):o.y8.push((0,z.jsx)(o.Eg,{title:"Failed",type:"danger",duration:2500,children:null===(s=t.payload.data)||void 0===s?void 0:s.message}),{placement:"top-center"})},onDiscard:l,initialData:a})]})};var V=a(73216);const K=P.Ik().shape({admin_password:P.Yj().required("Admin Password Required"),password:P.Yj().required("Password Required")}),O=()=>{const e=(0,s.wA)(),r=(0,s.d4)(e=>e.worker.state.passwordDialog),a=(0,s.d4)(e=>e.worker.state.selectedRetailer),t=()=>{e(S(!1))};return(0,z.jsxs)(o.lG,{isOpen:r,onClose:t,onRequestClose:t,children:[(0,z.jsx)("h4",{className:"text-center mb-5",children:"Update Password"}),(0,z.jsx)(q.l1,{initialValues:{admin_password:"",password:""},validationSchema:K,onSubmit:(r,s)=>{let{setSubmitting:l}=s;(async(r,s)=>{s(!0);const l=await e(h({retailer_id:null===a||void 0===a?void 0:a.retailer_id,...r}));var n;s(!1),200===l.payload.status?(o.y8.push((0,z.jsx)(o.Eg,{title:"Successfully Updated",type:"success",duration:2500,children:"Password successfully updated"}),{placement:"top-center"}),t()):o.y8.push((0,z.jsx)(o.Eg,{title:"Failed",type:"danger",duration:2500,children:null===(n=l.payload.data)||void 0===n?void 0:n.message}),{placement:"top-center"})})(i()(r),l)},children:e=>{let{touched:r,errors:a,isSubmitting:s}=e;return(0,z.jsx)(q.lV,{children:(0,z.jsxs)(o.MG,{children:[(0,z.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,z.jsx)(o.eI,{className:"mb-2",label:"Retailer Password",invalid:a.password&&r.password,errorMessage:a.password,children:(0,z.jsx)(q.D0,{type:"text",autoComplete:"off",name:"password",placeholder:"Retailer Password",component:I.yA})}),(0,z.jsx)(o.eI,{className:"mb-2",label:"Your Password",invalid:a.admin_password&&r.admin_password,errorMessage:a.admin_password,children:(0,z.jsx)(q.D0,{type:"text",autoComplete:"off",name:"admin_password",placeholder:"Your Password",component:I.yA})})]}),(0,z.jsxs)("div",{className:"flex items-center gap-2 mt-8 justify-end",children:[(0,z.jsx)(o.$n,{size:"sm",className:"ltr:mr-3 rtl:ml-3",onClick:t,type:"button",children:"Discard"}),(0,z.jsx)(o.$n,{size:"sm",variant:"solid",loading:s,icon:(0,z.jsx)(Y.kuV,{className:"mr-1"}),type:"submit",children:s?"Updating...":"Update"})]})]})})}})]})},U={true:{label:"Active",dotClass:"bg-emerald-500",textClass:"text-emerald-500"},false:{label:"In-Active",dotClass:"bg-red-500",textClass:"text-red-500"}},G=e=>{let{row:r}=e;const a=(0,s.wA)(),t=(0,V.Zp)(),{textTheme:o}=(0,b.A)();return(0,z.jsxs)("div",{className:"flex text-lg",children:[(0,z.jsx)("span",{className:`cursor-pointer p-2 hover:${o}`,onClick:()=>{a(N(!0)),a(A(r))},children:(0,z.jsx)(k.VUG,{})}),(0,z.jsx)("span",{className:"cursor-pointer p-2 hover:text-red-500",onClick:()=>{a(_(!0)),a(A(r))},children:(0,z.jsx)(k.yRo,{})}),(null===r||void 0===r?void 0:r.worker_status)&&(0,z.jsx)("span",{className:"cursor-pointer p-2 hover:text-green-500",onClick:()=>{t(`/worker/attendance?id=${r.worker_id}`)},children:(0,z.jsx)(y.LyP,{})})]})},L=e=>{let{row:r}=e;const{textTheme:a}=(0,b.A)(),t=(0,V.Zp)();return(0,z.jsxs)("span",{className:`cursor-pointer font-semibold hover:${a}`,onClick:()=>{t(`/worker/details?id=${r.worker_id}`)},children:["#",null===r||void 0===r?void 0:r.worker_id]})},Z=()=>{const e=(0,s.wA)(),r=(0,V.Zp)(),a=(0,t.useMemo)(()=>[{header:"#ID",accessorKey:"worker_id",cell:e=>{const r=e.row.original;return(0,z.jsx)(L,{row:r})}},{header:"name",accessorKey:"worker_name",cell:a=>{const t=a.row.original;return(0,z.jsx)("div",{className:"flex items-center",children:(0,z.jsx)(o.m_,{title:(0,z.jsxs)("div",{children:["Click to View"," ",(0,z.jsx)("strong",{className:"text-yellow-400",children:"Ledger"})]}),children:(0,z.jsx)("span",{className:"cursor-pointer p-2 hover:text-red-500",onClick:()=>(a=>{r(`/worker/details?id=${a.worker_id}`),e(A(a))})(t),children:null===t||void 0===t?void 0:t.worker_name})})})}},{header:"mobile",accessorKey:"worker_mobile",cell:e=>{const r=e.row.original;return(0,z.jsxs)("div",{className:"flex items-center",children:["+91 ",null===r||void 0===r?void 0:r.worker_mobile]})}},{header:"address",accessorKey:"worker_address",cell:e=>{const r=e.row.original;return(0,z.jsx)("div",{className:"flex items-center",children:null===r||void 0===r?void 0:r.worker_address})}},{header:"status",accessorKey:"worker_status",cell:e=>{const r=e.row.original;return(0,z.jsxs)("div",{className:"flex items-center",children:[(0,z.jsx)(o.Ex,{className:U[r.worker_status].dotClass}),(0,z.jsx)("span",{className:`ml-2 font-semibold capitalize ${U[r.worker_status].textClass}`,children:U[r.worker_status].label})]})}},{header:"Action",accessorKey:"",cell:e=>{const r=e.row.original;return(0,z.jsx)(G,{row:r})}}],[]),n=(0,s.d4)(e=>e.worker.data.worker),d=(0,s.d4)(e=>e.worker.data.loading),{status:c}=(0,s.d4)(e=>e.worker.data.filterData),{pageIndex:m,pageSize:p,query:g,total:h}=(0,s.d4)(e=>e.worker.data.tableData),w=(0,t.useCallback)(()=>{e(u({pageIndex:m,pageSize:p,query:g,status:c}))},[m,p,g,c]);(0,t.useEffect)(()=>{w()},[m,p,g,c]);const v=(0,t.useMemo)(()=>({pageIndex:m,pageSize:p,query:g,total:h,status:c}),[m,p,g,h,c]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(l.A,{columns:a,data:n,loading:d,pagingData:{pageIndex:m,pageSize:p,query:g,total:h,status:c},onPaginationChange:r=>{const a=i()(v);a.pageIndex=r,e(x(a))},onSelectChange:r=>{const a=i()(v);a.pageSize=Number(r),a.pageIndex=1,e(x(a))}}),(0,z.jsx)(M,{}),(0,z.jsx)(B,{}),(0,z.jsx)(W,{}),(0,z.jsx)(O,{})]})};var X=a(24603);const J=(0,a(50805).HY)({data:f,state:R});var Q=a(93950),ee=a.n(Q);const re=()=>{const e=(0,s.wA)(),r=(0,t.useRef)(),a=(0,s.d4)(e=>e.worker.data.tableData),l=ee()(function(e){const r=i()(a);r.query=e,r.pageIndex=1,"string"===typeof e&&e.length>1&&n(r);"string"===typeof e&&0===e.length&&n(r)},500);const n=r=>{e(u(r)),e(x(r))};return(0,z.jsx)(o.pd,{ref:r,className:"max-w-lg md:w-52",size:"sm",placeholder:"Search HR",prefix:(0,z.jsx)(k.oF9,{className:"text-lg"}),onChange:e=>{l(e.target.value)}})};var ae=a(72234);const{Control:te}=ae.c,oe=[{value:"",label:"All",color:"bg-gray-500"},{value:!0,label:"Active",color:"bg-emerald-500"},{value:!1,label:"In-Active",color:"bg-red-500"}],se=e=>{let{innerProps:r,label:a,data:t,isSelected:s}=e;return(0,z.jsxs)("div",{className:"flex items-center justify-between p-2 cursor-pointer "+(s?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600"),...r,children:[(0,z.jsxs)("div",{className:"flex items-center gap-2",children:[(0,z.jsx)(o.Ex,{innerClass:t.color}),(0,z.jsx)("span",{children:a})]}),s&&(0,z.jsx)(k.q9z,{className:"text-emerald-500 text-xl"})]})},le=e=>{let{children:r,...a}=e;const t=a.getValue()[0];return(0,z.jsxs)(te,{...a,children:[t&&(0,z.jsx)(o.Ex,{className:"ltr:ml-4 rtl:mr-4",innerClass:t.color}),r]})},ne=()=>{const e=(0,s.wA)(),{status:r}=(0,s.d4)(e=>e.worker.data.filterData);return(0,z.jsx)(o.l6,{options:oe,size:"sm",className:"min-w-[130px]",onChange:r=>{e(v({status:r.value}))},components:{Option:se,Control:le},value:oe.filter(e=>e.value===r)})},ie=()=>{const e=(0,s.wA)();return(0,z.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-2",children:[(0,z.jsx)(re,{}),(0,z.jsx)(ne,{}),(0,z.jsx)(o.$n,{onClick:()=>{e(C(!0))},variant:"solid",size:"sm",icon:(0,z.jsx)(k._vZ,{className:"mr-1"}),className:"block lg:inline-block md:mb-0 mb-4 h-full",children:"Add HR"})]})};(0,X.Mh)("worker",J);const de=()=>{const e=(0,t.useRef)(null);return(0,t.useEffect)(()=>{e.current&&e.current.classList.add("slide-in")},[]),(0,z.jsxs)(I.r5,{className:"h-full",bodyClass:"h-full",children:[(0,z.jsxs)("div",{className:"lg:flex items-center justify-between mb-4",children:[(0,z.jsx)("h3",{className:"mb-4 lg:mb-0",children:"HR"}),(0,z.jsx)(ie,{})]}),(0,z.jsx)("div",{ref:e,children:(0,z.jsx)(Z,{})})]})}},10143:e=>{var r=/\s/;e.exports=function(e){for(var a=e.length;a--&&r.test(e.charAt(a)););return a}},40801:(e,r,a)=>{var t=a(61141),o=a(46686),s=a(19841),l=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,i=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(o(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=o(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=t(e);var a=n.test(e);return a||i.test(e)?d(e.slice(2),a?2:8):l.test(e)?NaN:+e}},61141:(e,r,a)=>{var t=a(10143),o=/^\s+/;e.exports=function(e){return e?e.slice(0,t(e)+1).replace(o,""):e}},62142:(e,r,a)=>{"use strict";a.d(r,{$k:()=>m,MA:()=>o,Mn:()=>g,PK:()=>c,Pg:()=>l,_4:()=>i,ef:()=>u,kJ:()=>d,qF:()=>s,qv:()=>n,r1:()=>p});var t=a(43971);async function o(e){return t.A.fetchData({url:"v1/web/company/worker",method:"get",params:e})}async function s(e){return t.A.fetchData({url:"v1/web/company/worker/register",method:"post",data:e})}async function l(e){return t.A.fetchData({url:"v1/web/company/worker/update/id",method:"put",data:e})}async function n(e){return t.A.fetchData({url:"v1/web/company/worker/delete/id",method:"delete",data:e})}async function i(e){return t.A.fetchData({url:"v1/web/company/worker/attendance/id",method:"post",data:e})}async function d(e){return t.A.fetchData({url:"v1/web/company/worker/attendance/total/id",method:"post",data:e})}async function c(e){return t.A.fetchData({url:"v1/web/company/worker/attendance/monthly/id",method:"post",data:e})}async function u(e){return t.A.fetchData({url:"v1/web/company/worker/attendance/register/id",method:"post",data:e})}async function m(e){return t.A.fetchData({url:"v1/web/company/worker/ledger",method:"post",data:e})}async function p(e){return t.A.fetchData({url:"v1/web/company/worker/id",method:"post",data:e})}async function g(e){return t.A.fetchData({url:"v1/web/company/worker/ledger/pay",method:"post",data:e})}},88705:(e,r,a)=>{"use strict";a.d(r,{A:()=>j});var t=a(65043),o=a(98139),s=a.n(o),l=a(49934),n=a(70579);const{Tr:i,Td:d,TBody:c}=l.XI,u=e=>{const{columns:r,rows:a,avatarInColumns:t,avatarProps:o}=e;return(0,n.jsx)(c,{children:Array.from(new Array(a),(e,r)=>r+0).map(e=>(0,n.jsx)(i,{children:Array.from(new Array(r),(e,r)=>r+0).map(e=>(0,n.jsx)(d,{children:(0,n.jsxs)("div",{className:"flex flex-auto items-center gap-2",children:[t.includes(e)&&(0,n.jsx)("div",{children:(0,n.jsx)(l.EA,{variant:"circle",...o})}),(0,n.jsx)(l.EA,{})]})},`col-${e}`))},`row-${e}`))})};u.defaultProps={columns:1,rows:10,avatarInColumns:[]};const m=u;var p=a(6023),g=a(58931),h=a(47111);const{Tr:w,Th:x,Td:v,THead:f,TBody:k}=l.XI,y=e=>{const{indeterminate:r,onChange:a,onCheckBoxChange:o,onIndeterminateCheckBoxChange:s,...i}=e,d=(0,t.useRef)(null);(0,t.useEffect)(()=>{"boolean"===typeof r&&(d.current.indeterminate=!i.checked&&r)},[d,r]);return(0,n.jsx)(l.Sc,{className:"mb-0",ref:d,onChange:(e,r)=>(e=>{a(e),null===o||void 0===o||o(e),null===s||void 0===s||s(e)})(r),...i})},b=(0,t.forwardRef)((e,r)=>{const{skeletonAvatarColumns:a,columns:o,data:i,loading:d,onCheckBoxChange:c,onIndeterminateCheckBoxChange:u,onPaginationChange:b,onSelectChange:j,onSort:_,pageSizes:D,selectable:C,skeletonAvatarProps:S,pagingData:N,tableWidth:A="100%"}=e,{pageSize:R,pageIndex:I,total:z}=N,[M,q]=(0,t.useState)(null),Y=(0,t.useMemo)(()=>D.map(e=>({value:e,label:`${e} / page`})),[D]);(0,t.useEffect)(()=>{if(Array.isArray(M)){const e=M.length>0?M[0].desc?"desc":"asc":"",r=M.length>0?M[0].id:"";null===_||void 0===_||_({order:e,key:r})}},[M]);const P=o.some(e=>e.Header||e.accessor||e.Cell),$=(0,t.useMemo)(()=>{const e=o.map(e=>({...e,size:e.size||void 0,minSize:e.minSize||100,maxSize:e.maxSize||300}));return C?[{id:"select",header:e=>{let{table:r}=e;return(0,n.jsx)(y,{checked:r.getIsAllRowsSelected(),indeterminate:r.getIsSomeRowsSelected(),onChange:r.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:e=>{var a,t;a=e.target.checked,t=r.getRowModel().rows,d||null===u||void 0===u||u(a,t)}})},cell:e=>{let{row:r}=e;return(0,n.jsx)(y,{checked:r.getIsSelected(),disabled:!r.getCanSelect(),indeterminate:r.getIsSomeSelected(),onChange:r.getToggleSelectedHandler(),onCheckBoxChange:e=>((e,r)=>{d||null===c||void 0===c||c(e,r)})(e.target.checked,r.original)})},size:50,minSize:50,maxSize:50},...e]:e},[o,C]),H=(0,g.N4)({data:i,columns:P?[]:$,getCoreRowModel:(0,h.HT)(),getFilteredRowModel:(0,h.hM)(),getPaginationRowModel:(0,h.kW)(),getSortedRowModel:(0,h.h5)(),manualPagination:!0,manualSorting:!0,onSortingChange:q,state:{sorting:M},columnResizeMode:"onChange"}),T=()=>{H.resetSorting()},E=()=>{H.toggleAllRowsSelected(!1)};if((0,t.useImperativeHandle)(r,()=>({resetSorting:T,resetSelected:E})),P){const e="You are using old react-table v7 column config, please use v8 column config instead, refer to our demo or https://tanstack.com/table/v8";return(0,n.jsx)(l.Fc,{children:e})}return(0,n.jsxs)(p.A,{loading:d&&0!==i.length,type:"cover",children:[(0,n.jsx)("div",{style:{width:A,overflowX:"auto"},children:(0,n.jsxs)(l.XI,{style:{width:"100%",tableLayout:"fixed"},children:[(0,n.jsx)(f,{children:H.getHeaderGroups().map(e=>(0,n.jsx)(w,{children:e.headers.map(e=>(0,n.jsx)(x,{colSpan:e.colSpan,style:{width:`${e.column.getSize()}px`},children:e.isPlaceholder?null:(0,n.jsx)("div",{className:s()(d&&"pointer-events-none"),children:(0,g.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),d&&0===i.length?(0,n.jsx)(m,{columns:$.length,rows:N.pageSize,avatarInColumns:a,avatarProps:S}):(0,n.jsx)(k,{children:H.getRowModel().rows.slice(0,R).map(e=>(0,n.jsx)(w,{children:e.getVisibleCells().map(e=>(0,n.jsx)(v,{style:{width:`${e.column.getSize()}px`},children:(0,g.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,n.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,n.jsx)(l.dK,{pageSize:R,currentPage:I,total:z,onChange:e=>{d||null===b||void 0===b||b(e)}}),(0,n.jsx)("div",{style:{minWidth:130},children:(0,n.jsx)(l.l6,{size:"sm",menuPlacement:"top",isSearchable:!1,value:Y.filter(e=>e.value===R),options:Y,onChange:e=>{return r=e.value,void(d||null===j||void 0===j||j(Number(r)));var r}})})]})]})});b.defaultProps={pageSizes:[10,25,50,100],pagingData:{total:0,pageIndex:1,pageSize:10},data:[],columns:[],selectable:!1,loading:!1};const j=b},93950:(e,r,a)=>{var t=a(46686),o=a(4757),s=a(40801),l=Math.max,n=Math.min;e.exports=function(e,r,a){var i,d,c,u,m,p,g=0,h=!1,w=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(r){var a=i,t=d;return i=d=void 0,g=r,u=e.apply(t,a)}function f(e){var a=e-p;return void 0===p||a>=r||a<0||w&&e-g>=c}function k(){var e=o();if(f(e))return y(e);m=setTimeout(k,function(e){var a=r-(e-p);return w?n(a,c-(e-g)):a}(e))}function y(e){return m=void 0,x&&i?v(e):(i=d=void 0,u)}function b(){var e=o(),a=f(e);if(i=arguments,d=this,p=e,a){if(void 0===m)return function(e){return g=e,m=setTimeout(k,r),h?v(e):u}(p);if(w)return clearTimeout(m),m=setTimeout(k,r),v(p)}return void 0===m&&(m=setTimeout(k,r)),u}return r=s(r)||0,t(a)&&(h=!!a.leading,c=(w="maxWait"in a)?l(s(a.maxWait)||0,r):c,x="trailing"in a?!!a.trailing:x),b.cancel=function(){void 0!==m&&clearTimeout(m),g=0,i=p=d=m=void 0},b.flush=function(){return void 0===m?u:y(o())},b}},99796:(e,r,a)=>{"use strict";a.d(r,{C:()=>l,e:()=>s});var t=a(33865),o=a(70579);const s=[{label:"Active",value:!0},{label:"In-Active",value:!1}],l=[{label:"Debit",value:"debit",color:"bg-red-50 text-red-500",content:(0,o.jsx)(t.s2g,{})},{label:"Credit",value:"credit",color:"bg-emerald-50 text-emerald-500",content:(0,o.jsx)(t.b_d,{})}]}}]);
//# sourceMappingURL=8053.a8b8e259.chunk.js.map