"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[2714],{31087:(t,a,e)=>{e.d(a,{Kc:()=>n,V4:()=>c,gh:()=>i,h$:()=>s,oS:()=>o,zG:()=>r});var d=e(43971);async function r(t){return d.A.fetchData({url:"v1/web/company/product/drawing/id",method:"post",data:t})}async function n(t){return d.A.fetchData({url:"v1/web/company/product/drawing/update/id",method:"put",data:t})}async function o(t){return d.A.fetchData({url:"v1/web/company/product/drawing/delete/id",method:"delete",data:t})}async function c(t){return d.A.fetchData({url:"v1/web/company/product/drawing/register",method:"post",data:t})}async function i(t){return d.A.fetchData({url:"v1/web/company/product/drawing/register/new",method:"post",data:t})}async function s(){return d.A.fetchData({url:"v1/web/company/product/drawing/option",method:"get"})}},72714:(t,a,e)=>{e.r(a),e.d(a,{default:()=>x});var d=e(65043),r=e(49934),n=e(73216),o=e(24603),c=e(50805),i=e(80907),s=e(81187),u=e(5809),l=e(74171),p=e(99149);const w=(0,i.zD)("product/data/new/all/categories",async t=>{try{return await(0,s.yU)(t)}catch(a){return null===a||void 0===a?void 0:a.response}}),v=(0,i.zD)("product/data/new/all/material/grades",async t=>{try{return await(0,u.B)(t)}catch(a){return null===a||void 0===a?void 0:a.response}}),h=(0,i.zD)("product/data/new/all/patterns",async t=>{try{return await(0,l.re)(t)}catch(a){return null===a||void 0===a?void 0:a.response}}),y=(0,i.zD)("product/data/new/add",async t=>{try{return await(0,p.ik)(t)}catch(a){return null===a||void 0===a?void 0:a.response}}),f=(0,i.Z0)({name:"product/data/new",initialState:{categoryList:[],materialGradeList:[],patternList:[]},reducers:{},extraReducers:{[w.fulfilled]:(t,a)=>{var e,d;t.categoryList=(null===(e=a.payload)||void 0===e||null===(d=e.data)||void 0===d?void 0:d.data)||[]},[v.fulfilled]:(t,a)=>{var e,d;t.materialGradeList=(null===(e=a.payload)||void 0===e||null===(d=e.data)||void 0===d?void 0:d.data)||[]},[h.fulfilled]:(t,a)=>{var e,d;t.patternList=(null===(e=a.payload)||void 0===e||null===(d=e.data)||void 0===d?void 0:d.data)||[]},[y.fulfilled]:(t,a)=>{}}}).reducer,m=(0,c.HY)({data:f});var g=e(79456),_=e(70941),D=e(98257),b=e.n(D),A=e(31087),L=e(70579);(0,o.Mh)("new_product",m);const k=(t,a,e)=>{r.y8.push((0,L.jsx)(r.Eg,{title:t,type:a,duration:2500,children:e}),{placement:"top-center"})},x=()=>{const t=(0,g.wA)(),a=(0,g.d4)(t=>t.new_product.data.categoryList),e=(0,g.d4)(t=>t.new_product.data.materialGradeList),r=(0,g.d4)(t=>t.new_product.data.patternList);(0,d.useEffect)(()=>{t(w()),t(v()),t(h())},[]);const o=(0,n.Zp)();return(0,L.jsx)(L.Fragment,{children:(0,L.jsx)(_.Ay,{type:"new",onFormSubmit:async(a,e)=>{e(!0);const d=await t(y(a));if(d.payload.status<300){var r,n,c,i,s;const t=new(b());t.append("process_attachment",a.process_attachment),t.append("raw_attachment",a.raw_attachment),t.append("finish_attachment",a.finish_attachment),t.append("revision_number",a.revision_number),t.append("raw_weight",a.raw_weight),t.append("finish_weight",a.finish_weight),t.append("product_id",null===(r=d.payload.data)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.product_id);const u=await(0,A.V4)(t);e(!1),null!==(c=u.data)&&void 0!==c&&c.success?(k("Successfully Added","success","Product Successfully created"),e(!1)):(k("Unsuccessful","danger","Product not created"),e(!1)),o(`/product/drawing/${null===(i=d.payload.data)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.product_id}`)}else{var u,l;k("Unsuccessful","danger",null===(u=d.payload)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.message),e(!1)}},onDiscard:()=>{o("/product")},categories:a,materialGrades:e,patterns:r})})}},98257:t=>{t.exports="object"===typeof self?self.FormData:window.FormData}}]);
//# sourceMappingURL=2714.815d5121.chunk.js.map