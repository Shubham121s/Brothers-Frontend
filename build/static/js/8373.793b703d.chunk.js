(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[8373],{4757:(e,t,a)=>{var n=a(56552);e.exports=function(){return n.Date.now()}},10143:e=>{var t=/\s/;e.exports=function(e){for(var a=e.length;a--&&t.test(e.charAt(a)););return a}},40801:(e,t,a)=>{var n=a(61141),o=a(46686),r=a(19841),l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,d=/^0o[0-7]+$/i,i=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var a=s.test(e);return a||d.test(e)?i(e.slice(2),a?2:8):l.test(e)?NaN:+e}},61141:(e,t,a)=>{var n=a(10143),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},88705:(e,t,a)=>{"use strict";a.d(t,{A:()=>S});var n=a(65043),o=a(98139),r=a.n(o),l=a(49934),s=a(70579);const{Tr:d,Td:i,TBody:c}=l.XI,u=e=>{const{columns:t,rows:a,avatarInColumns:n,avatarProps:o}=e;return(0,s.jsx)(c,{children:Array.from(new Array(a),(e,t)=>t+0).map(e=>(0,s.jsx)(d,{children:Array.from(new Array(t),(e,t)=>t+0).map(e=>(0,s.jsx)(i,{children:(0,s.jsxs)("div",{className:"flex flex-auto items-center gap-2",children:[n.includes(e)&&(0,s.jsx)("div",{children:(0,s.jsx)(l.EA,{variant:"circle",...o})}),(0,s.jsx)(l.EA,{})]})},`col-${e}`))},`row-${e}`))})};u.defaultProps={columns:1,rows:10,avatarInColumns:[]};const p=u;var m=a(6023),g=a(58931),h=a(47111);const{Tr:v,Th:f,Td:x,THead:y,TBody:w}=l.XI,C=e=>{const{indeterminate:t,onChange:a,onCheckBoxChange:o,onIndeterminateCheckBoxChange:r,...d}=e,i=(0,n.useRef)(null);(0,n.useEffect)(()=>{"boolean"===typeof t&&(i.current.indeterminate=!d.checked&&t)},[i,t]);return(0,s.jsx)(l.Sc,{className:"mb-0",ref:i,onChange:(e,t)=>(e=>{a(e),null===o||void 0===o||o(e),null===r||void 0===r||r(e)})(t),...d})},j=(0,n.forwardRef)((e,t)=>{const{skeletonAvatarColumns:a,columns:o,data:d,loading:i,onCheckBoxChange:c,onIndeterminateCheckBoxChange:u,onPaginationChange:j,onSelectChange:S,onSort:b,pageSizes:D,selectable:A,skeletonAvatarProps:z,pagingData:I,tableWidth:k="100%"}=e,{pageSize:T,pageIndex:N,total:P}=I,[_,R]=(0,n.useState)(null),M=(0,n.useMemo)(()=>D.map(e=>({value:e,label:`${e} / page`})),[D]);(0,n.useEffect)(()=>{if(Array.isArray(_)){const e=_.length>0?_[0].desc?"desc":"asc":"",t=_.length>0?_[0].id:"";null===b||void 0===b||b({order:e,key:t})}},[_]);const $=o.some(e=>e.Header||e.accessor||e.Cell),B=(0,n.useMemo)(()=>{const e=o.map(e=>({...e,size:e.size||void 0,minSize:e.minSize||100,maxSize:e.maxSize||300}));return A?[{id:"select",header:e=>{let{table:t}=e;return(0,s.jsx)(C,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:e=>{var a,n;a=e.target.checked,n=t.getRowModel().rows,i||null===u||void 0===u||u(a,n)}})},cell:e=>{let{row:t}=e;return(0,s.jsx)(C,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler(),onCheckBoxChange:e=>((e,t)=>{i||null===c||void 0===c||c(e,t)})(e.target.checked,t.original)})},size:50,minSize:50,maxSize:50},...e]:e},[o,A]),K=(0,g.N4)({data:d,columns:$?[]:B,getCoreRowModel:(0,h.HT)(),getFilteredRowModel:(0,h.hM)(),getPaginationRowModel:(0,h.kW)(),getSortedRowModel:(0,h.h5)(),manualPagination:!0,manualSorting:!0,onSortingChange:R,state:{sorting:_},columnResizeMode:"onChange"}),q=()=>{K.resetSorting()},H=()=>{K.toggleAllRowsSelected(!1)};if((0,n.useImperativeHandle)(t,()=>({resetSorting:q,resetSelected:H})),$){const e="You are using old react-table v7 column config, please use v8 column config instead, refer to our demo or https://tanstack.com/table/v8";return(0,s.jsx)(l.Fc,{children:e})}return(0,s.jsxs)(m.A,{loading:i&&0!==d.length,type:"cover",children:[(0,s.jsx)("div",{style:{width:k,overflowX:"auto"},children:(0,s.jsxs)(l.XI,{style:{width:"100%",tableLayout:"fixed"},children:[(0,s.jsx)(y,{children:K.getHeaderGroups().map(e=>(0,s.jsx)(v,{children:e.headers.map(e=>(0,s.jsx)(f,{colSpan:e.colSpan,style:{width:`${e.column.getSize()}px`},children:e.isPlaceholder?null:(0,s.jsx)("div",{className:r()(i&&"pointer-events-none"),children:(0,g.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),i&&0===d.length?(0,s.jsx)(p,{columns:B.length,rows:I.pageSize,avatarInColumns:a,avatarProps:z}):(0,s.jsx)(w,{children:K.getRowModel().rows.slice(0,T).map(e=>(0,s.jsx)(v,{children:e.getVisibleCells().map(e=>(0,s.jsx)(x,{style:{width:`${e.column.getSize()}px`},children:(0,g.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsx)(l.dK,{pageSize:T,currentPage:N,total:P,onChange:e=>{i||null===j||void 0===j||j(e)}}),(0,s.jsx)("div",{style:{minWidth:130},children:(0,s.jsx)(l.l6,{size:"sm",menuPlacement:"top",isSearchable:!1,value:M.filter(e=>e.value===T),options:M,onChange:e=>{return t=e.value,void(i||null===S||void 0===S||S(Number(t)));var t}})})]})]})});j.defaultProps={pageSizes:[10,25,50,100],pagingData:{total:0,pageIndex:1,pageSize:10},data:[],columns:[],selectable:!1,loading:!1};const S=j},93950:(e,t,a)=>{var n=a(46686),o=a(4757),r=a(40801),l=Math.max,s=Math.min;e.exports=function(e,t,a){var d,i,c,u,p,m,g=0,h=!1,v=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var a=d,n=i;return d=i=void 0,g=t,u=e.apply(n,a)}function y(e){var a=e-m;return void 0===m||a>=t||a<0||v&&e-g>=c}function w(){var e=o();if(y(e))return C(e);p=setTimeout(w,function(e){var a=t-(e-m);return v?s(a,c-(e-g)):a}(e))}function C(e){return p=void 0,f&&d?x(e):(d=i=void 0,u)}function j(){var e=o(),a=y(e);if(d=arguments,i=this,m=e,a){if(void 0===p)return function(e){return g=e,p=setTimeout(w,t),h?x(e):u}(m);if(v)return clearTimeout(p),p=setTimeout(w,t),x(m)}return void 0===p&&(p=setTimeout(w,t)),u}return t=r(t)||0,n(a)&&(h=!!a.leading,c=(v="maxWait"in a)?l(r(a.maxWait)||0,t):c,f="trailing"in a?!!a.trailing:f),j.cancel=function(){void 0!==p&&clearTimeout(p),g=0,d=m=i=p=void 0},j.flush=function(){return void 0===p?u:C(o())},j}},98373:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var n=a(65043),o=a(24603),r=a(50805),l=a(80907),s=a(99149);const d=(0,l.zD)("product/data/all/product",async e=>{try{return await(0,s.Sy)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),i=(0,l.zD)("product/data/delete",async e=>{try{return await(0,s.dD)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),c=(0,l.Z0)({name:"product/data",initialState:{loading:!1,productList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:""}},reducers:{setTableData:(e,t)=>{e.tableData=t.payload}},extraReducers:{[d.fulfilled]:(e,t)=>{var a;e.productList=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[],e.tableData.total=t.payload.data.total||0,e.loading=!1},[d.pending]:(e,t)=>{e.loading=!0},[i.fulfilled]:(e,t)=>{}}}),{setTableData:u,setFilterData:p}=c.actions,m=c.reducer,g=(0,l.Z0)({name:"product/datae",initialState:{deleteConfirmation:!1,selectedProduct:{}},reducers:{togglDeleteConfirmationDialog:(e,t)=>{e.deleteConfirmation=t.payload},setSelectedProduct:(e,t)=>{e.selectedProduct=t.payload}}}),{setSelectedProduct:h,togglDeleteConfirmationDialog:v}=g.actions,f=g.reducer,x=(0,r.HY)({data:m,state:f});var y=a(79456),w=a(23533),C=a(73216),j=a(35475),S=a(56434),b=a.n(S),D=a(88705),A=a(93751),z=a(49934),I=a(27176),k=a(70579);const T=(e,t,a)=>z.y8.push((0,k.jsx)(z.Eg,{title:e,type:t,duration:2500,children:a}),{placement:"top-center"}),N=()=>{const[e,t]=(0,n.useState)(!1),a=(0,y.d4)(e=>e.product.data.tableData),o=(0,y.wA)(),r=(0,y.d4)(e=>e.product.state.selectedProduct),l=(0,y.d4)(e=>e.product.state.deleteConfirmation),s=()=>{o(v(!1))};return(0,k.jsx)(I.TM,{isOpen:l,onClose:s,onRequestClose:s,type:"danger",title:"Delete Drawing",onCancel:s,onConfirm:async()=>{var e;t(!0);const n=await o(i({product_id:null===r||void 0===r?void 0:r.product_id}));var l,c,u,p;if(t(!1),!((null===(e=n.payload)||void 0===e?void 0:e.status)<300))return T("Unsuccessfully","danger",null===(l=n.payload)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message);T("Successfully Deleted","success",null===(u=n.payload)||void 0===u||null===(p=u.data)||void 0===p?void 0:p.message),s(),o(d(a))},confirmText:e?"Deleting...":"Confirm",confirmButtonColor:"red-600",children:(0,k.jsx)("p",{children:"Are you sure you want to delete this Product? This action cannot be undone."})})},P=e=>{let{row:t}=e;const{textTheme:a}=(0,w.A)(),n=(0,C.Zp)(),o=(0,y.wA)();return(0,k.jsxs)("div",{className:"flex justify-between text-lg",children:[(0,k.jsx)("span",{className:`cursor-pointer hover:${a}`,onClick:()=>{n(`/product/edit/${t.product_id}`)},children:(0,k.jsx)(A.VUG,{})}),(0,k.jsx)("span",{className:`cursor-pointer hover:${a}`,onClick:()=>{o(h(t)),o(v(!0))},children:(0,k.jsx)(A.yRo,{})})]})},_=e=>{let{row:t}=e;const{textTheme:a}=(0,w.A)();return(0,k.jsx)("div",{className:"items-center",children:(0,k.jsx)(j.N_,{className:`hover:${a} font-semibold`,to:`/product/drawing/${null===t||void 0===t?void 0:t.product_id}`,children:null===t||void 0===t?void 0:t.item_code})})},R=()=>{const e=(0,y.wA)(),t=(0,y.d4)(e=>e.product.data.productList),a=(0,y.d4)(e=>e.product.data.loading),o=[{header:"Name",accessorKey:"name",size:200,cell:e=>{const t=e.row.original;return(0,k.jsx)("div",{children:null===t||void 0===t?void 0:t.name})}},{header:"item code",accessorKey:"item_code",cell:e=>{const t=e.row.original;return(0,k.jsx)(_,{row:t})}},{header:"P. Code",accessorKey:"product_code"},{header:"Pattern No",accessorKey:"Pattern.number"},{header:"Category",accessorKey:"Category.name"},{header:"Mat. Grd. No",accessorKey:"MaterialGrade.number"},{header:"hsn code",accessorKey:"hsn_code",cell:e=>{const t=e.row.original;return(0,k.jsx)("span",{className:"uppercase",children:t.hsn_code||"-"})}},{header:"slt",accessorKey:"standard_lead_time",size:100,cell:e=>{const t=e.row.original;return(0,k.jsx)("span",{children:`${null===t||void 0===t?void 0:t.standard_lead_time} ${null===t||void 0===t?void 0:t.standard_lead_time_type}`})}},{header:"",id:"product_id",size:80,cell:e=>{const t=e.row.original;return(0,k.jsx)(P,{row:t})}}],{pageIndex:r,pageSize:l,query:s,total:i}=(0,y.d4)(e=>e.product.data.tableData),c=(0,n.useCallback)(()=>{e(d({pageIndex:r,pageSize:l,query:s}))},[r,l,s,e]);(0,n.useEffect)(()=>{c()},[c,r,l]);const p=(0,n.useMemo)(()=>({pageIndex:r,pageSize:l,query:s,total:i}),[r,l,s,i]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(D.A,{columns:o,data:t,loading:a,pagingData:{pageIndex:r,pageSize:l,query:s,total:i},onPaginationChange:t=>{const a=b()(p);a.pageIndex=t,e(u(a))},onSelectChange:t=>{const a=b()(p);a.pageSize=Number(t),a.pageIndex=1,e(u(a))}}),(0,k.jsx)(N,{})]})};var M=a(93950),$=a.n(M);const B=(0,n.forwardRef)((e,t)=>{const{onInputChange:a}=e,n=$()(function(e){null===a||void 0===a||a(e)},500);return(0,k.jsx)(z.pd,{ref:t,className:"max-w-md md:w-52",size:"sm",placeholder:"Search",prefix:(0,k.jsx)(A.oF9,{className:"text-lg"}),onChange:e=>{n(e.target.value)}})}),K=()=>{const e=(0,y.wA)(),t=(0,n.useRef)(),a=(0,y.d4)(e=>e.product.data.tableData),o=t=>{e(u(t)),e(d(t))};return(0,k.jsxs)("div",{className:"md:flex items-center justify-end gap-2 mb-4",children:[(0,k.jsx)(B,{ref:t,onInputChange:e=>{const t=b()(a);t.query=e,t.pageIndex=1,"string"===typeof e&&e.length>1&&o(t),"string"===typeof e&&0===e.length&&o(t)}}),(0,k.jsx)(z.$n,{size:"sm",onClick:()=>{const e=b()(a);e.query="",t.current.value="",o(e)},children:"Clear All"})]})};(0,o.Mh)("product",x);const q=()=>(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(z.Zp,{className:"bg-purple-50",children:[(0,k.jsx)(K,{}),(0,k.jsx)(R,{})]})})},99149:(e,t,a)=>{"use strict";a.d(t,{Hx:()=>u,PD:()=>o,RU:()=>m,Sy:()=>r,dD:()=>d,ik:()=>l,j4:()=>i,jD:()=>s,qT:()=>c,th:()=>p});var n=a(43971);async function o(e){return n.A.fetchData({url:"v1/web/company/product/code/check",method:"post",data:e})}async function r(e){return n.A.fetchData({url:"v1/web/company/product",method:"post",data:e})}async function l(e){return n.A.fetchData({url:"v1/web/company/product/register",method:"post",data:e})}async function s(e){return n.A.fetchData({url:"v1/web/company/product/update/id",method:"put",data:e})}async function d(e){return n.A.fetchData({url:"v1/web/company/product/delete/id",method:"delete",data:e})}async function i(e){return n.A.fetchData({url:"v1/web/company/product/details/id",method:"post",data:e})}async function c(e){return n.A.fetchData({url:"v1/web/company/product/drawing/select",method:"get"})}async function u(e){return n.A.fetchData({url:"v1/web/company/product/category/id",method:"post",data:e})}async function p(){return n.A.fetchData({url:"v1/web/company/product/itemCode/option",method:"get"})}async function m(e){return n.A.fetchData({url:"v1/web/company/product/option",method:"post",data:e})}}}]);
//# sourceMappingURL=8373.793b703d.chunk.js.map