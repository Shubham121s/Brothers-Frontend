(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[3721],{4757:(e,t,a)=>{var o=a(56552);e.exports=function(){return o.Date.now()}},10143:e=>{var t=/\s/;e.exports=function(e){for(var a=e.length;a--&&t.test(e.charAt(a)););return a}},33721:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ie});var o=a(65043),n=a(24603),r=a(49934),s=a(79456),l=a(80907),i=a(67600);const d=(0,l.zD)("po/data/list/all",async e=>{try{return await(0,i.nd)(e)}catch(t){return t.response}}),c=(0,l.zD)("po/data/list/delete",async e=>{try{return await(0,i.nT)(e)}catch(t){return t.response}}),u=(0,l.zD)("po/data/list/po/years",async()=>{try{return await(0,i.L7)()}catch(e){return e.response}}),p=(0,l.zD)("po/data/list/po/months",async e=>{try{return await(0,i.mF)(e)}catch(t){return t.response}}),m=(0,l.zD)("po/data/list/po/dates",async e=>{try{return await(0,i.NH)(e)}catch(t){return t.response}}),h=(0,l.zD)("po/data/list/po/number",async e=>{try{return await(0,i.jd)(e)}catch(t){return t.response}}),g=(0,l.zD)("po/data/list/poa/number",async e=>{try{return await(0,i.TR)(e)}catch(t){return t.response}}),v=(0,l.zD)("po/data/list/poa/customer",async e=>{try{return await(0,i.Wm)(e)}catch(t){return t.response}}),y=(0,l.Z0)({name:"po/data/list",initialState:{loading:!1,poList:[],years:[],dates:[],months:[],poNumbers:[],poaNumbers:[],customer:[],tableData:{total:0,pageIndex:1,pageSize:10,customer_id:"",query:"",poNumber:"",poaNumber:"",startDate:"",endDate:"",months:"",year:"",date:""},filterData:{status:""}},reducers:{setTableData:(e,t)=>{e.tableData={...e.tableData,...t.payload}},setFilterData:(e,t)=>{e.filterData=t.payload},setStartDate:(e,t)=>{e.tableData.startDate=t.payload},setEndDate:(e,t)=>{e.tableData.endDate=t.payload}},extraReducers:{[d.fulfilled]:(e,t)=>{var a;console.log("action.payload",t.payload),e.poList=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[],e.tableData.total=t.payload.data.total||0,e.loading=!1},[d.pending]:(e,t)=>{e.loading=!0},[h.fulfilled]:(e,t)=>{var a;e.poNumbers=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[]},[g.fulfilled]:(e,t)=>{var a;e.poaNumbers=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[]},[u.fulfilled]:(e,t)=>{var a;e.years=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[]},[p.fulfilled]:(e,t)=>{var a;e.months=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[]},[m.fulfilled]:(e,t)=>{var a;e.dates=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[]},[v.fulfilled]:(e,t)=>{var a,o,n;e.customer=null===(a=t.payload.data)||void 0===a?void 0:a.data,e.tableData.total=null===(o=t.payload)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.total,e.loading=!1},[c.fulfilled]:(e,t)=>{}}}),{setTableData:f,setFilterData:x,setStartDate:b,setEndDate:w}=y.actions,D=y.reducer;var j=a(23533),C=a(73216),S=a(35475),N=a(60446),A=a.n(N),_=a(56434),z=a.n(_),O=a(88705),F=a(93751);const Y=(0,l.Z0)({name:"po/data/list",initialState:{deleteConfirmation:!1,selectedOrder:{}},reducers:{togglDeleteConfirmationDialog:(e,t)=>{e.deleteConfirmation=t.payload},setSelectedOrder:(e,t)=>{e.selectedOrder=t.payload}}}),{setSelectedOrder:I,togglDeleteConfirmationDialog:k}=Y.actions,T=Y.reducer;var M=a(27176),P=a(70579);const R=(e,t,a)=>r.y8.push((0,P.jsx)(r.Eg,{title:e,type:t,duration:2500,children:a}),{placement:"top-center"}),$=()=>{const[e,t]=(0,o.useState)(!1),a=(0,s.d4)(e=>e.po_list.data.tableData),n=(0,s.wA)(),r=(0,s.d4)(e=>e.po_list.state.selectedOrder),l=(0,s.d4)(e=>e.po_list.state.deleteConfirmation),i=()=>{n(k(!1))};return(0,P.jsx)(M.TM,{isOpen:l,onClose:i,onRequestClose:i,type:"danger",title:"Delete Order",onCancel:i,onConfirm:async()=>{var e;const o=await n(c({po_id:null===r||void 0===r?void 0:r.po_id}));var s,l,u,p;if(t(!1),!((null===(e=o.payload)||void 0===e?void 0:e.status)<300))return R("Unsuccessfully","danger",null===(s=o.payload)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message);R("Successfully Deleted","success",null===(u=o.payload)||void 0===u||null===(p=u.data)||void 0===p?void 0:p.message),i(),n(d(a))},confirmText:e?"Deleting...":"Confirm",confirmButtonColor:"red-600",children:(0,P.jsx)("p",{children:"Are you sure you want to delete this Order? This action cannot be undone."})})},J={delivered:{label:"Delivered",bgClass:"bg-emerald-100",textClass:"text-emerald-600"},rejected:{label:"Rejected",bgClass:"bg-red-100",textClass:"text-red-600"},processing:{label:"Processing",bgClass:"bg-yellow-100",textClass:"text-yellow-600"},pending:{label:"Pending",bgClass:"bg-blue-100",textClass:"text-blue-600"}},E=e=>{let{index:t,row:a}=e;const o=(0,C.Zp)(),n=(0,s.wA)(),{textTheme:r}=(0,j.A)();return(0,P.jsxs)("div",{className:"flex justify-center text-lg gap-x-4",children:[(0,P.jsx)("span",{className:`cursor-pointer hover:${r}`,onClick:()=>{o(`/po-Edit/${a.po_id}`)},children:(0,P.jsx)(F.VUG,{})}),(0,P.jsx)("span",{className:"cursor-pointer hover:text-red-500",onClick:()=>{n(k(!0)),n(I(a))},children:(0,P.jsx)(F.yRo,{})})]})},K=e=>{let{row:t}=e;const{textTheme:a}=(0,j.A)();return(0,P.jsx)(r.m_,{title:(0,P.jsxs)("div",{children:["View ",(0,P.jsx)("strong",{className:"text-yellow-400",children:"Purchase"})," Order"]}),children:(0,P.jsx)(S.N_,{className:`hover:${a} font-semibold`,to:`/po-details/${null===t||void 0===t?void 0:t.po_id}`,children:null===t||void 0===t?void 0:t.poa})})},B=()=>{const e=(0,s.wA)(),t=(0,s.d4)(e=>e.po_list.data.poList),a=(0,s.d4)(e=>e.po_list.data.loading),{status:n}=(0,s.d4)(e=>e.po_list.data.filterData),l=(0,o.useMemo)(()=>t.slice().sort((e,t)=>(parseFloat(e.poa)||0)-(parseFloat(t.poa)||0)),[t]),i=[{header:"POa",accessorKey:"poa",cell:e=>{const t=e.row.original;return(0,P.jsx)(K,{row:t})}},{header:"PO Number",accessorKey:"number",cell:e=>{const t=e.row.original;return(0,P.jsx)("div",{className:"uppercase",children:null===t||void 0===t?void 0:t.number})}},{header:"Customer",accessorKey:"Customer.name",cell:e=>{var t;const a=e.row.original;return(0,P.jsx)("div",{className:"uppercase",children:null===a||void 0===a||null===(t=a.Customer)||void 0===t?void 0:t.name})}},{header:"C. Code",accessorKey:"Customer.customer_code",cell:e=>{const t=e.row.original;return(0,P.jsx)("div",{children:null===t||void 0===t?void 0:t.Customer.customer_code})}},{header:"C. Type",accessorKey:"Customer.type",cell:e=>{const t=e.row.original;return(0,P.jsx)("div",{className:"capitalize",children:null===t||void 0===t?void 0:t.Customer.type})}},{header:"Mobile",accessorKey:"Customer.mobile"},{header:"Status",accessorKey:"status",cell:e=>{var t,a,o;const n=e.row.original;return(0,P.jsx)("div",{className:"mr-2",children:(0,P.jsx)(r.vw,{className:`${null===(t=J[null===n||void 0===n?void 0:n.status])||void 0===t?void 0:t.bgClass} ${null===(a=J[null===n||void 0===n?void 0:n.status])||void 0===a?void 0:a.textClass} border-0`,children:null===(o=J[null===n||void 0===n?void 0:n.status])||void 0===o?void 0:o.label})})}},{header:"PO Date",accessorKey:"po_date",cell:e=>{const t=e.row.original;return(0,P.jsx)("div",{children:A()(t.date).format("DD-MMM-YYYY")})}},{header:"Reg. Date",accessorKey:"po_date",cell:e=>{const t=e.row.original;return(0,P.jsx)("div",{children:A()(t.createdAt).format("DD-MMM-YYYY")})}},{header:"Amount",accessorKey:"Amount",cell:e=>{const t=e.row.original;return(0,P.jsx)("div",{children:"INR"===(null===t||void 0===t?void 0:t.currency_type)?"\u20b9 "+(null===t||void 0===t?void 0:t.Amount):"$ "+(null===t||void 0===t?void 0:t.Amount)})}},{header:"",accessorKey:"action",cell:e=>{const{index:t}=e.row,a=e.row.original;return(0,P.jsx)(E,{index:t,row:a})}}],{pageIndex:c,pageSize:y,sort:x,query:b,total:w,poNumber:D,customer_id:j,poaNumber:C,startDate:S,endDate:N,months:_,year:F,date:Y}=(0,s.d4)(e=>e.po_list.data.tableData),I=(0,o.useCallback)(()=>{e(d({pageIndex:c,pageSize:y,sort:x,query:b,status:n,poNumber:D,poaNumber:C,startDate:S,endDate:N,months:_,year:F,date:Y,customer_id:j,po_id:null===t||void 0===t?void 0:t.po_id}))},[c,y,x,b,n,e,D,C,N,_,F,Y,j]);(0,o.useEffect)(()=>{I()},[I,c,y,x,b,n,D,C,N,_,F,Y,j]),(0,o.useEffect)(()=>{e(h()),e(g()),e(v()),e(u()),e(p()),e(m())},[]);const k=(0,o.useMemo)(()=>({pageIndex:c,pageSize:y,sort:x,total:w,query:b,status:n,poNumber:D,poaNumber:C,endDate:N,months:_,year:F,date:Y,customer_id:j}),[c,y,x,b,w,n,D,C,N,_,F,Y,j]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(O.A,{columns:i,data:l,loading:a,pagingData:{pageIndex:c,pageSize:y,sort:x,query:b,total:w},onPaginationChange:t=>{const a=z()(k);a.pageIndex=t,e(f(a))},onSelectChange:t=>{const a=z()(k);a.pageSize=Number(t),a.pageIndex=1,e(f(a))}}),(0,P.jsx)($,{})]})};const L=(0,a(50805).HY)({data:D,state:T});var q=a(93950),H=a.n(q);const W=(0,o.forwardRef)((e,t)=>{const{onInputChange:a}=e,o=H()(function(e){null===a||void 0===a||a(e)},500);return(0,P.jsx)(r.pd,{ref:t,className:"max-w-md md:w-52",size:"sm",placeholder:"Search",prefix:(0,P.jsx)(F.oF9,{className:"text-lg"}),onChange:e=>{o(e.target.value)}})});var U=a(86213),V=a(39679),X=a(16859),Z=a(94253),Q=a(27149);const G=()=>{const e=(0,s.d4)(e=>e.po_list.data.tableData),[t,a]=(0,o.useState)(!1);return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(r.$n,{size:"sm",onClick:async()=>{a(!0);try{const t=localStorage.getItem(X.TN);let o=(0,Z.A)(t).auth.session.token;const n=await U.A.post(`${V.A.apiPrefix}v1/web/company/reports/sale/orderList`,{...e},{headers:{Authorization:`Bearer ${o}`},responseType:"blob"});a(!1);const r=new Blob([n.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=document.createElement("a");s.href=window.URL.createObjectURL(r),s.download="SaleOrderList.xlsx",document.body.appendChild(s),s.click(),s.remove()}catch(t){a(!1),console.error("Error downloading the file:",t)}},loading:t,icon:(0,P.jsx)(Q.jUO,{}),children:t?"Preparing To Download":"Excel"})})};(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear(),(new Date).getFullYear();var ee=a(72234);const{Control:te}=ee.c,ae=[{value:"",label:"All",color:"bg-gray-500"},{value:"processing",label:"Processing",color:"bg-pink-600"},{value:"pending",label:"Pending",color:"bg-yellow-600"},{value:"completed",label:"Completed",color:"bg-emerald-600"}],oe=e=>{let{innerProps:t,label:a,data:o,isSelected:n}=e;return(0,P.jsxs)("div",{className:"flex items-center justify-between p-2 cursor-pointer "+(n?"bg-gray-100 dark:bg-gray-500":"hover:bg-gray-50 dark:hover:bg-gray-600"),...t,children:[(0,P.jsxs)("div",{className:"flex items-center gap-2",children:[(0,P.jsx)(r.Ex,{innerClass:o.color}),(0,P.jsx)("span",{children:a})]}),n&&(0,P.jsx)(F.q9z,{className:"text-emerald-500 text-xl"})]})},ne=e=>{let{children:t,...a}=e;const o=a.getValue()[0];return(0,P.jsxs)(te,{...a,children:[o&&(0,P.jsx)(r.Ex,{className:"ltr:ml-4 rtl:mr-4",innerClass:o.color}),t]})},re=()=>{const e=(0,s.wA)(),{status:t}=(0,s.d4)(e=>e.po_list.data.filterData);return(0,P.jsx)(r.l6,{options:ae,size:"sm",className:"min-w-[130px]",onChange:t=>{e(x({status:t.value}))},components:{Option:oe,Control:ne},value:ae.filter(e=>e.value===t)})},{DatePickerRange:se}=r.lr,le=()=>{const e=(0,s.wA)(),[t,a]=(0,o.useState)(!1),n=(0,s.d4)(e=>e.po_list.data.years),l=(0,s.d4)(e=>e.po_list.data.months),i=(0,s.d4)(e=>e.po_list.data.dates),c=(0,s.d4)(e=>e.po_list.data.poNumbers),y=(0,s.d4)(e=>e.po_list.data.poaNumbers),b=((0,s.d4)(e=>e.po_list.data.tableData.startDate),(0,s.d4)(e=>e.po_list.data.customer)),[w,D]=((0,s.d4)(e=>e.po_list.data.poList),(0,s.d4)(e=>e.po_list.data.tableData.endDate),(0,o.useState)([])),[j,C]=(0,o.useState)([]),[S,N]=(0,o.useState)([]),[A,_]=(0,o.useState)([]),[O,Y]=(0,o.useState)([]),[I,k]=(0,o.useState)([]),T=(0,o.useRef)(),M=(0,s.d4)(e=>e.po_list.data.tableData),R=(t,a)=>{const o=z()(M);if("customer"===a){k(t);let a=t.map(e=>e.value);e(g({customer_id:JSON.stringify(a)})),e(p({customer_id:JSON.stringify(a)})),e(h({customer_id:JSON.stringify(a)})),e(m({customer_id:JSON.stringify(a)})),o.customer_id=JSON.stringify(a)}else if("poYear"===a){D(t);let a=t.map(e=>e.value);e(g({customer_id:o.customer_id,year:JSON.stringify(a)})),e(p({customer_id:o.customer_id,year:JSON.stringify(a)})),e(h({customer_id:o.customer_id,year:JSON.stringify(a)})),e(m({customer_id:o.customer_id,year:JSON.stringify(a)})),o.year=JSON.stringify(a)}else if("poNumber"===a){C(t);let e=t.map(e=>e.value);o.poNumber=JSON.stringify(e)}else if("poaNumber"===a){N(t);let e=t.map(e=>e.value);o.poaNumber=JSON.stringify(e)}else if("month"===a){_(t);let a=t.map(e=>e.value);e(g({customer_id:o.customer_id,months:JSON.stringify(a),year:o.year})),e(h({customer_id:o.customer_id,months:JSON.stringify(a),year:o.year})),e(m({customer_id:o.customer_id,months:JSON.stringify(a),year:o.year})),o.months=JSON.stringify(a)}else if("date"===a){Y(t);let a=t.map(e=>e.value);e(h({customer_id:o.customer_id,months:o.months,year:o.year,date:JSON.stringify(a)})),e(g({customer_id:o.customer_id,months:o.months,year:o.year,date:JSON.stringify(a)})),o.date=JSON.stringify(a)}o.pageIndex=1,e(f(o))},$=t=>{e(f(t)),e(d(t))};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-4",children:[(0,P.jsx)("h3",{children:"Sale Orders"}),(0,P.jsxs)("div",{className:"flex gap-4",children:[(0,P.jsx)(W,{ref:T,onInputChange:e=>{const t=z()(M);t.query=e,t.pageIndex=1,"string"===typeof e&&e.length>1&&$(t),"string"===typeof e&&0===e.length&&$(t)}}),(0,P.jsx)(r.$n,{size:"sm",icon:(0,P.jsx)(F.syA,{}),onClick:()=>a(()=>!t),children:"Filter"}),(0,P.jsx)(re,{}),(0,P.jsx)(r.$n,{size:"sm",onClick:()=>{const t=z()(M);e(g()),e(m()),e(p()),e(h()),e(v()),e(u()),C([]),N([]),_([]),Y([]),D([]),k([]),t.query="",t.poNumber="",t.poaNumber="",t.startDate="",t.endDate="",t.months="",t.year="",t.date="",t.customer_id="",T.current.value="",e(x({status:""})),$(t)},children:"Clear All"}),(0,P.jsx)(G,{})]})]}),t&&(0,P.jsx)(r.Zp,{className:"mb-4",children:(0,P.jsxs)("div",{className:"grid grid-cols-5 gap-2",children:[(0,P.jsx)(r.l6,{isMulti:!0,placeholder:"Customer Name",size:"sm",options:b,value:I,onChange:e=>R(e,"customer")}),(0,P.jsx)(r.l6,{isMulti:!0,placeholder:"Year",size:"sm",options:n,value:w,onChange:e=>R(e,"poYear")}),(0,P.jsx)(r.l6,{isMulti:!0,placeholder:"Select Months",size:"sm",options:l,value:A,onChange:e=>R(e,"month")}),(0,P.jsx)(r.l6,{isMulti:!0,placeholder:"Select Date",size:"sm",options:i,value:O,onChange:e=>R(e,"date")}),(0,P.jsx)(r.l6,{isMulti:!0,placeholder:"Select POA Numbers",size:"sm",options:y,value:S,onChange:e=>R(e,"poaNumber")}),(0,P.jsx)(r.l6,{isMulti:!0,placeholder:"Select PO Numbers",size:"sm",options:c,value:j,onChange:e=>R(e,"poNumber")})]})})]})};(0,n.Mh)("po_list",L);const ie=()=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(le,{}),(0,P.jsx)(r.Zp,{children:(0,P.jsx)(B,{})})]})},40801:(e,t,a)=>{var o=a(61141),n=a(46686),r=a(19841),s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,i=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var a=l.test(e);return a||i.test(e)?d(e.slice(2),a?2:8):s.test(e)?NaN:+e}},61141:(e,t,a)=>{var o=a(10143),n=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(n,""):e}},67600:(e,t,a)=>{"use strict";a.d(t,{II:()=>f,L7:()=>w,NH:()=>j,Pp:()=>N,Ps:()=>n,Q$:()=>F,Q8:()=>x,RV:()=>s,TR:()=>S,Vf:()=>p,Wm:()=>O,XU:()=>i,c:()=>h,ef:()=>m,fd:()=>A,hv:()=>r,jd:()=>C,jt:()=>v,mF:()=>D,mj:()=>g,nT:()=>l,nd:()=>d,pW:()=>b,rQ:()=>z,rh:()=>c,uR:()=>y,xo:()=>u,z6:()=>_});var o=a(43971);async function n(e){return o.A.fetchData({url:"v1/web/company/po/Number/check",method:"post",data:e})}async function r(e){return o.A.fetchData({url:"v1/web/company/po/register",method:"post",data:e})}async function s(e){return o.A.fetchData({url:"v1/web/company/po/update/id",method:"post",data:e})}async function l(e){return o.A.fetchData({url:"v1/web/company/po/delete/id",method:"delete",data:e})}async function i(e){return o.A.fetchData({url:"v1/web/company/po/id",method:"post",data:e})}async function d(e){return o.A.fetchData({url:"v1/web/company/po",method:"post",data:e})}async function c(e){return o.A.fetchData({url:"v1/web/company/po/dates",method:"post",data:e})}async function u(e){return o.A.fetchData({url:"v1/web/company/po/delivery/dates",method:"post",data:e})}async function p(e){return o.A.fetchData({url:"v1/web/company/po/accept/delivery/dates",method:"post",data:e})}async function m(e){return o.A.fetchData({url:"v1/web/company/po/raw/dates",method:"post",data:e})}async function h(e){return o.A.fetchData({url:"v1/web/company/po/machining/dates",method:"post",data:e})}async function g(e){return o.A.fetchData({url:"/v1/web/company/executive/po/list/update",method:"post",data:e})}async function v(e){return o.A.fetchData({url:"v1/web/company/po-list/list/id",method:"post",data:e})}async function y(e){return o.A.fetchData({url:"v1/web/company/po/select/customer/id",method:"post",data:e})}async function f(){return o.A.fetchData({url:"v1/web/company/po/Unique/number",method:"get"})}async function x(e){return o.A.fetchData({url:"v1/web/company/po/lists",method:"get",params:e})}async function b(e){return o.A.fetchData({url:"v1/web/company/po/number/po",method:"post",data:e})}async function w(){return o.A.fetchData({url:"v1/web/company/po/years",method:"get"})}async function D(e){return o.A.fetchData({url:"v1/web/company/po/months",method:"post",data:e})}async function j(e){return o.A.fetchData({url:"v1/web/company/po/month/dates",method:"post",data:e})}async function C(e){return o.A.fetchData({url:"v1/web/company/po/Number/po/option",method:"post",data:e})}async function S(e){return o.A.fetchData({url:"v1/web/company/po/poa/option",method:"post",data:e})}async function N(e){return o.A.fetchData({url:"v1/web/company/po-list/po/number",method:"post",data:e})}async function A(e){return o.A.fetchData({url:"v1/web/company/po-list/serial/number",method:"post",data:e})}async function _(e){return o.A.fetchData({url:"v1/web/company/po-list/attachment",method:"put",data:e})}async function z(e){return o.A.fetchData({url:"v1/web/company/po-list/attachment/delete",method:"put",data:e})}async function O(){return o.A.fetchData({url:"v1/web/company/customer/option",method:"get"})}async function F(e){return o.A.fetchData({url:"v1/web/company/po-list/date/update",method:"post",data:e})}},88705:(e,t,a)=>{"use strict";a.d(t,{A:()=>j});var o=a(65043),n=a(98139),r=a.n(n),s=a(49934),l=a(70579);const{Tr:i,Td:d,TBody:c}=s.XI,u=e=>{const{columns:t,rows:a,avatarInColumns:o,avatarProps:n}=e;return(0,l.jsx)(c,{children:Array.from(new Array(a),(e,t)=>t+0).map(e=>(0,l.jsx)(i,{children:Array.from(new Array(t),(e,t)=>t+0).map(e=>(0,l.jsx)(d,{children:(0,l.jsxs)("div",{className:"flex flex-auto items-center gap-2",children:[o.includes(e)&&(0,l.jsx)("div",{children:(0,l.jsx)(s.EA,{variant:"circle",...n})}),(0,l.jsx)(s.EA,{})]})},`col-${e}`))},`row-${e}`))})};u.defaultProps={columns:1,rows:10,avatarInColumns:[]};const p=u;var m=a(6023),h=a(58931),g=a(47111);const{Tr:v,Th:y,Td:f,THead:x,TBody:b}=s.XI,w=e=>{const{indeterminate:t,onChange:a,onCheckBoxChange:n,onIndeterminateCheckBoxChange:r,...i}=e,d=(0,o.useRef)(null);(0,o.useEffect)(()=>{"boolean"===typeof t&&(d.current.indeterminate=!i.checked&&t)},[d,t]);return(0,l.jsx)(s.Sc,{className:"mb-0",ref:d,onChange:(e,t)=>(e=>{a(e),null===n||void 0===n||n(e),null===r||void 0===r||r(e)})(t),...i})},D=(0,o.forwardRef)((e,t)=>{const{skeletonAvatarColumns:a,columns:n,data:i,loading:d,onCheckBoxChange:c,onIndeterminateCheckBoxChange:u,onPaginationChange:D,onSelectChange:j,onSort:C,pageSizes:S,selectable:N,skeletonAvatarProps:A,pagingData:_,tableWidth:z="100%"}=e,{pageSize:O,pageIndex:F,total:Y}=_,[I,k]=(0,o.useState)(null),T=(0,o.useMemo)(()=>S.map(e=>({value:e,label:`${e} / page`})),[S]);(0,o.useEffect)(()=>{if(Array.isArray(I)){const e=I.length>0?I[0].desc?"desc":"asc":"",t=I.length>0?I[0].id:"";null===C||void 0===C||C({order:e,key:t})}},[I]);const M=n.some(e=>e.Header||e.accessor||e.Cell),P=(0,o.useMemo)(()=>{const e=n.map(e=>({...e,size:e.size||void 0,minSize:e.minSize||100,maxSize:e.maxSize||300}));return N?[{id:"select",header:e=>{let{table:t}=e;return(0,l.jsx)(w,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:e=>{var a,o;a=e.target.checked,o=t.getRowModel().rows,d||null===u||void 0===u||u(a,o)}})},cell:e=>{let{row:t}=e;return(0,l.jsx)(w,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler(),onCheckBoxChange:e=>((e,t)=>{d||null===c||void 0===c||c(e,t)})(e.target.checked,t.original)})},size:50,minSize:50,maxSize:50},...e]:e},[n,N]),R=(0,h.N4)({data:i,columns:M?[]:P,getCoreRowModel:(0,g.HT)(),getFilteredRowModel:(0,g.hM)(),getPaginationRowModel:(0,g.kW)(),getSortedRowModel:(0,g.h5)(),manualPagination:!0,manualSorting:!0,onSortingChange:k,state:{sorting:I},columnResizeMode:"onChange"}),$=()=>{R.resetSorting()},J=()=>{R.toggleAllRowsSelected(!1)};if((0,o.useImperativeHandle)(t,()=>({resetSorting:$,resetSelected:J})),M){const e="You are using old react-table v7 column config, please use v8 column config instead, refer to our demo or https://tanstack.com/table/v8";return(0,l.jsx)(s.Fc,{children:e})}return(0,l.jsxs)(m.A,{loading:d&&0!==i.length,type:"cover",children:[(0,l.jsx)("div",{style:{width:z,overflowX:"auto"},children:(0,l.jsxs)(s.XI,{style:{width:"100%",tableLayout:"fixed"},children:[(0,l.jsx)(x,{children:R.getHeaderGroups().map(e=>(0,l.jsx)(v,{children:e.headers.map(e=>(0,l.jsx)(y,{colSpan:e.colSpan,style:{width:`${e.column.getSize()}px`},children:e.isPlaceholder?null:(0,l.jsx)("div",{className:r()(d&&"pointer-events-none"),children:(0,h.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),d&&0===i.length?(0,l.jsx)(p,{columns:P.length,rows:_.pageSize,avatarInColumns:a,avatarProps:A}):(0,l.jsx)(b,{children:R.getRowModel().rows.slice(0,O).map(e=>(0,l.jsx)(v,{children:e.getVisibleCells().map(e=>(0,l.jsx)(f,{style:{width:`${e.column.getSize()}px`},children:(0,h.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,l.jsx)(s.dK,{pageSize:O,currentPage:F,total:Y,onChange:e=>{d||null===D||void 0===D||D(e)}}),(0,l.jsx)("div",{style:{minWidth:130},children:(0,l.jsx)(s.l6,{size:"sm",menuPlacement:"top",isSearchable:!1,value:T.filter(e=>e.value===O),options:T,onChange:e=>{return t=e.value,void(d||null===j||void 0===j||j(Number(t)));var t}})})]})]})});D.defaultProps={pageSizes:[10,25,50,100],pagingData:{total:0,pageIndex:1,pageSize:10},data:[],columns:[],selectable:!1,loading:!1};const j=D},93950:(e,t,a)=>{var o=a(46686),n=a(4757),r=a(40801),s=Math.max,l=Math.min;e.exports=function(e,t,a){var i,d,c,u,p,m,h=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var a=i,o=d;return i=d=void 0,h=t,u=e.apply(o,a)}function x(e){var a=e-m;return void 0===m||a>=t||a<0||v&&e-h>=c}function b(){var e=n();if(x(e))return w(e);p=setTimeout(b,function(e){var a=t-(e-m);return v?l(a,c-(e-h)):a}(e))}function w(e){return p=void 0,y&&i?f(e):(i=d=void 0,u)}function D(){var e=n(),a=x(e);if(i=arguments,d=this,m=e,a){if(void 0===p)return function(e){return h=e,p=setTimeout(b,t),g?f(e):u}(m);if(v)return clearTimeout(p),p=setTimeout(b,t),f(m)}return void 0===p&&(p=setTimeout(b,t)),u}return t=r(t)||0,o(a)&&(g=!!a.leading,c=(v="maxWait"in a)?s(r(a.maxWait)||0,t):c,y="trailing"in a?!!a.trailing:y),D.cancel=function(){void 0!==p&&clearTimeout(p),h=0,i=m=d=p=void 0},D.flush=function(){return void 0===p?u:w(n())},D}}}]);
//# sourceMappingURL=3721.7590484f.chunk.js.map