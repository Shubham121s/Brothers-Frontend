"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[4611],{54632:(e,s,a)=>{a.d(s,{$H:()=>r,DR:()=>d,VJ:()=>o,cW:()=>i,oj:()=>n,w9:()=>t});var l=a(43971);async function n(e){return l.A.fetchData({url:"v1/web/company/inward/register",method:"post",data:e})}async function t(e){return l.A.fetchData({url:"v1/web/company/inward/attachment",method:"post",data:e})}async function r(e){return l.A.fetchData({url:"v1/web/company/inward/upload/attachment",method:"put",data:e})}async function d(e){return l.A.fetchData({url:"v1/web/company/inward",method:"post",data:e})}async function i(e){return l.A.fetchData({url:"v1/web/company/inward/id",method:"post",data:e})}async function o(){return l.A.fetchData({url:"v1/web/company/inward/generate/grn",method:"get"})}},88705:(e,s,a)=>{a.d(s,{A:()=>b});var l=a(65043),n=a(98139),t=a.n(n),r=a(49934),d=a(70579);const{Tr:i,Td:o,TBody:c}=r.XI,u=e=>{const{columns:s,rows:a,avatarInColumns:l,avatarProps:n}=e;return(0,d.jsx)(c,{children:Array.from(new Array(a),(e,s)=>s+0).map(e=>(0,d.jsx)(i,{children:Array.from(new Array(s),(e,s)=>s+0).map(e=>(0,d.jsx)(o,{children:(0,d.jsxs)("div",{className:"flex flex-auto items-center gap-2",children:[l.includes(e)&&(0,d.jsx)("div",{children:(0,d.jsx)(r.EA,{variant:"circle",...n})}),(0,d.jsx)(r.EA,{})]})},`col-${e}`))},`row-${e}`))})};u.defaultProps={columns:1,rows:10,avatarInColumns:[]};const h=u;var m=a(6023),x=a(58931),v=a(47111);const{Tr:g,Th:p,Td:j,THead:y,TBody:w}=r.XI,f=e=>{const{indeterminate:s,onChange:a,onCheckBoxChange:n,onIndeterminateCheckBoxChange:t,...i}=e,o=(0,l.useRef)(null);(0,l.useEffect)(()=>{"boolean"===typeof s&&(o.current.indeterminate=!i.checked&&s)},[o,s]);return(0,d.jsx)(r.Sc,{className:"mb-0",ref:o,onChange:(e,s)=>(e=>{a(e),null===n||void 0===n||n(e),null===t||void 0===t||t(e)})(s),...i})},N=(0,l.forwardRef)((e,s)=>{const{skeletonAvatarColumns:a,columns:n,data:i,loading:o,onCheckBoxChange:c,onIndeterminateCheckBoxChange:u,onPaginationChange:N,onSelectChange:b,onSort:C,pageSizes:S,selectable:D,skeletonAvatarProps:I,pagingData:P,tableWidth:A="100%"}=e,{pageSize:k,pageIndex:T,total:_}=P,[R,z]=(0,l.useState)(null),M=(0,l.useMemo)(()=>S.map(e=>({value:e,label:`${e} / page`})),[S]);(0,l.useEffect)(()=>{if(Array.isArray(R)){const e=R.length>0?R[0].desc?"desc":"asc":"",s=R.length>0?R[0].id:"";null===C||void 0===C||C({order:e,key:s})}},[R]);const L=n.some(e=>e.Header||e.accessor||e.Cell),H=(0,l.useMemo)(()=>{const e=n.map(e=>({...e,size:e.size||void 0,minSize:e.minSize||100,maxSize:e.maxSize||300}));return D?[{id:"select",header:e=>{let{table:s}=e;return(0,d.jsx)(f,{checked:s.getIsAllRowsSelected(),indeterminate:s.getIsSomeRowsSelected(),onChange:s.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:e=>{var a,l;a=e.target.checked,l=s.getRowModel().rows,o||null===u||void 0===u||u(a,l)}})},cell:e=>{let{row:s}=e;return(0,d.jsx)(f,{checked:s.getIsSelected(),disabled:!s.getCanSelect(),indeterminate:s.getIsSomeSelected(),onChange:s.getToggleSelectedHandler(),onCheckBoxChange:e=>((e,s)=>{o||null===c||void 0===c||c(e,s)})(e.target.checked,s.original)})},size:50,minSize:50,maxSize:50},...e]:e},[n,D]),B=(0,x.N4)({data:i,columns:L?[]:H,getCoreRowModel:(0,v.HT)(),getFilteredRowModel:(0,v.hM)(),getPaginationRowModel:(0,v.kW)(),getSortedRowModel:(0,v.h5)(),manualPagination:!0,manualSorting:!0,onSortingChange:z,state:{sorting:R},columnResizeMode:"onChange"}),K=()=>{B.resetSorting()},O=()=>{B.toggleAllRowsSelected(!1)};if((0,l.useImperativeHandle)(s,()=>({resetSorting:K,resetSelected:O})),L){const e="You are using old react-table v7 column config, please use v8 column config instead, refer to our demo or https://tanstack.com/table/v8";return(0,d.jsx)(r.Fc,{children:e})}return(0,d.jsxs)(m.A,{loading:o&&0!==i.length,type:"cover",children:[(0,d.jsx)("div",{style:{width:A,overflowX:"auto"},children:(0,d.jsxs)(r.XI,{style:{width:"100%",tableLayout:"fixed"},children:[(0,d.jsx)(y,{children:B.getHeaderGroups().map(e=>(0,d.jsx)(g,{children:e.headers.map(e=>(0,d.jsx)(p,{colSpan:e.colSpan,style:{width:`${e.column.getSize()}px`},children:e.isPlaceholder?null:(0,d.jsx)("div",{className:t()(o&&"pointer-events-none"),children:(0,x.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),o&&0===i.length?(0,d.jsx)(h,{columns:H.length,rows:P.pageSize,avatarInColumns:a,avatarProps:I}):(0,d.jsx)(w,{children:B.getRowModel().rows.slice(0,k).map(e=>(0,d.jsx)(g,{children:e.getVisibleCells().map(e=>(0,d.jsx)(j,{style:{width:`${e.column.getSize()}px`},children:(0,x.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,d.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,d.jsx)(r.dK,{pageSize:k,currentPage:T,total:_,onChange:e=>{o||null===N||void 0===N||N(e)}}),(0,d.jsx)("div",{style:{minWidth:130},children:(0,d.jsx)(r.l6,{size:"sm",menuPlacement:"top",isSearchable:!1,value:M.filter(e=>e.value===k),options:M,onChange:e=>{return s=e.value,void(o||null===b||void 0===b||b(Number(s)));var s}})})]})]})});N.defaultProps={pageSizes:[10,25,50,100],pagingData:{total:0,pageIndex:1,pageSize:10},data:[],columns:[],selectable:!1,loading:!1};const b=N},94611:(e,s,a)=>{a.r(s),a.d(s,{default:()=>G});var l=a(65043),n=a(49934),t=(a(80899),a(79456)),r=a(80907);const d=(0,r.Z0)({name:"inward/state",initialState:{deletePoItemDialog:!1,editPoItemDialog:!1,purchaseOrderList:[],inward_date:new Date},reducers:{toggleDeletePoItemDialog:(e,s)=>{e.deletePoItemDialog=s.payload},toggleEditPoItemDialog:(e,s)=>{e.editPoItemDialog=s.payload},setPurchaseOrderList:(e,s)=>{e.purchaseOrderList=s.payload||[]},setPurchaseOrderListData:(e,s)=>{const{id:a,field:l,value:n}=s.payload;e.purchaseOrderList=e.purchaseOrderList.map(e=>e.purchase_order_list_id===a?{...e,[l]:n}:e)},setInwardDate:(e,s)=>{e.inward_date=s.payload}}}),{toggleEditPoItemDialog:i,toggleDeletePoItemDialog:o,setPurchaseOrderList:c,setPurchaseOrderListData:u,setInwardDate:h}=d.actions,m=d.reducer;var x=a(70579);const v=e=>{var s,a,l,r,d,i,o,c,u;let{initialData:h,date:m,setDate:v}=e;(0,t.wA)();return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"grid grid-cols-3 mb-4 gap-4",children:[(0,x.jsxs)(n.Zp,{className:"mt-2 bg-emerald-50",children:[(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("strong",{children:"Supplier Name :"})," ",(0,x.jsx)("span",{className:"uppercase",children:(null===h||void 0===h||null===(s=h.Customer)||void 0===s?void 0:s.name)||"-"})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("strong",{children:"Supplier Code :"})," ",(0,x.jsx)("span",{className:"uppercase",children:(null===h||void 0===h||null===(a=h.Customer)||void 0===a?void 0:a.customer_code)||"-"})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("strong",{children:"Vender Code :"})," ",(0,x.jsx)("span",{className:"uppercase",children:(null===h||void 0===h||null===(l=h.Customer)||void 0===l?void 0:l.vender_code)||"-"})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("strong",{children:"Type :"})," ",(0,x.jsx)("span",{className:"uppercase",children:(null===h||void 0===h||null===(r=h.Customer)||void 0===r?void 0:r.type)||"-"})]})]}),(0,x.jsxs)(n.Zp,{className:"mt-2 bg-pink-50",children:[(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("strong",{children:"Mobile :"})," ",(0,x.jsx)("span",{className:"uppercase",children:(null===h||void 0===h||null===(d=h.Customer)||void 0===d?void 0:d.mobile)||(null===h||void 0===h||null===(i=h.Customer)||void 0===i?void 0:i.phone)})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("strong",{children:"Email :"})," ",(0,x.jsx)("span",{className:"uppercase",children:(null===h||void 0===h||null===(o=h.Customer)||void 0===o?void 0:o.email)||"-"})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("strong",{children:"PAN No :"})," ",(0,x.jsx)("span",{className:"uppercase",children:(null===h||void 0===h||null===(c=h.Customer)||void 0===c?void 0:c.pan)||"-"})]}),(0,x.jsxs)("div",{className:"flex justify-between",children:[(0,x.jsx)("strong",{children:"GST No :"})," ",(0,x.jsx)("span",{className:"uppercase",children:(null===h||void 0===h||null===(u=h.Customer)||void 0===u?void 0:u.gst_no)||"-"})]})]})]})})};a(88705);var g=a(58931),p=a(47111),j=a(93751);const{Tr:y,Th:w,Td:f,THead:N,TBody:b}=n.XI,C=e=>{let{row:s}=e;(0,t.wA)();const a=e=>{let s=e;if(!s)return a="Error",l="danger",t="File Not Uploaded",n.y8.push((0,x.jsx)(n.Eg,{title:a,type:l,duration:2500,children:t}),{placement:"top-center"});var a,l,t;const r=`https://mastererp.5techg.com/api/static/${s.split("/uploads/")[1]}`;window.open(r,"_blank")};return(0,x.jsxs)("div",{className:"flex justify-center text-lg gap-x-4",children:[(0,x.jsx)(n.m_,{title:(0,x.jsxs)("div",{children:["View ",(0,x.jsx)("strong",{className:"text-yellow-400",children:"Material TC"})," Attch."]}),children:(0,x.jsx)("span",{className:"cursor-pointer text-lg",onClick:()=>{a(s.material_tc)},children:(0,x.jsx)(j.jJP,{})})}),(0,x.jsx)(n.m_,{title:(0,x.jsxs)("div",{children:["View ",(0,x.jsx)("strong",{className:"text-yellow-400",children:"Inward Inspe."})," ","Attch."]}),children:(0,x.jsx)("span",{className:"cursor-pointer text-lg",onClick:()=>{a(s.inward_inspection)},children:(0,x.jsx)(j.jJP,{})})}),(0,x.jsx)(n.m_,{title:(0,x.jsxs)("div",{children:["View ",(0,x.jsx)("strong",{className:"text-yellow-400",children:"Invoice"})," Attch."]}),children:(0,x.jsx)("span",{className:"cursor-pointer text-lg",onClick:()=>{a(s.invoice)},children:(0,x.jsx)(j.jJP,{})})}),(0,x.jsx)(n.m_,{title:(0,x.jsxs)("div",{children:["View ",(0,x.jsx)("strong",{className:"text-yellow-400",children:"Heat Treatment"})," ","Attch."]}),children:(0,x.jsx)("span",{className:"cursor-pointer text-lg",onClick:()=>{a(s.heat_treatment)},children:(0,x.jsx)(j.jJP,{})})})]})},S=()=>{(0,t.wA)();const e=(0,t.d4)(e=>e.grn.state.purchaseOrderList),s=((0,t.d4)(e=>e.grn.data.category),(0,l.useMemo)(()=>[{header:"product code",accessorKey:"",cell:e=>{var s;const a=e.row.original;return(0,x.jsx)("span",{children:null===a||void 0===a||null===(s=a.Product)||void 0===s?void 0:s.product_code})}},{header:"Product",accessorKey:"",cell:e=>{var s;const a=e.row.original;return(0,x.jsx)("span",{children:null===a||void 0===a||null===(s=a.Product)||void 0===s?void 0:s.name})}},{header:"PO quantity",accessorKey:"",cell:e=>{const s=e.row.original;return(0,x.jsx)("span",{children:null===s||void 0===s?void 0:s.ordered_quantity})}},{header:"inwarded Qty",accessorKey:"",cell:e=>{const s=e.row.original;return(0,x.jsx)("span",{children:null===s||void 0===s?void 0:s.actual_quantity})}},{header:"rejected qty",accessorKey:"",cell:e=>{const s=e.row.original;return(0,x.jsx)("span",{children:null===s||void 0===s?void 0:s.rejected_quantity})}},{header:"comments",accessorKey:"",cell:e=>{const s=e.row.original;return(0,x.jsx)("span",{children:null===s||void 0===s?void 0:s.comments})}},{header:"",accessorKey:"action",cell:e=>{const s=e.row.original;return(0,x.jsx)(C,{row:s})}}],[e])),a=(0,g.N4)({data:e,columns:s,getCoreRowModel:(0,p.HT)()});return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(n.XI,{children:[(0,x.jsx)(N,{children:a.getHeaderGroups().map(e=>(0,x.jsx)(y,{children:e.headers.map(e=>(0,x.jsx)(w,{style:{border:"1px solid black"},colSpan:e.colSpan,children:(0,g.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,x.jsx)(b,{children:a.getRowModel().rows.map(e=>(0,x.jsx)(y,{children:e.getVisibleCells().map(e=>(0,x.jsx)(f,{style:{border:"1px solid black"},children:(0,g.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})})};var D=a(73216),I=a(24603),P=a(50805),A=a(54632);const k=(0,r.zD)("grn/details/data/details",async e=>{try{return await(0,A.cW)(e)}catch(s){return s.response}}),T=(0,r.Z0)({name:"inward/data",initialState:{inwardDetails:{},category:"",loading:!1},reducers:{},extraReducers:{[k.fulfilled]:(e,s)=>{var a,l,n,t,r,d,i,o;e.loading=!1,e.inwardDetails={...null===(a=s.payload.data)||void 0===a?void 0:a.data,InWardDetails:null===(l=s.payload)||void 0===l||null===(n=l.data)||void 0===n||null===(t=n.data)||void 0===t||null===(r=t.InWardDetails)||void 0===r?void 0:r.map(e=>({...e,accepted_quantity:"",rejected_quantity:"",comments:""}))}||{},e.category=null===(d=s.payload.data.data)||void 0===d||null===(i=d.InWardDetails[0])||void 0===i||null===(o=i.Product)||void 0===o?void 0:o.category},[k.pending]:(e,s)=>{e.loading=!0}}}),{}=T.actions,_=T.reducer,R=(0,P.HY)({data:_,state:m});var z=a(27176),M=a(60446),L=a.n(M);const{Tr:H,Th:B,Td:K,THead:O,TBody:E}=n.XI,q=()=>{var e,s,a,l,r;const d=(0,t.d4)(e=>e.grn.state.purchaseOrderList),i=(0,t.d4)(e=>e.grn.data.inwardDetails);return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:" px-2",style:{marginLeft:"30px"},children:[(0,x.jsx)("h3",{className:"text-center",children:"GRN"}),(0,x.jsxs)("div",{className:"flex gap-5 mb-0",children:[(0,x.jsx)("div",{children:"GRN "}),(0,x.jsx)("div",{className:"font-bold",children:null===i||void 0===i?void 0:i.inward_no})]}),(0,x.jsxs)("div",{className:"flex gap-5 my-5",children:[(0,x.jsx)("div",{children:"GRN Date "}),(0,x.jsx)("div",{className:"font-bold",children:L()().format("YYYY-MM-DD")})]}),(0,x.jsxs)("div",{className:"flex justify-between items-center gap-5",children:[(0,x.jsxs)("div",{className:"bg-slate-100 w-3/5 p-3",style:{height:"150px"},children:[(0,x.jsxs)("div",{className:"flex justfy-between gap-5",children:[(0,x.jsx)("div",{children:"Received by"}),(0,x.jsx)("div",{className:"font-bold",children:"Brothers Industries"})]}),(0,x.jsxs)("div",{className:"flex justfy-between gap-5",children:[(0,x.jsx)("div",{children:"Address"}),(0,x.jsxs)("div",{className:"font-bold",children:["DR PK INDUSTRIAL ESTATE, TAL PALUS, DIST SANGLI, MAHARASTRA, PIN 416310"," "]})]}),(0,x.jsxs)("div",{className:"flex justfy-between gap-5",children:[(0,x.jsx)("div",{children:"Contact"}),(0,x.jsx)("div",{className:"font-bold",children:"91 99201391010 "})]})]}),(0,x.jsxs)("div",{className:"bg-slate-100 w-3/5 p-3",style:{height:"150px"},children:[(0,x.jsxs)("div",{className:"flex gap-5",children:[(0,x.jsx)("div",{children:"Supplier"}),(0,x.jsx)("div",{className:"font-bold",children:null===i||void 0===i||null===(e=i.Customer)||void 0===e?void 0:e.name})]}),(0,x.jsxs)("div",{className:"flex gap-5",children:[(0,x.jsx)("div",{children:"Address"}),(0,x.jsx)("div",{className:"font-bold",children:null===i||void 0===i||null===(s=i.Customer)||void 0===s||null===(a=s.CustomerPermanentAddress)||void 0===a?void 0:a.address})]}),(0,x.jsxs)("div",{className:"flex gap-5",children:[(0,x.jsx)("div",{children:"Contact"}),(0,x.jsxs)("div",{className:"font-bold",children:[(null===i||void 0===i||null===(l=i.Customer)||void 0===l?void 0:l.mobile)||(null===i||void 0===i||null===(r=i.Customer)||void 0===r?void 0:r.phone)," "]})]})]})]}),(0,x.jsx)("div",{className:"mt-5",children:(0,x.jsxs)(n.XI,{children:[(0,x.jsx)(O,{children:(0,x.jsxs)(H,{className:"bg-slate-100 ",children:[(0,x.jsx)(B,{className:"border",style:{color:"black"},children:"Product Code"}),(0,x.jsx)(B,{className:"border",style:{color:"black"},children:"Product"}),(0,x.jsx)(B,{className:"border",style:{color:"black"},children:"PO Qty"}),(0,x.jsx)(B,{className:"border",style:{color:"black"},children:"Inward Qty"}),(0,x.jsx)(B,{className:"border",style:{color:"black"},children:"Rejected Qty"}),(0,x.jsx)(B,{className:"border",style:{color:"black"},children:"Comments"})]})}),(0,x.jsx)(E,{children:d.map((e,s)=>{var a,l;return(0,x.jsxs)(H,{children:[(0,x.jsx)(K,{className:"border",children:null===e||void 0===e||null===(a=e.Product)||void 0===a?void 0:a.product_code}),(0,x.jsx)(K,{className:"border",children:null===e||void 0===e||null===(l=e.Product)||void 0===l?void 0:l.name}),(0,x.jsx)(K,{className:"border",children:null===e||void 0===e?void 0:e.ordered_quantity}),(0,x.jsx)(K,{className:"border",children:null===e||void 0===e?void 0:e.actual_quantity}),(0,x.jsx)(K,{className:"border",children:null===e||void 0===e?void 0:e.rejected_quantity}),(0,x.jsx)(K,{className:"border",children:null===e||void 0===e?void 0:e.comments})]},s)})})]})}),(0,x.jsx)("p",{className:"font-bold ml-[50%]",style:{marginTop:"10%"},children:"Authorized Signature"})]})})};var W=a(93141);(0,I.Mh)("grn",R);const G=()=>{const e=(0,D.zy)(),s=(0,t.wA)(),a=(0,t.d4)(e=>e.grn.data.inwardDetails),r=e.pathname.substring(e.pathname.lastIndexOf("/")+1);(0,l.useEffect)(()=>{d()},[]);const d=async()=>{const e=await s(k({inward_id:r}));var a,l,n;e.payload.status<300&&s(c(null===(a=e.payload)||void 0===a||null===(l=a.data)||void 0===l||null===(n=l.data)||void 0===n?void 0:n.InWardDetails))},[i,o]=(0,l.useState)(!1),u=(0,l.useRef)(),h=(0,W.useReactToPrint)({content:()=>u.current,onAfterPrint:()=>{o(!1)},onBeforePrint:()=>{o(!0)}});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v,{initialData:a}),(0,x.jsx)(S,{initialData:a}),(0,x.jsx)(z.NG,{className:"-mx-8 px-8 flex items-center justify-end py-4",stickyClass:"border-t bg-white border-gray-200",children:(0,x.jsx)("div",{className:"flex items-center gap-4",children:(0,x.jsx)(n.$n,{size:"sm",variant:"solid",icon:(0,x.jsx)(j.S_e,{className:"mr-1"}),onClick:h,loading:i,children:"Print"})})}),(0,x.jsx)("div",{style:{display:"none"},children:(0,x.jsx)("div",{ref:u,children:(0,x.jsx)(q,{initialData:a})})})]})}}}]);
//# sourceMappingURL=4611.d99592c3.chunk.js.map