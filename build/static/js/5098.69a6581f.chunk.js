"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[5098],{30505:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(65043),o=n(48555),i=n.n(o),l=n(70579);const s=e=>{let{setContent:t,content:n,placeholder:o=""}=e;const s=(0,a.useRef)(null),d={readonly:!1,height:100,toolbar:!1,toolbarSticky:!1,placeholder:o,buttons:[],showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,minHeight:"150px"};return(0,l.jsx)("div",{children:(0,l.jsx)(i(),{ref:s,value:n,config:d,onBlur:e=>t(e)})})}},35098:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var a=n(65043),o=n(49934),i=n(79456),l=n(23533),s=n(60446),d=n.n(s),r=n(56434),c=n.n(r),u=n(80907),g=n(95895);const p=(0,u.zD)("invoice/condition/setting/data/all",async e=>{try{return await(0,g.dg)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),h=(0,u.zD)("invoice/condition/setting/data/new",async e=>{try{return await(0,g.rp)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),m=(0,u.zD)("invoice/condition/setting/data/update",async e=>{try{return await(0,g.BT)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),y=(0,u.zD)("invoice/condition/setting/data/delete",async e=>{try{return await(0,g.VM)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),x=(0,u.Z0)({name:"invoice/condition/setting/data",initialState:{loading:!1,conditionList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:""},filterData:{status:""}},reducers:{setTableData:(e,t)=>{e.tableData=t.payload},setCategoryList:(e,t)=>{e.categoryList=t.payload},setFilterData:(e,t)=>{e.filterData=t.payload}},extraReducers:{[p.fulfilled]:(e,t)=>{var n,a;e.conditionList=(null===(n=t.payload.data)||void 0===n?void 0:n.data)||[],e.tableData.total=null===(a=t.payload.data)||void 0===a?void 0:a.total,e.loading=!1},[p.pending]:e=>{e.loading=!0},[m.fulfilled]:(e,t)=>{},[h.fulfilled]:(e,t)=>{},[y.fulfilled]:(e,t)=>{}}}),{setTableData:v,setCategoryList:f,setFilterData:C}=x.actions,j=x.reducer;var w=n(88705),D=n(93751);const S=(0,u.Z0)({name:"invoice/condition/setting/state",initialState:{newConditionDialog:!1,deleteConditionDialog:!1,editConditionDialog:!1,selectedCondition:{}},reducers:{toggleNewConditionDialog:(e,t)=>{e.newConditionDialog=t.payload},toggleDeleteConditionDialog:(e,t)=>{e.deleteConditionDialog=t.payload},toggleEditConditionDialog:(e,t)=>{e.editConditionDialog=t.payload},setSelectedCondition:(e,t)=>{e.selectedCondition=t.payload}}}),{toggleNewConditionDialog:b,toggleDeleteConditionDialog:A,toggleEditConditionDialog:N,setSelectedCondition:z}=S.actions,I=S.reducer;var k=n(63516),R=n(41434),M=n(80899),T=n(30505),B=n(70579);const P=M.Ik().shape({name:M.Yj().required("Name Required")}),E=(0,a.forwardRef)((e,t)=>{const{type:n,initialData:i,onFormSubmit:l,onDiscard:s}=e,[d,r]=(0,a.useState)("edit"===n?i.condition:"");return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)("div",{style:{overflowY:"auto",maxHeight:"500px"},children:(0,B.jsx)(k.l1,{innerRef:t,initialValues:{...i},validationSchema:P,onSubmit:(e,t)=>{let{setSubmitting:n}=t;const a=c()({...e,condition:d.replace(/\n/g,"").replace(/<p><br><\/p>/g,"")});console.log(a),null===l||void 0===l||l(a,n)},children:e=>{let{values:t,touched:a,errors:i,isSubmitting:l,setErrors:c}=e;return(0,B.jsx)(k.lV,{children:(0,B.jsxs)(o.MG,{children:[(0,B.jsxs)("div",{className:"",children:[(0,B.jsxs)("h4",{children:["edit"===n?"Update":"Add"," Notes Information"]}),(0,B.jsx)("p",{className:"mb-6",children:"Section to config basic Notes information"}),(0,B.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,B.jsx)(o.eI,{label:"Note Name",className:"mb-1",invalid:i.name&&a.name,errorMessage:i.name,children:(0,B.jsx)(k.D0,{type:"text",autoComplete:"off",name:"name",placeholder:"Name",component:o.pd})}),(0,B.jsx)(o.eI,{label:"Conditions",className:"",children:(0,B.jsx)(T.A,{content:d,setContent:r,placeholder:"Start Typing Here"})}),(0,B.jsx)("div",{children:(0,B.jsx)("div",{})})]})]}),(0,B.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,B.jsx)(o.$n,{size:"sm",className:"ltr:mr-3 rtl:ml-3",onClick:()=>null===s||void 0===s?void 0:s(),type:"button",children:"Discard"}),(0,B.jsx)(o.$n,{size:"sm",variant:"solid",loading:l,icon:(0,B.jsx)(R.kuV,{className:"mr-1"}),type:"submit",children:"edit"===n?"Update":"Save"})]})]})})}})})})});E.defaultProps={type:"edit",initialData:{name:"",condition:""}};const H=E,q=e=>{let{type:t}=e;const n=(0,i.wA)(),a=(0,i.d4)(e=>e.condition.state.newConditionDialog),l=(0,i.d4)(e=>e.condition.data.tableData),s=()=>{n(b(!1))};return(0,B.jsx)(o.lG,{isOpen:a,onClose:s,onRequestClose:s,width:700,children:(0,B.jsx)(H,{type:"new",onFormSubmit:async(e,a)=>{a(!0);const i=await n(h({...e,type:t}));a(!1),i.payload.status<300&&(n(p({...l,type:t})),o.y8.push((0,B.jsx)(o.Eg,{title:"Successfully added",type:"success",duration:2500,children:"Note successfully added"}),{placement:"top-center"}),s())},onDiscard:s})})},F=e=>{let{type:t}=e;const n=(0,i.wA)(),a=(0,i.d4)(e=>e.condition.state.editConditionDialog),l=(0,i.d4)(e=>e.condition.state.selectedCondition),s=(0,i.d4)(e=>e.condition.data.tableData),d=()=>{n(N(!1))};return(0,B.jsx)(o.lG,{isOpen:a,onClose:d,onRequestClose:d,children:(0,B.jsx)(H,{type:"edit",onFormSubmit:async(e,a)=>{a(!0);const i=await n(m({...e,type:t}));a(!1),i.payload.status<300&&(n(p({...s,type:t})),o.y8.push((0,B.jsx)(o.Eg,{title:"Successfully updated",type:"success",duration:2500,children:"Condition successfully updated"}),{placement:"top-center"}),d())},onDiscard:d,initialData:l})})};var $=n(27176);const Y=(e,t,n)=>o.y8.push((0,B.jsx)(o.Eg,{title:e,type:t,duration:2500,children:n}),{placement:"top-center"}),K=e=>{let{type:t}=e;const[n,o]=(0,a.useState)(!1),l=(0,i.d4)(e=>e.condition.data.tableData),s=(0,i.wA)(),d=(0,i.d4)(e=>e.condition.state.selectedCondition),r=(0,i.d4)(e=>e.condition.state.deleteConditionDialog),c=()=>{s(A(!1))};return(0,B.jsx)($.TM,{isOpen:r,onClose:c,onRequestClose:c,type:"danger",title:"Delete Condition",onCancel:c,onConfirm:async()=>{var e;o(!0);const n=await s(y({condition_id:null===d||void 0===d?void 0:d.condition_id}));var a,i,r,u;if(o(!1),!((null===(e=n.payload)||void 0===e?void 0:e.status)<300))return Y("Unsuccessfully","danger",null===(a=n.payload)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message);Y("Successfully Deleted","success",null===(r=n.payload)||void 0===r||null===(u=r.data)||void 0===u?void 0:u.message),c(),s(p({...l,type:t}))},confirmText:n?"Deleting...":"Confirm",confirmButtonColor:"red-600",children:(0,B.jsx)("p",{children:"Are you sure you want to delete this Condition? This action cannot be undone."})})},L=e=>{let{row:t}=e;const{textTheme:n}=(0,l.A)(),a=(0,i.wA)();return(0,B.jsxs)("div",{className:"flex justify-end gap-x-4 text-lg",children:[(0,B.jsx)("span",{className:`cursor-pointer hover:${n}`,onClick:()=>{a(N(!0)),a(z(t))},children:(0,B.jsx)(D.VUG,{})}),(0,B.jsx)("span",{className:"cursor-pointer hover:text-red-500",onClick:()=>{a(A(!0)),a(z(t))},children:(0,B.jsx)(D.yRo,{})})]})},V=[{header:"sr no.",accessorKey:"sr no",cell:e=>{const t=e.row.index;return(0,B.jsx)("span",{className:"uppercase",children:t+1})}},{header:"Name",accessorKey:"name",cell:e=>{const t=e.row.original;return(0,B.jsx)("span",{className:"",children:t.name})}},{header:"Reg. Date",accessorKey:"createdAt",cell:e=>{const t=e.row.original;return(0,B.jsx)("div",{className:"flex items-center",children:d()(null===t||void 0===t?void 0:t.createdAt).format("DD/MM/YYYY")})}},{header:"",accessorKey:"note_id",cell:e=>{const t=e.row.original;return(0,B.jsx)(L,{row:t})}}],G=e=>{let{type:t}=e;const n=(0,i.wA)(),o=(0,i.d4)(e=>e.condition.data.conditionList),l=(0,i.d4)(e=>e.condition.data.loading),{status:s}=(0,i.d4)(e=>e.condition.data.filterData),{pageIndex:d,pageSize:r,query:u,total:g}=(0,i.d4)(e=>e.condition.data.tableData),h=(0,a.useCallback)(()=>{n(p({pageIndex:d,pageSize:r,query:u,status:s,type:t}))},[d,r,u,s,n]);(0,a.useEffect)(()=>{h()},[h,d,r,s]);const m=(0,a.useMemo)(()=>({pageIndex:d,pageSize:r,query:u,total:g}),[d,r,u,g]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(w.A,{columns:V,data:o,loading:l,pagingData:{pageIndex:d,pageSize:r,query:u,total:g},onPaginationChange:e=>{const t=c()(m);t.pageIndex=e,n(v(t))},onSelectChange:e=>{const t=c()(m);t.pageSize=Number(e),t.pageIndex=1,n(v(t))}}),(0,B.jsx)(q,{type:t}),(0,B.jsx)(F,{type:t}),(0,B.jsx)(K,{type:t})]})};var X=n(24603);const _=(0,n(50805).HY)({data:j,state:I}),U=e=>{let{type:t}=e;const n=(0,i.wA)();(0,a.useRef)(),(0,i.d4)(e=>e.condition.data.tableData);return(0,B.jsx)("div",{className:"grid grid-cols-1 items-center gap-2 mb-3",children:(0,B.jsxs)("div",{className:"lg:flex items-center justify-between",children:[(0,B.jsx)("h4",{children:"Conditions"}),(0,B.jsx)(o.$n,{size:"sm",variant:"solid",onClick:()=>{n(b(!0))},children:"Add conditions"})]})})};(0,X.Mh)("condition",_);const W=e=>{let{type:t="foreign"}=e;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(U,{type:t}),(0,B.jsx)(G,{type:t})]})}},88705:(e,t,n)=>{n.d(t,{A:()=>D});var a=n(65043),o=n(98139),i=n.n(o),l=n(49934),s=n(70579);const{Tr:d,Td:r,TBody:c}=l.XI,u=e=>{const{columns:t,rows:n,avatarInColumns:a,avatarProps:o}=e;return(0,s.jsx)(c,{children:Array.from(new Array(n),(e,t)=>t+0).map(e=>(0,s.jsx)(d,{children:Array.from(new Array(t),(e,t)=>t+0).map(e=>(0,s.jsx)(r,{children:(0,s.jsxs)("div",{className:"flex flex-auto items-center gap-2",children:[a.includes(e)&&(0,s.jsx)("div",{children:(0,s.jsx)(l.EA,{variant:"circle",...o})}),(0,s.jsx)(l.EA,{})]})},`col-${e}`))},`row-${e}`))})};u.defaultProps={columns:1,rows:10,avatarInColumns:[]};const g=u;var p=n(6023),h=n(58931),m=n(47111);const{Tr:y,Th:x,Td:v,THead:f,TBody:C}=l.XI,j=e=>{const{indeterminate:t,onChange:n,onCheckBoxChange:o,onIndeterminateCheckBoxChange:i,...d}=e,r=(0,a.useRef)(null);(0,a.useEffect)(()=>{"boolean"===typeof t&&(r.current.indeterminate=!d.checked&&t)},[r,t]);return(0,s.jsx)(l.Sc,{className:"mb-0",ref:r,onChange:(e,t)=>(e=>{n(e),null===o||void 0===o||o(e),null===i||void 0===i||i(e)})(t),...d})},w=(0,a.forwardRef)((e,t)=>{const{skeletonAvatarColumns:n,columns:o,data:d,loading:r,onCheckBoxChange:c,onIndeterminateCheckBoxChange:u,onPaginationChange:w,onSelectChange:D,onSort:S,pageSizes:b,selectable:A,skeletonAvatarProps:N,pagingData:z,tableWidth:I="100%"}=e,{pageSize:k,pageIndex:R,total:M}=z,[T,B]=(0,a.useState)(null),P=(0,a.useMemo)(()=>b.map(e=>({value:e,label:`${e} / page`})),[b]);(0,a.useEffect)(()=>{if(Array.isArray(T)){const e=T.length>0?T[0].desc?"desc":"asc":"",t=T.length>0?T[0].id:"";null===S||void 0===S||S({order:e,key:t})}},[T]);const E=o.some(e=>e.Header||e.accessor||e.Cell),H=(0,a.useMemo)(()=>{const e=o.map(e=>({...e,size:e.size||void 0,minSize:e.minSize||100,maxSize:e.maxSize||300}));return A?[{id:"select",header:e=>{let{table:t}=e;return(0,s.jsx)(j,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:e=>{var n,a;n=e.target.checked,a=t.getRowModel().rows,r||null===u||void 0===u||u(n,a)}})},cell:e=>{let{row:t}=e;return(0,s.jsx)(j,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler(),onCheckBoxChange:e=>((e,t)=>{r||null===c||void 0===c||c(e,t)})(e.target.checked,t.original)})},size:50,minSize:50,maxSize:50},...e]:e},[o,A]),q=(0,h.N4)({data:d,columns:E?[]:H,getCoreRowModel:(0,m.HT)(),getFilteredRowModel:(0,m.hM)(),getPaginationRowModel:(0,m.kW)(),getSortedRowModel:(0,m.h5)(),manualPagination:!0,manualSorting:!0,onSortingChange:B,state:{sorting:T},columnResizeMode:"onChange"}),F=()=>{q.resetSorting()},$=()=>{q.toggleAllRowsSelected(!1)};if((0,a.useImperativeHandle)(t,()=>({resetSorting:F,resetSelected:$})),E){const e="You are using old react-table v7 column config, please use v8 column config instead, refer to our demo or https://tanstack.com/table/v8";return(0,s.jsx)(l.Fc,{children:e})}return(0,s.jsxs)(p.A,{loading:r&&0!==d.length,type:"cover",children:[(0,s.jsx)("div",{style:{width:I,overflowX:"auto"},children:(0,s.jsxs)(l.XI,{style:{width:"100%",tableLayout:"fixed"},children:[(0,s.jsx)(f,{children:q.getHeaderGroups().map(e=>(0,s.jsx)(y,{children:e.headers.map(e=>(0,s.jsx)(x,{colSpan:e.colSpan,style:{width:`${e.column.getSize()}px`},children:e.isPlaceholder?null:(0,s.jsx)("div",{className:i()(r&&"pointer-events-none"),children:(0,h.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),r&&0===d.length?(0,s.jsx)(g,{columns:H.length,rows:z.pageSize,avatarInColumns:n,avatarProps:N}):(0,s.jsx)(C,{children:q.getRowModel().rows.slice(0,k).map(e=>(0,s.jsx)(y,{children:e.getVisibleCells().map(e=>(0,s.jsx)(v,{style:{width:`${e.column.getSize()}px`},children:(0,h.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,s.jsx)(l.dK,{pageSize:k,currentPage:R,total:M,onChange:e=>{r||null===w||void 0===w||w(e)}}),(0,s.jsx)("div",{style:{minWidth:130},children:(0,s.jsx)(l.l6,{size:"sm",menuPlacement:"top",isSearchable:!1,value:P.filter(e=>e.value===k),options:P,onChange:e=>{return t=e.value,void(r||null===D||void 0===D||D(Number(t)));var t}})})]})]})});w.defaultProps={pageSizes:[10,25,50,100],pagingData:{total:0,pageIndex:1,pageSize:10},data:[],columns:[],selectable:!1,loading:!1};const D=w},95895:(e,t,n)=>{n.d(t,{BT:()=>u,D6:()=>s,DJ:()=>i,VM:()=>p,dg:()=>c,e3:()=>o,jM:()=>g,p5:()=>l,rp:()=>r,wN:()=>d});var a=n(43971);async function o(e){return a.A.fetchData({url:"v1/web/company/note/register",method:"post",data:e})}async function i(e){return a.A.fetchData({url:"v1/web/company/note",method:"post",data:e})}async function l(e){return a.A.fetchData({url:"v1/web/company/note/all",method:"get",data:e})}async function s(e){return a.A.fetchData({url:"v1/web/company/note/update/id",method:"put",data:e})}async function d(e){return a.A.fetchData({url:"v1/web/company/note/delete/id",method:"delete",data:e})}async function r(e){return a.A.fetchData({url:"v1/web/company/condition/register",method:"post",data:e})}async function c(e){return a.A.fetchData({url:"v1/web/company/condition",method:"post",data:e})}async function u(e){return a.A.fetchData({url:"v1/web/company/condition/update/id",method:"put",data:e})}async function g(e){return a.A.fetchData({url:"v1/web/company/condition/all",method:"post",data:e})}async function p(e){return a.A.fetchData({url:"v1/web/company/condition/delete/id",method:"delete",data:e})}}}]);
//# sourceMappingURL=5098.69a6581f.chunk.js.map