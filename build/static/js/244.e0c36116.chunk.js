"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[244,5098],{30505:(e,t,a)=>{a.d(t,{A:()=>l});var n=a(65043),o=a(48555),s=a.n(o),i=a(70579);const l=e=>{let{setContent:t,content:a,placeholder:o=""}=e;const l=(0,n.useRef)(null),d={readonly:!1,height:100,toolbar:!1,toolbarSticky:!1,placeholder:o,buttons:[],showCharsCounter:!1,showWordsCounter:!1,showXPathInStatusbar:!1,minHeight:"150px"};return(0,i.jsx)("div",{children:(0,i.jsx)(s(),{ref:l,value:a,config:d,onBlur:e=>t(e)})})}},35098:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var n=a(65043),o=a(49934),s=a(79456),i=a(23533),l=a(60446),d=a.n(l),r=a(56434),c=a.n(r),u=a(80907),g=a(95895);const p=(0,u.zD)("invoice/condition/setting/data/all",async e=>{try{return await(0,g.dg)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),m=(0,u.zD)("invoice/condition/setting/data/new",async e=>{try{return await(0,g.rp)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),h=(0,u.zD)("invoice/condition/setting/data/update",async e=>{try{return await(0,g.BT)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),y=(0,u.zD)("invoice/condition/setting/data/delete",async e=>{try{return await(0,g.VM)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),x=(0,u.Z0)({name:"invoice/condition/setting/data",initialState:{loading:!1,conditionList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:""},filterData:{status:""}},reducers:{setTableData:(e,t)=>{e.tableData=t.payload},setCategoryList:(e,t)=>{e.categoryList=t.payload},setFilterData:(e,t)=>{e.filterData=t.payload}},extraReducers:{[p.fulfilled]:(e,t)=>{var a,n;e.conditionList=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[],e.tableData.total=null===(n=t.payload.data)||void 0===n?void 0:n.total,e.loading=!1},[p.pending]:e=>{e.loading=!0},[h.fulfilled]:(e,t)=>{},[m.fulfilled]:(e,t)=>{},[y.fulfilled]:(e,t)=>{}}}),{setTableData:v,setCategoryList:f,setFilterData:j}=x.actions,C=x.reducer;var D=a(88705),w=a(93751);const b=(0,u.Z0)({name:"invoice/condition/setting/state",initialState:{newConditionDialog:!1,deleteConditionDialog:!1,editConditionDialog:!1,selectedCondition:{}},reducers:{toggleNewConditionDialog:(e,t)=>{e.newConditionDialog=t.payload},toggleDeleteConditionDialog:(e,t)=>{e.deleteConditionDialog=t.payload},toggleEditConditionDialog:(e,t)=>{e.editConditionDialog=t.payload},setSelectedCondition:(e,t)=>{e.selectedCondition=t.payload}}}),{toggleNewConditionDialog:S,toggleDeleteConditionDialog:N,toggleEditConditionDialog:A,setSelectedCondition:z}=b.actions,I=b.reducer;var k=a(63516),R=a(41434),M=a(80899),T=a(30505),q=a(70579);const F=M.Ik().shape({name:M.Yj().required("Name Required")}),$=(0,n.forwardRef)((e,t)=>{const{type:a,initialData:s,onFormSubmit:i,onDiscard:l}=e,[d,r]=(0,n.useState)("edit"===a?s.condition:"");return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)("div",{style:{overflowY:"auto",maxHeight:"500px"},children:(0,q.jsx)(k.l1,{innerRef:t,initialValues:{...s},validationSchema:F,onSubmit:(e,t)=>{let{setSubmitting:a}=t;const n=c()({...e,condition:d.replace(/\n/g,"").replace(/<p><br><\/p>/g,"")});console.log(n),null===i||void 0===i||i(n,a)},children:e=>{let{values:t,touched:n,errors:s,isSubmitting:i,setErrors:c}=e;return(0,q.jsx)(k.lV,{children:(0,q.jsxs)(o.MG,{children:[(0,q.jsxs)("div",{className:"",children:[(0,q.jsxs)("h4",{children:["edit"===a?"Update":"Add"," Notes Information"]}),(0,q.jsx)("p",{className:"mb-6",children:"Section to config basic Notes information"}),(0,q.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,q.jsx)(o.eI,{label:"Note Name",className:"mb-1",invalid:s.name&&n.name,errorMessage:s.name,children:(0,q.jsx)(k.D0,{type:"text",autoComplete:"off",name:"name",placeholder:"Name",component:o.pd})}),(0,q.jsx)(o.eI,{label:"Conditions",className:"",children:(0,q.jsx)(T.A,{content:d,setContent:r,placeholder:"Start Typing Here"})}),(0,q.jsx)("div",{children:(0,q.jsx)("div",{})})]})]}),(0,q.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,q.jsx)(o.$n,{size:"sm",className:"ltr:mr-3 rtl:ml-3",onClick:()=>null===l||void 0===l?void 0:l(),type:"button",children:"Discard"}),(0,q.jsx)(o.$n,{size:"sm",variant:"solid",loading:i,icon:(0,q.jsx)(R.kuV,{className:"mr-1"}),type:"submit",children:"edit"===a?"Update":"Save"})]})]})})}})})})});$.defaultProps={type:"edit",initialData:{name:"",condition:""}};const E=$,P=e=>{let{type:t}=e;const a=(0,s.wA)(),n=(0,s.d4)(e=>e.condition.state.newConditionDialog),i=(0,s.d4)(e=>e.condition.data.tableData),l=()=>{a(S(!1))};return(0,q.jsx)(o.lG,{isOpen:n,onClose:l,onRequestClose:l,width:700,children:(0,q.jsx)(E,{type:"new",onFormSubmit:async(e,n)=>{n(!0);const s=await a(m({...e,type:t}));n(!1),s.payload.status<300&&(a(p({...i,type:t})),o.y8.push((0,q.jsx)(o.Eg,{title:"Successfully added",type:"success",duration:2500,children:"Note successfully added"}),{placement:"top-center"}),l())},onDiscard:l})})},B=e=>{let{type:t}=e;const a=(0,s.wA)(),n=(0,s.d4)(e=>e.condition.state.editConditionDialog),i=(0,s.d4)(e=>e.condition.state.selectedCondition),l=(0,s.d4)(e=>e.condition.data.tableData),d=()=>{a(A(!1))};return(0,q.jsx)(o.lG,{isOpen:n,onClose:d,onRequestClose:d,children:(0,q.jsx)(E,{type:"edit",onFormSubmit:async(e,n)=>{n(!0);const s=await a(h({...e,type:t}));n(!1),s.payload.status<300&&(a(p({...l,type:t})),o.y8.push((0,q.jsx)(o.Eg,{title:"Successfully updated",type:"success",duration:2500,children:"Condition successfully updated"}),{placement:"top-center"}),d())},onDiscard:d,initialData:i})})};var L=a(27176);const Y=(e,t,a)=>o.y8.push((0,q.jsx)(o.Eg,{title:e,type:t,duration:2500,children:a}),{placement:"top-center"}),H=e=>{let{type:t}=e;const[a,o]=(0,n.useState)(!1),i=(0,s.d4)(e=>e.condition.data.tableData),l=(0,s.wA)(),d=(0,s.d4)(e=>e.condition.state.selectedCondition),r=(0,s.d4)(e=>e.condition.state.deleteConditionDialog),c=()=>{l(N(!1))};return(0,q.jsx)(L.TM,{isOpen:r,onClose:c,onRequestClose:c,type:"danger",title:"Delete Condition",onCancel:c,onConfirm:async()=>{var e;o(!0);const a=await l(y({condition_id:null===d||void 0===d?void 0:d.condition_id}));var n,s,r,u;if(o(!1),!((null===(e=a.payload)||void 0===e?void 0:e.status)<300))return Y("Unsuccessfully","danger",null===(n=a.payload)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message);Y("Successfully Deleted","success",null===(r=a.payload)||void 0===r||null===(u=r.data)||void 0===u?void 0:u.message),c(),l(p({...i,type:t}))},confirmText:a?"Deleting...":"Confirm",confirmButtonColor:"red-600",children:(0,q.jsx)("p",{children:"Are you sure you want to delete this Condition? This action cannot be undone."})})},V=e=>{let{row:t}=e;const{textTheme:a}=(0,i.A)(),n=(0,s.wA)();return(0,q.jsxs)("div",{className:"flex justify-end gap-x-4 text-lg",children:[(0,q.jsx)("span",{className:`cursor-pointer hover:${a}`,onClick:()=>{n(A(!0)),n(z(t))},children:(0,q.jsx)(w.VUG,{})}),(0,q.jsx)("span",{className:"cursor-pointer hover:text-red-500",onClick:()=>{n(N(!0)),n(z(t))},children:(0,q.jsx)(w.yRo,{})})]})},K=[{header:"sr no.",accessorKey:"sr no",cell:e=>{const t=e.row.index;return(0,q.jsx)("span",{className:"uppercase",children:t+1})}},{header:"Name",accessorKey:"name",cell:e=>{const t=e.row.original;return(0,q.jsx)("span",{className:"",children:t.name})}},{header:"Reg. Date",accessorKey:"createdAt",cell:e=>{const t=e.row.original;return(0,q.jsx)("div",{className:"flex items-center",children:d()(null===t||void 0===t?void 0:t.createdAt).format("DD/MM/YYYY")})}},{header:"",accessorKey:"note_id",cell:e=>{const t=e.row.original;return(0,q.jsx)(V,{row:t})}}],G=e=>{let{type:t}=e;const a=(0,s.wA)(),o=(0,s.d4)(e=>e.condition.data.conditionList),i=(0,s.d4)(e=>e.condition.data.loading),{status:l}=(0,s.d4)(e=>e.condition.data.filterData),{pageIndex:d,pageSize:r,query:u,total:g}=(0,s.d4)(e=>e.condition.data.tableData),m=(0,n.useCallback)(()=>{a(p({pageIndex:d,pageSize:r,query:u,status:l,type:t}))},[d,r,u,l,a]);(0,n.useEffect)(()=>{m()},[m,d,r,l]);const h=(0,n.useMemo)(()=>({pageIndex:d,pageSize:r,query:u,total:g}),[d,r,u,g]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(D.A,{columns:K,data:o,loading:i,pagingData:{pageIndex:d,pageSize:r,query:u,total:g},onPaginationChange:e=>{const t=c()(h);t.pageIndex=e,a(v(t))},onSelectChange:e=>{const t=c()(h);t.pageSize=Number(e),t.pageIndex=1,a(v(t))}}),(0,q.jsx)(P,{type:t}),(0,q.jsx)(B,{type:t}),(0,q.jsx)(H,{type:t})]})};var U=a(24603);const O=(0,a(50805).HY)({data:C,state:I}),_=e=>{let{type:t}=e;const a=(0,s.wA)();(0,n.useRef)(),(0,s.d4)(e=>e.condition.data.tableData);return(0,q.jsx)("div",{className:"grid grid-cols-1 items-center gap-2 mb-3",children:(0,q.jsxs)("div",{className:"lg:flex items-center justify-between",children:[(0,q.jsx)("h4",{children:"Conditions"}),(0,q.jsx)(o.$n,{size:"sm",variant:"solid",onClick:()=>{a(S(!0))},children:"Add conditions"})]})})};(0,U.Mh)("condition",O);const Z=e=>{let{type:t="foreign"}=e;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(_,{type:t}),(0,q.jsx)(G,{type:t})]})}},81187:(e,t,a)=>{a.d(t,{HZ:()=>s,cu:()=>i,ei:()=>l,yU:()=>o});var n=a(43971);async function o(e){return n.A.fetchData({url:"v1/web/company/product/category",method:"post",data:e})}async function s(e){return n.A.fetchData({url:"v1/web/company/product/category/register",method:"post",data:e})}async function i(e){return n.A.fetchData({url:"v1/web/company/product/category/update",method:"put",data:e})}async function l(e){return n.A.fetchData({url:"v1/web/company/product/category/delete",method:"delete",data:e})}},88705:(e,t,a)=>{a.d(t,{A:()=>w});var n=a(65043),o=a(98139),s=a.n(o),i=a(49934),l=a(70579);const{Tr:d,Td:r,TBody:c}=i.XI,u=e=>{const{columns:t,rows:a,avatarInColumns:n,avatarProps:o}=e;return(0,l.jsx)(c,{children:Array.from(new Array(a),(e,t)=>t+0).map(e=>(0,l.jsx)(d,{children:Array.from(new Array(t),(e,t)=>t+0).map(e=>(0,l.jsx)(r,{children:(0,l.jsxs)("div",{className:"flex flex-auto items-center gap-2",children:[n.includes(e)&&(0,l.jsx)("div",{children:(0,l.jsx)(i.EA,{variant:"circle",...o})}),(0,l.jsx)(i.EA,{})]})},`col-${e}`))},`row-${e}`))})};u.defaultProps={columns:1,rows:10,avatarInColumns:[]};const g=u;var p=a(6023),m=a(58931),h=a(47111);const{Tr:y,Th:x,Td:v,THead:f,TBody:j}=i.XI,C=e=>{const{indeterminate:t,onChange:a,onCheckBoxChange:o,onIndeterminateCheckBoxChange:s,...d}=e,r=(0,n.useRef)(null);(0,n.useEffect)(()=>{"boolean"===typeof t&&(r.current.indeterminate=!d.checked&&t)},[r,t]);return(0,l.jsx)(i.Sc,{className:"mb-0",ref:r,onChange:(e,t)=>(e=>{a(e),null===o||void 0===o||o(e),null===s||void 0===s||s(e)})(t),...d})},D=(0,n.forwardRef)((e,t)=>{const{skeletonAvatarColumns:a,columns:o,data:d,loading:r,onCheckBoxChange:c,onIndeterminateCheckBoxChange:u,onPaginationChange:D,onSelectChange:w,onSort:b,pageSizes:S,selectable:N,skeletonAvatarProps:A,pagingData:z,tableWidth:I="100%"}=e,{pageSize:k,pageIndex:R,total:M}=z,[T,q]=(0,n.useState)(null),F=(0,n.useMemo)(()=>S.map(e=>({value:e,label:`${e} / page`})),[S]);(0,n.useEffect)(()=>{if(Array.isArray(T)){const e=T.length>0?T[0].desc?"desc":"asc":"",t=T.length>0?T[0].id:"";null===b||void 0===b||b({order:e,key:t})}},[T]);const $=o.some(e=>e.Header||e.accessor||e.Cell),E=(0,n.useMemo)(()=>{const e=o.map(e=>({...e,size:e.size||void 0,minSize:e.minSize||100,maxSize:e.maxSize||300}));return N?[{id:"select",header:e=>{let{table:t}=e;return(0,l.jsx)(C,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:e=>{var a,n;a=e.target.checked,n=t.getRowModel().rows,r||null===u||void 0===u||u(a,n)}})},cell:e=>{let{row:t}=e;return(0,l.jsx)(C,{checked:t.getIsSelected(),disabled:!t.getCanSelect(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler(),onCheckBoxChange:e=>((e,t)=>{r||null===c||void 0===c||c(e,t)})(e.target.checked,t.original)})},size:50,minSize:50,maxSize:50},...e]:e},[o,N]),P=(0,m.N4)({data:d,columns:$?[]:E,getCoreRowModel:(0,h.HT)(),getFilteredRowModel:(0,h.hM)(),getPaginationRowModel:(0,h.kW)(),getSortedRowModel:(0,h.h5)(),manualPagination:!0,manualSorting:!0,onSortingChange:q,state:{sorting:T},columnResizeMode:"onChange"}),B=()=>{P.resetSorting()},L=()=>{P.toggleAllRowsSelected(!1)};if((0,n.useImperativeHandle)(t,()=>({resetSorting:B,resetSelected:L})),$){const e="You are using old react-table v7 column config, please use v8 column config instead, refer to our demo or https://tanstack.com/table/v8";return(0,l.jsx)(i.Fc,{children:e})}return(0,l.jsxs)(p.A,{loading:r&&0!==d.length,type:"cover",children:[(0,l.jsx)("div",{style:{width:I,overflowX:"auto"},children:(0,l.jsxs)(i.XI,{style:{width:"100%",tableLayout:"fixed"},children:[(0,l.jsx)(f,{children:P.getHeaderGroups().map(e=>(0,l.jsx)(y,{children:e.headers.map(e=>(0,l.jsx)(x,{colSpan:e.colSpan,style:{width:`${e.column.getSize()}px`},children:e.isPlaceholder?null:(0,l.jsx)("div",{className:s()(r&&"pointer-events-none"),children:(0,m.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),r&&0===d.length?(0,l.jsx)(g,{columns:E.length,rows:z.pageSize,avatarInColumns:a,avatarProps:A}):(0,l.jsx)(j,{children:P.getRowModel().rows.slice(0,k).map(e=>(0,l.jsx)(y,{children:e.getVisibleCells().map(e=>(0,l.jsx)(v,{style:{width:`${e.column.getSize()}px`},children:(0,m.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,l.jsx)(i.dK,{pageSize:k,currentPage:R,total:M,onChange:e=>{r||null===D||void 0===D||D(e)}}),(0,l.jsx)("div",{style:{minWidth:130},children:(0,l.jsx)(i.l6,{size:"sm",menuPlacement:"top",isSearchable:!1,value:F.filter(e=>e.value===k),options:F,onChange:e=>{return t=e.value,void(r||null===w||void 0===w||w(Number(t)));var t}})})]})]})});D.defaultProps={pageSizes:[10,25,50,100],pagingData:{total:0,pageIndex:1,pageSize:10},data:[],columns:[],selectable:!1,loading:!1};const w=D},90244:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var n=a(65043),o=a(35098),s=a(70579);const i=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.default,{type:"po"})});var l=a(49934),d=a(79456),r=a(23533),c=a(60446),u=a.n(c),g=a(56434),p=a.n(g),m=a(80907),h=(a(81187),a(95895));const y=(0,m.zD)("po/note/setting/data/all",async e=>{try{return await(0,h.DJ)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),x=(0,m.zD)("po/note/setting/data/new",async e=>{try{return await(0,h.e3)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),v=(0,m.zD)("po/note/setting/data/update",async e=>{try{return await(0,h.D6)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),f=(0,m.zD)("invoice/note/setting/data/delete",async e=>{try{return await(0,h.wN)(e)}catch(t){return null===t||void 0===t?void 0:t.response}}),j=(0,m.Z0)({name:"po/note/setting/data",initialState:{loading:!1,categoryList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:""},filterData:{status:""}},reducers:{setTableData:(e,t)=>{e.tableData=t.payload},setCategoryList:(e,t)=>{e.categoryList=t.payload},setFilterData:(e,t)=>{e.filterData=t.payload}},extraReducers:{[y.fulfilled]:(e,t)=>{var a,n;e.categoryList=(null===(a=t.payload.data)||void 0===a?void 0:a.data)||[],e.tableData.total=null===(n=t.payload.data)||void 0===n?void 0:n.total,e.loading=!1},[y.pending]:e=>{e.loading=!0},[v.fulfilled]:(e,t)=>{}}}),{setTableData:C,setCategoryList:D,setFilterData:w}=j.actions,b=j.reducer;var S=a(88705),N=a(93751);const A=(0,m.Z0)({name:"po/note/setting/state",initialState:{newCategoryDialog:!1,deleteCategoryDialog:!1,editCategoryDialog:!1,selectedCategory:{}},reducers:{toggleNewCategoryDialog:(e,t)=>{e.newCategoryDialog=t.payload},toggleDeleteCategoryDialog:(e,t)=>{e.deleteCategoryDialog=t.payload},toggleEditCategoryDialog:(e,t)=>{e.editCategoryDialog=t.payload},setSelectedCategory:(e,t)=>{e.selectedCategory=t.payload}}}),{toggleNewCategoryDialog:z,setSelectedCategory:I,toggleEditCategoryDialog:k,toggleDeleteCategoryDialog:R}=A.actions,M=A.reducer;var T=a(63516),q=a(41434),F=a(80899);F.Ik().shape({status:F.zM().required("Status Required"),name:F.Yj().required("Name Required")});const $=(0,n.forwardRef)((e,t)=>{const{type:a,initialData:n,onFormSubmit:o,onDiscard:i}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{style:{overflowY:"auto",maxHeight:"500px"},children:(0,s.jsx)(T.l1,{innerRef:t,initialValues:{...n},onSubmit:(e,t)=>{let{setSubmitting:a}=t;const n=p()(e);null===o||void 0===o||o(n,a)},children:e=>{let{values:t,touched:n,errors:o,isSubmitting:d}=e;return(0,s.jsx)(T.lV,{children:(0,s.jsxs)(l.MG,{children:[(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("h4",{children:["edit"===a?"Update":"Add"," Notes Information"]}),(0,s.jsx)("p",{className:"mb-6",children:"Section to config basic Notes information"}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,s.jsx)(l.eI,{label:"Note Name",invalid:o.name&&n.name,errorMessage:o.name,children:(0,s.jsx)(T.D0,{type:"text",autoComplete:"off",name:"name",placeholder:"Name",component:l.pd})})}),(0,s.jsx)(T.ED,{name:"notes",children:e=>{let{push:a,remove:n}=e;return(0,s.jsxs)(s.Fragment,{children:[t.notes.length>0?t.notes.map((e,t)=>(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(l.eI,{label:`Note Label ${t+1}`,children:(0,s.jsx)(T.D0,{type:"text",autoComplete:"off",name:`notes[${t}].label`,placeholder:"Label",component:l.pd})}),(0,s.jsx)(l.eI,{label:`Note Value ${t+1}`,children:(0,s.jsx)(T.D0,{type:"text",autoComplete:"off",name:`notes[${t}].value`,placeholder:"Value",component:l.pd})}),(0,s.jsx)(l.$n,{type:"button",className:"mt-6 bg-red-500",onClick:()=>n(t),children:"-"})]},t)):null,(0,s.jsx)("div",{className:"flex justify-end items-center",children:(0,s.jsx)(l.$n,{type:"button",className:"mb-3",onClick:()=>a({label:"",value:""}),children:"Add Note"})})]})}})]}),(0,s.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,s.jsx)(l.$n,{size:"sm",className:"ltr:mr-3 rtl:ml-3",onClick:()=>null===i||void 0===i?void 0:i(),type:"button",children:"Discard"}),(0,s.jsx)(l.$n,{size:"sm",variant:"solid",loading:d,icon:(0,s.jsx)(q.kuV,{className:"mr-1"}),type:"submit",children:"edit"===a?"Update":"Save"})]})]})})}})})})});$.defaultProps={type:"edit",initialData:{name:"",notes:[{label:"",value:""}]}};const E=$,P=()=>{const e=(0,d.wA)(),t=(0,d.d4)(e=>e.note.state.newCategoryDialog),a=(0,d.d4)(e=>e.note.data.tableData),n=()=>{e(z(!1))};return(0,s.jsx)(l.lG,{isOpen:t,onClose:n,onRequestClose:n,width:700,children:(0,s.jsx)(E,{type:"new",onFormSubmit:async(t,o)=>{o(!0);const i=await e(x({...t,notes:JSON.stringify(t.notes)}));o(!1),i.payload.status<300&&(e(y(a)),l.y8.push((0,s.jsx)(l.Eg,{title:"Successfully added",type:"success",duration:2500,children:"Note successfully added"}),{placement:"top-center"}),n())},onDiscard:n})})},B=()=>{const e=(0,d.wA)(),t=(0,d.d4)(e=>e.note.state.editCategoryDialog),a=(0,d.d4)(e=>e.note.state.selectedCategory),n=(0,d.d4)(e=>e.note.data.tableData),o=()=>{e(k(!1))};return(0,s.jsx)(l.lG,{isOpen:t,onClose:o,onRequestClose:o,children:(0,s.jsx)(E,{type:"edit",onFormSubmit:async(t,a)=>{a(!0);const i=await e(v({...t,notes:JSON.stringify(t.notes)}));a(!1),i.payload.status<300&&(e(y(n)),l.y8.push((0,s.jsx)(l.Eg,{title:"Successfully updated",type:"success",duration:2500,children:"Note successfully updated"}),{placement:"top-center"}),o())},onDiscard:o,initialData:a})})};var L=a(27176);const Y=(e,t,a)=>l.y8.push((0,s.jsx)(l.Eg,{title:e,type:t,duration:2500,children:a}),{placement:"top-center"}),H=e=>{let{type:t}=e;const[a,o]=(0,n.useState)(!1),i=(0,d.d4)(e=>e.note.data.tableData),l=(0,d.wA)(),r=(0,d.d4)(e=>e.note.state.selectedCategory),c=(0,d.d4)(e=>e.note.state.deleteCategoryDialog),u=()=>{l(R(!1))};return(0,s.jsx)(L.TM,{isOpen:c,onClose:u,onRequestClose:u,type:"danger",title:"Delete Condition",onCancel:u,onConfirm:async()=>{var e;o(!0);const a=await l(f({note_id:null===r||void 0===r?void 0:r.note_id}));var n,s,d,c;if(o(!1),!((null===(e=a.payload)||void 0===e?void 0:e.status)<300))return Y("Unsuccessfully","danger",null===(n=a.payload)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message);Y("Successfully Deleted","success",null===(d=a.payload)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.message),u(),l(y({...i,type:t}))},confirmText:a?"Deleting...":"Confirm",confirmButtonColor:"red-600",children:(0,s.jsx)("p",{children:"Are you sure you want to delete this Condition? This action cannot be undone."})})},V=e=>{let{row:t}=e;const{textTheme:a}=(0,r.A)(),n=(0,d.wA)();return(0,s.jsxs)("div",{className:"flex justify-end gap-x-4 text-lg",children:[(0,s.jsx)("span",{className:`cursor-pointer hover:${a}`,onClick:()=>{n(k(!0)),n(I(t))},children:(0,s.jsx)(N.VUG,{})}),(0,s.jsx)("span",{className:"cursor-pointer hover:text-red-500",onClick:()=>{n(R(!0)),n(I(t))},children:(0,s.jsx)(N.yRo,{})})]})},K=[{header:"sr no.",accessorKey:"sr no",cell:e=>{const t=e.row.index;return(0,s.jsx)("span",{className:"uppercase",children:t+1})}},{header:"Name",accessorKey:"name",cell:e=>{const t=e.row.original;return(0,s.jsx)("span",{className:"",children:t.name})}},{header:"Reg. Date",accessorKey:"createdAt",cell:e=>{const t=e.row.original;return(0,s.jsx)("div",{className:"flex items-center",children:u()(null===t||void 0===t?void 0:t.createdAt).format("DD/MM/YYYY")})}},{header:"",accessorKey:"note_id",cell:e=>{const t=e.row.original;return(0,s.jsx)(V,{row:t})}}],G=()=>{const e=(0,d.wA)(),t=(0,d.d4)(e=>e.note.data.categoryList),a=(0,d.d4)(e=>e.note.data.loading),{status:o}=(0,d.d4)(e=>e.note.data.filterData),{pageIndex:i,pageSize:l,query:r,total:c}=(0,d.d4)(e=>e.note.data.tableData),u=(0,n.useCallback)(()=>{e(y({pageIndex:i,pageSize:l,query:r,status:o}))},[i,l,r,o,e]);(0,n.useEffect)(()=>{u()},[u,i,l,o]);const g=(0,n.useMemo)(()=>({pageIndex:i,pageSize:l,query:r,total:c}),[i,l,r,c]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S.A,{columns:K,data:t,loading:a,pagingData:{pageIndex:i,pageSize:l,query:r,total:c},onPaginationChange:t=>{const a=p()(g);a.pageIndex=t,e(C(a))},onSelectChange:t=>{const a=p()(g);a.pageSize=Number(t),a.pageIndex=1,e(C(a))}}),(0,s.jsx)(P,{}),(0,s.jsx)(B,{}),(0,s.jsx)(H,{})]})};var U=a(24603);const O=(0,a(50805).HY)({data:b,state:M}),_=()=>{const e=(0,d.wA)();(0,n.useRef)(),(0,d.d4)(e=>e.note.data.tableData);return(0,s.jsx)("div",{className:"grid grid-cols-1 items-center gap-2 mb-3",children:(0,s.jsxs)("div",{className:"lg:flex items-center justify-between",children:[(0,s.jsx)("h4",{children:"Notes"}),(0,s.jsx)(l.$n,{size:"sm",variant:"solid",onClick:()=>{e(z(!0))},children:"Add notes"})]})})};(0,U.Mh)("note",O);const Z=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_,{}),(0,s.jsx)(G,{})]}),X=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"grid md:grid-cols-2 grid-cols-1 gap-4",children:[(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsx)(l.Zp,{className:"bg-gray-50",children:(0,s.jsx)(Z,{})})}),(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsx)(l.Zp,{className:"bg-emerald-50",children:(0,s.jsx)(i,{})})})]})})},95895:(e,t,a)=>{a.d(t,{BT:()=>u,D6:()=>l,DJ:()=>s,VM:()=>p,dg:()=>c,e3:()=>o,jM:()=>g,p5:()=>i,rp:()=>r,wN:()=>d});var n=a(43971);async function o(e){return n.A.fetchData({url:"v1/web/company/note/register",method:"post",data:e})}async function s(e){return n.A.fetchData({url:"v1/web/company/note",method:"post",data:e})}async function i(e){return n.A.fetchData({url:"v1/web/company/note/all",method:"get",data:e})}async function l(e){return n.A.fetchData({url:"v1/web/company/note/update/id",method:"put",data:e})}async function d(e){return n.A.fetchData({url:"v1/web/company/note/delete/id",method:"delete",data:e})}async function r(e){return n.A.fetchData({url:"v1/web/company/condition/register",method:"post",data:e})}async function c(e){return n.A.fetchData({url:"v1/web/company/condition",method:"post",data:e})}async function u(e){return n.A.fetchData({url:"v1/web/company/condition/update/id",method:"put",data:e})}async function g(e){return n.A.fetchData({url:"v1/web/company/condition/all",method:"post",data:e})}async function p(e){return n.A.fetchData({url:"v1/web/company/condition/delete/id",method:"delete",data:e})}}}]);
//# sourceMappingURL=244.e0c36116.chunk.js.map