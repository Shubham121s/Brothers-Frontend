"use strict";(self.webpackChunkBrother_Industrises=self.webpackChunkBrother_Industrises||[]).push([[5808],{76416:(e,a,t)=>{t.d(a,{Ei:()=>d,Jt:()=>c,RU:()=>i,aO:()=>u,fb:()=>l,j1:()=>r,oB:()=>n,oG:()=>o});var s=t(43971);async function l(e){return s.A.fetchData({url:"v1/web/company/task",method:"post",data:e})}async function n(e){return s.A.fetchData({url:"v1/web/company/task/register",method:"post",data:e})}async function o(){return s.A.fetchData({url:"v1/web/company/user/option",method:"post"})}async function i(e){return s.A.fetchData({url:"v1/web/company/task/update/id",method:"put",data:e})}async function r(e){return s.A.fetchData({url:"v1/web/company/task/delete/id",method:"delete",data:e})}async function d(e){return s.A.fetchData({url:"v1/web/company/task/chat",method:"post",data:e})}async function c(e){return s.A.fetchData({url:"v1/web/company/task/chat/register",method:"post",data:e})}async function u(e){return s.A.fetchData({url:"v1/web/company/task//user/status",method:"post",data:e})}},85808:(e,a,t)=>{t.r(a),t.d(a,{default:()=>ge});var s=t(65043),l=t(88705),n=t(27149),o=t(79456),i=t(80907),r=t(76416);const d=(0,i.zD)("task/data/all/task",async e=>{try{return await(0,r.fb)(e)}catch(a){return null===a||void 0===a?void 0:a.response}}),c=(0,i.zD)("task/data/post",async e=>{try{return await(0,r.oB)(e)}catch(a){return null===a||void 0===a?void 0:a.response}}),u=(0,i.zD)("task/data/put",async e=>{try{return await(0,r.RU)(e)}catch(a){return null===a||void 0===a?void 0:a.response}}),g=(0,i.zD)("task/data/delete",async e=>{try{return await(0,r.j1)(e)}catch(a){return null===a||void 0===a?void 0:a.response}}),m=(0,i.Z0)({name:"task/data",initialState:{loading:!1,taskList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:""}},reducers:{setTableData:(e,a)=>{e.tableData=a.payload}},extraReducers:{[d.fulfilled]:(e,a)=>{var t;e.taskList=(null===(t=a.payload.data)||void 0===t?void 0:t.data)||[],e.tableData.total=a.payload.data.total||0,e.loading=!1},[d.pending]:(e,a)=>{e.loading=!0},[c.fulfilled]:(e,a)=>{},[u.fulfilled]:(e,a)=>{},[g.fulfilled]:(e,a)=>{}}}),{setTableData:h,setFilterData:p}=m.actions,x=m.reducer;var v=t(73216),y=t(23533),f=t(93751);const j=(0,i.Z0)({name:"task/state",initialState:{newTaskDialog:!1,deleteTaskDialog:!1,editTaskDialog:!1,selectedTask:{},selectedChat:{},newEyeDialog:!1},reducers:{toggleNewTaskDialog:(e,a)=>{e.newTaskDialog=a.payload},toggleDeleteTaskDialog:(e,a)=>{e.deleteTaskDialog=a.payload},toggleEditTaskDialog:(e,a)=>{console.log("action.payload",a.payload),e.editTaskDialog=a.payload},setSelectedTask:(e,a)=>{e.selectedTask=a.payload},setSelectedChat:(e,a)=>{console.log("action.payload",a.payload),e.selectedChat=a.payload},toggleEyeDialog:(e,a)=>{e.newEyeDialog=a.payload}}}),{toggleNewTaskDialog:k,setSelectedTask:b,setSelectedChat:D,toggleEditTaskDialog:C,toggleDeleteTaskDialog:w,toggleEyeDialog:T}=j.actions,S=j.reducer;var N=t(56434),A=t.n(N),z=t(49934),I=t(27176),R=t(70579);const M=(e,a,t)=>z.y8.push((0,R.jsx)(z.Eg,{title:e,type:a,duration:2500,children:t}),{placement:"top-center"}),E=e=>{let{fetchData:a}=e;const[t,l]=(0,s.useState)(!1),n=(0,o.wA)(),i=(0,o.d4)(e=>e.task.state.selectedTask),r=(0,o.d4)(e=>e.task.state.deleteTaskDialog),d=()=>{n(w(!1))};return(0,R.jsx)(I.TM,{isOpen:r,onClose:d,onRequestClose:d,type:"danger",title:"Delete Task",onCancel:d,onConfirm:async()=>{var e;l(!0);const t=await n(g({task_id:null===i||void 0===i?void 0:i.task_id}));var s,o,r,c;return l(!1),200===(null===(e=t.payload)||void 0===e?void 0:e.status)?(M("Successfully Deleted","success",null===(s=t.payload)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message),null===a||void 0===a||a(),d()):M("Unsuccessfully","danger",null===(r=t.payload)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.message)},confirmText:t?"Deleting...":"Confirm",confirmButtonColor:"red-600",children:(0,R.jsx)("p",{children:"Are you sure you want to delete this Product? This action cannot be undone."})})},P=e=>{let{row:a}=e;const{textTheme:t}=(0,y.A)(),s=((0,v.Zp)(),(0,o.wA)());return(0,R.jsxs)("div",{className:"flex justify-between text-lg",children:[(0,R.jsx)("span",{className:`cursor-pointer hover:${t}`,onClick:()=>{s(b(a)),s(C(!0))},children:(0,R.jsx)(f.VUG,{})}),(0,R.jsx)("span",{className:`cursor-pointer hover:${t}`,onClick:()=>{console.log("click"),s(b(a)),s(w(!0))},children:(0,R.jsx)(f.yRo,{})}),(0,R.jsx)("span",{className:`cursor-pointer hover:${t}`,onClick:()=>{s(b(a)),s(T(!0))},children:(0,R.jsx)(f.zeF,{})})]})},B=()=>{const e=(0,v.Zp)(),a=(0,o.wA)(),t=(0,o.d4)(e=>e.task.data.taskList),i=(0,o.d4)(e=>e.task.data.loading),{pageIndex:r,pageSize:c,query:u,total:g}=(0,o.d4)(e=>e.task.data.tableData),m=(0,s.useCallback)(()=>{a(d({pageIndex:r,pageSize:c,query:u}))},[r,c,u,a]);(0,s.useEffect)(()=>{m()},[m,r,c]);const p=(0,s.useMemo)(()=>({pageIndex:r,pageSize:c,query:u,total:g}),[r,c,u,g]),x={high:{label:"High",bgClass:"bg-red-100",textClass:"text-red-600"},low:{label:"Low",bgClass:"bg-orange-100",textClass:"text-orange-600"},medium:{label:"Medium",bgClass:"bg-emerald-100",textClass:"text-emerald-600"}},y={active:{label:"Active",dotClass:"bg-emerald-500",textClass:"text-emerald-500"},inactive:{label:"In-Active",dotClass:"bg-red-500",textClass:"text-red-500"}},f=[{header:"Assigned By",accessorKey:"AssignedBy.name",cell:e=>{const a=e.row.original;return(0,R.jsx)("div",{children:a["AssignedBy.name"]})}},{header:"Description",accessorKey:"description",cell:e=>{const a=e.row.original;return(0,R.jsx)("div",{children:null===a||void 0===a?void 0:a.description})}},{header:"Task",accessorKey:"task",cell:e=>{const a=e.row.original;return(0,R.jsx)("div",{children:a.task})}},{header:"Assigned To",accessorKey:"AssignedTo.name",cell:e=>{const a=e.row.original;return(0,R.jsx)("div",{children:a["AssignedTo.name"]})}},{header:"Priority",accessorKey:"priority",cell:e=>{var a,t,s,l;const n=null===(a=e.row)||void 0===a?void 0:a.original,o=null===n||void 0===n?void 0:n.priority;return(0,R.jsx)("div",{children:(0,R.jsx)(z.vw,{className:`${null===(t=x[o])||void 0===t?void 0:t.bgClass} ${null===(s=x[o])||void 0===s?void 0:s.textClass} border-0`,children:(null===(l=x[o])||void 0===l?void 0:l.label)||o})})}},{header:"Status",accessorKey:"status",cell:e=>{var a,t,s;const l=e.row.original;return(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)(z.Ex,{className:null===(a=y[null===l||void 0===l?void 0:l.status])||void 0===a?void 0:a.dotClass}),(0,R.jsx)("span",{className:`ml-2 font-semibold capitalize ${null===(t=y[null===l||void 0===l?void 0:l.status])||void 0===t?void 0:t.textClass}`,children:null===(s=y[null===l||void 0===l?void 0:l.status])||void 0===s?void 0:s.label})]})}},{header:"Reply",accessorKey:"reply",cell:a=>{const t=a.row.original;return(0,R.jsx)("button",{onClick:()=>(a=>{console.log("row",a),e("/task/chat",{state:{record:a}})})(t),className:"text-blue-500 hover:text-blue-700",children:(0,R.jsx)(n.liL,{size:25})})}},{header:"",id:"action",cell:e=>{const a=e.row.original;return(0,R.jsx)(P,{row:a})}}];return(0,R.jsxs)("div",{children:[(0,R.jsx)(l.A,{columns:f,data:t,loading:i,pagingData:{pageIndex:r,pageSize:c,query:u,total:g},onPaginationChange:e=>{const t=A()(p);t.pageIndex=e,a(h(t))},onSelectChange:e=>{const t=A()(p);t.pageSize=Number(e),t.pageIndex=1,a(h(t))}}),(0,R.jsx)(E,{fetchData:m})]})};var F=t(24603),q=t(50805);const $=(0,q.HY)({data:x,state:S}),L=(0,i.Z0)({name:"product/setting/pattern/state",initialState:{newTaskDialog:!1,deleteTaskDialog:!1,editTaskDialog:!1,selectedTask:{}},reducers:{toggleNewTaskDialog:(e,a)=>{e.newTaskDialog=a.payload},toggleDeleteTaskDialog:(e,a)=>{e.deleteTaskDialog=a.payload},toggleEditTaskDialog:(e,a)=>{e.editTaskDialog=a.payload},setSelectedTask:(e,a)=>{e.selectedTask=a.payload}}}),{toggleNewTaskDialog:H,setSelectedTask:_,toggleEditTaskDialog:K,toggleDeleteTaskDialog:U}=L.actions,G=L.reducer,V=(0,i.zD)("task/data/post",async e=>{try{return await(0,r.oB)(e)}catch(a){return null===a||void 0===a?void 0:a.response}}),Y=(0,i.zD)("task/data/put",async e=>{try{return await(0,r.RU)(e)}catch(a){return null===a||void 0===a?void 0:a.response}}),Z=(0,i.zD)("task/data/all/task",async e=>{try{return await(0,r.fb)(e)}catch(a){return null===a||void 0===a?void 0:a.response}}),O=(0,i.zD)("task/data/get/user",async e=>{try{return await(0,r.oG)(e)}catch(a){return null===a||void 0===a?void 0:a.response}}),X=(0,i.Z0)({name:"task/data",initialState:{loading:!1,userList:[],taskList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:""}},reducers:{setTableData:(e,a)=>{e.tableData=a.payload}},extraReducers:{[O.fulfilled]:(e,a)=>{var t;e.userList=(null===(t=a.payload.data)||void 0===t?void 0:t.data)||[],e.tableData.total=a.payload.data.total||0,e.loading=!1},[O.pending]:(e,a)=>{e.loading=!0},[Z.fulfilled]:(e,a)=>{var t;e.taskList=(null===(t=a.payload.data)||void 0===t?void 0:t.data)||[],e.tableData.total=a.payload.data.total||0,e.loading=!1},[Z.pending]:(e,a)=>{e.loading=!0},[V.fulfilled]:(e,a)=>{},[Y.fulfilled]:(e,a)=>{}}}),{setTableData:W,setFilterData:J}=X.actions,Q=X.reducer,ee=(0,q.HY)({data:Q,state:G});var ae=t(63516),te=t(80899),se=t(41434);const le=te.Ik().shape({task:te.Yj().required("Task Required"),priority:te.Yj().required("Choose Priority"),description:te.Yj().required("Description Required"),assigned_to:te.Yj().required("Choose a User"),date:te.Yj().required("Date Required")}),ne=[{label:"High",value:"high"},{label:"Medium",value:"medium"},{label:"Low",value:"low"}],oe=(0,s.forwardRef)((e,a)=>{const{type:t,initialData:l,onFormSubmit:n,onDiscard:i}=e;console.log("initialData",l);const r=(0,o.wA)(),d=(0,o.d4)(e=>e.taskForm.data.userList);return console.log("userList",d),(0,s.useEffect)(()=>{(async()=>{r(O())})()},[]),(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(ae.l1,{innerRef:a,initialValues:{...l},validationSchema:le,onSubmit:(e,a)=>{let{setSubmitting:t}=a;const s=A()(e);null===n||void 0===n||n(s,t)},children:e=>{let{values:a,touched:s,errors:l,isSubmitting:n}=e;return(0,R.jsx)(ae.lV,{children:(0,R.jsxs)(z.MG,{children:[(0,R.jsxs)("div",{children:[(0,R.jsxs)("h4",{className:"mb-4",children:["edit"===t?"Edit Task":"Add Task"," "]}),(0,R.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,R.jsx)(z.eI,{label:"Task",invalid:l.task&&s.task,errorMessage:l.task,className:"mb-2 col-span-2 md:col-span-2",children:(0,R.jsx)(ae.D0,{type:"text",autoComplete:"off",name:"task",placeholder:"Task",component:z.pd})}),(0,R.jsx)(z.eI,{label:"Description",invalid:l.description&&s.description,errorMessage:l.description,className:"mb-2 col-span-2 md:col-span-2",children:(0,R.jsx)(ae.D0,{type:"text",autoComplete:"off",name:"description",placeholder:"Description",component:z.pd})}),(0,R.jsx)(z.eI,{label:"Priority",invalid:l.priority&&s.priority,errorMessage:l.priority,className:"mb-2",children:(0,R.jsx)(ae.D0,{name:"priority",children:e=>{let{field:t,form:s}=e;return(0,R.jsx)(z.l6,{field:t,form:s,options:ne,value:ne.filter(e=>e.value===a.priority),onChange:e=>s.setFieldValue(t.name,e.value)})}})}),(0,R.jsx)(z.eI,{label:"Assigned To",invalid:l.assigned_to&&s.assigned_to,errorMessage:l.assigned_to,className:"mb-2",children:(0,R.jsx)(ae.D0,{name:"assigned_to",children:e=>{let{field:t,form:s}=e;return(0,R.jsx)(z.l6,{field:t,form:s,options:d,value:null===d||void 0===d?void 0:d.filter(e=>e.value===a.assigned_to),onChange:e=>s.setFieldValue(t.name,e.value)})}})}),(0,R.jsx)(z.eI,{label:"Date",invalid:l.date&&s.date,errorMessage:l.date,className:"mb-2",children:(0,R.jsx)(ae.D0,{name:"date",className:"mb-2",children:e=>{let{field:t,form:s}=e;return(0,R.jsx)(z.lr,{field:t,size:"md",placeholder:"Date",form:s,value:a.date,onChange:e=>{s.setFieldValue(t.name,e)}})}})})]})]}),(0,R.jsxs)("div",{className:"flex gap-4 justify-end mt-3",children:[(0,R.jsx)(z.$n,{size:"sm",className:"ltr:mr-3 rtl:ml-3",onClick:()=>null===i||void 0===i?void 0:i(),type:"button",children:"Discard"}),(0,R.jsx)(z.$n,{size:"sm",variant:"solid",loading:n,icon:(0,R.jsx)(se.kuV,{className:"mr-1"}),type:"submit",children:"edit"===t?"Update":"Save"})]})]})})}})})});oe.defaultProps={type:"edit",initialData:{task:"",description:"",priority:"",assigned_to:"",date:""}};const ie=oe;(0,F.Mh)("taskForm",ee);const re=()=>{const e=(0,o.wA)(),a=(0,o.d4)(e=>{var a;return null===(a=e.taskForm.state)||void 0===a?void 0:a.newTaskDialog}),t=(0,o.d4)(e=>e.taskForm.data.tableData),s=()=>{e(H(!1))};return(0,R.jsx)(z.lG,{isOpen:a,onClose:s,onRequestClose:s,className:"mt-12",children:(0,R.jsx)(ie,{type:"new",onFormSubmit:async(a,l)=>{l(!0);const n=await e(V(a));console.log("action",n.payload),l(!1),200===n.payload.status&&(e(d(t)),z.y8.push((0,R.jsx)(z.Eg,{title:"Successfully added",type:"success",duration:2500,children:"Category successfully added"}),{placement:"top-center"}),s())},onDiscard:s})})},de=e=>{var a,t,s,l,n,i;let{onDialogClose:r}=e;(0,o.wA)();const d=(0,o.d4)(e=>e.task.state.selectedTask),c={high:{label:"High",bgClass:"bg-red-100",textClass:"text-red-600"},low:{label:"Low",bgClass:"bg-orange-100",textClass:"text-orange-600"},medium:{label:"Medium",bgClass:"bg-emerald-100",textClass:"text-emerald-600"}},u={active:{label:"Active",dotClass:"bg-emerald-500",textClass:"text-emerald-500"},inactive:{label:"In-Active",dotClass:"bg-red-500",textClass:"text-red-500"}};return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)("div",{className:"p-4 mt-4 bg-white rounded-lg transition-transform transform hover:scale-105",children:d?(0,R.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)("span",{className:"font-semibold text-gray-800",children:"Assigned By:"}),(0,R.jsx)("span",{className:"text-gray-600",children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 : \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),(0,R.jsx)("span",{className:"text-gray-600",children:d["AssignedBy.name"]})]}),(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)("span",{className:"font-semibold text-gray-800",children:"Description"}),(0,R.jsxs)("span",{className:"text-gray-600 ml-5.5",children:[" ","\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0: \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"]}),(0,R.jsx)("span",{className:"text-gray-600 text-left",children:d.description})]}),(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)("span",{className:"font-semibold text-gray-800",children:"Task"}),(0,R.jsx)("span",{className:"text-gray-600 ",children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 : \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),(0,R.jsx)("span",{className:"text-gray-600",children:d.task})]}),(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)("span",{className:"font-semibold text-gray-800",children:"Assigned To"}),(0,R.jsx)("span",{className:"text-gray-600 ",children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 : \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),(0,R.jsx)("span",{className:"text-gray-600 text-left",children:d["AssignedTo.name"]})]}),(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)("span",{className:"font-semibold text-gray-800",children:"Priority"}),(0,R.jsx)("span",{className:"text-gray-600 ",children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 : \xa0\xa0\xa0\xa0\xa0\xa0"}),(0,R.jsx)("span",{className:`px-3 py-1 rounded-full text-sm ${null===(a=c[d.priority])||void 0===a?void 0:a.bgClass} ${null===(t=c[d.priority])||void 0===t?void 0:t.textClass}`,children:(null===(s=c[d.priority])||void 0===s?void 0:s.label)||d.priority})]}),(0,R.jsxs)("div",{className:"flex",children:[(0,R.jsx)("span",{className:"font-semibold text-gray-800",children:"Status"}),(0,R.jsx)("span",{className:"text-gray-600",children:"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 : \xa0\xa0\xa0\xa0\xa0\xa0\xa0"}),(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)("span",{className:`w-3 h-3 rounded-full ${null===(l=u[d.status])||void 0===l?void 0:l.dotClass}`}),(0,R.jsx)("span",{className:`ml-2 capitalize font-semibold ${null===(n=u[d.status])||void 0===n?void 0:n.textClass}`,children:null===(i=u[d.status])||void 0===i?void 0:i.label})]})]}),(0,R.jsx)("div",{className:"flex justify-end",children:(0,R.jsx)("button",{className:"flex items-center px-4 py-2 text-white bg-red-500 rounded-lg shadow hover:bg-red-600 transition duration-200 transform hover:scale-105",onClick:r,children:"Close"})})]}):(0,R.jsx)("p",{className:"text-center text-gray-500",children:"No task selected."})})})},ce=(e,a,t)=>{z.y8.push((0,R.jsx)(z.Eg,{title:e,type:a,duration:2500,children:t}),{placement:"top-center"})},ue=()=>{const e=(0,o.wA)(),a=(0,o.d4)(e=>{var a;return null===(a=e.task.state)||void 0===a?void 0:a.editTaskDialog}),t=(0,o.d4)(e=>e.taskForm.data.taskList);(0,s.useEffect)(()=>{e(O())},[]);const l=()=>{console.log("onDialogClose"),e(C(!1))};return(0,R.jsx)(R.Fragment,{children:(0,R.jsx)(z.lG,{isOpen:a,onClose:l,onRequestClose:l,className:"mt-12",children:(0,R.jsx)(ie,{type:"edit",onFormSubmit:async(a,t)=>{var s;t(!0);null!==(s=(await e(Y(a))).data)&&void 0!==s&&s.success?ce("Successfull","success","Product Updated Successfully"):ce("Unsuccessful","danger","Product not created")},onDiscard:l,initialData:t})})})};(0,F.Mh)("task",$);const ge=()=>{const e=(0,o.wA)(),a=(0,o.d4)(e=>e.task.state.newEyeDialog),t=()=>{e(T(!1))};return(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:"mb-4",children:"Task List"}),(0,R.jsx)("div",{className:"w-full flex justify-end mb-4",children:(0,R.jsx)(z.$n,{className:"bg-blue-600 text-blue-100 hover:bg-blue-700 hover:text-blue-100 active:bg-blue-600 focus:bg-blue-600",onClick:()=>{e(H(!0))},children:"Add Task"})}),(0,R.jsx)(re,{}),(0,R.jsx)(z.Zp,{children:(0,R.jsx)(B,{})}),(0,R.jsx)(z.lG,{isOpen:a,onClose:t,onRequestClose:t,className:"mt-12",children:(0,R.jsx)(de,{onDialogClose:t})}),(0,R.jsx)(ue,{})]})}},88705:(e,a,t)=>{t.d(a,{A:()=>D});var s=t(65043),l=t(98139),n=t.n(l),o=t(49934),i=t(70579);const{Tr:r,Td:d,TBody:c}=o.XI,u=e=>{const{columns:a,rows:t,avatarInColumns:s,avatarProps:l}=e;return(0,i.jsx)(c,{children:Array.from(new Array(t),(e,a)=>a+0).map(e=>(0,i.jsx)(r,{children:Array.from(new Array(a),(e,a)=>a+0).map(e=>(0,i.jsx)(d,{children:(0,i.jsxs)("div",{className:"flex flex-auto items-center gap-2",children:[s.includes(e)&&(0,i.jsx)("div",{children:(0,i.jsx)(o.EA,{variant:"circle",...l})}),(0,i.jsx)(o.EA,{})]})},`col-${e}`))},`row-${e}`))})};u.defaultProps={columns:1,rows:10,avatarInColumns:[]};const g=u;var m=t(6023),h=t(58931),p=t(47111);const{Tr:x,Th:v,Td:y,THead:f,TBody:j}=o.XI,k=e=>{const{indeterminate:a,onChange:t,onCheckBoxChange:l,onIndeterminateCheckBoxChange:n,...r}=e,d=(0,s.useRef)(null);(0,s.useEffect)(()=>{"boolean"===typeof a&&(d.current.indeterminate=!r.checked&&a)},[d,a]);return(0,i.jsx)(o.Sc,{className:"mb-0",ref:d,onChange:(e,a)=>(e=>{t(e),null===l||void 0===l||l(e),null===n||void 0===n||n(e)})(a),...r})},b=(0,s.forwardRef)((e,a)=>{const{skeletonAvatarColumns:t,columns:l,data:r,loading:d,onCheckBoxChange:c,onIndeterminateCheckBoxChange:u,onPaginationChange:b,onSelectChange:D,onSort:C,pageSizes:w,selectable:T,skeletonAvatarProps:S,pagingData:N,tableWidth:A="100%"}=e,{pageSize:z,pageIndex:I,total:R}=N,[M,E]=(0,s.useState)(null),P=(0,s.useMemo)(()=>w.map(e=>({value:e,label:`${e} / page`})),[w]);(0,s.useEffect)(()=>{if(Array.isArray(M)){const e=M.length>0?M[0].desc?"desc":"asc":"",a=M.length>0?M[0].id:"";null===C||void 0===C||C({order:e,key:a})}},[M]);const B=l.some(e=>e.Header||e.accessor||e.Cell),F=(0,s.useMemo)(()=>{const e=l.map(e=>({...e,size:e.size||void 0,minSize:e.minSize||100,maxSize:e.maxSize||300}));return T?[{id:"select",header:e=>{let{table:a}=e;return(0,i.jsx)(k,{checked:a.getIsAllRowsSelected(),indeterminate:a.getIsSomeRowsSelected(),onChange:a.getToggleAllRowsSelectedHandler(),onIndeterminateCheckBoxChange:e=>{var t,s;t=e.target.checked,s=a.getRowModel().rows,d||null===u||void 0===u||u(t,s)}})},cell:e=>{let{row:a}=e;return(0,i.jsx)(k,{checked:a.getIsSelected(),disabled:!a.getCanSelect(),indeterminate:a.getIsSomeSelected(),onChange:a.getToggleSelectedHandler(),onCheckBoxChange:e=>((e,a)=>{d||null===c||void 0===c||c(e,a)})(e.target.checked,a.original)})},size:50,minSize:50,maxSize:50},...e]:e},[l,T]),q=(0,h.N4)({data:r,columns:B?[]:F,getCoreRowModel:(0,p.HT)(),getFilteredRowModel:(0,p.hM)(),getPaginationRowModel:(0,p.kW)(),getSortedRowModel:(0,p.h5)(),manualPagination:!0,manualSorting:!0,onSortingChange:E,state:{sorting:M},columnResizeMode:"onChange"}),$=()=>{q.resetSorting()},L=()=>{q.toggleAllRowsSelected(!1)};if((0,s.useImperativeHandle)(a,()=>({resetSorting:$,resetSelected:L})),B){const e="You are using old react-table v7 column config, please use v8 column config instead, refer to our demo or https://tanstack.com/table/v8";return(0,i.jsx)(o.Fc,{children:e})}return(0,i.jsxs)(m.A,{loading:d&&0!==r.length,type:"cover",children:[(0,i.jsx)("div",{style:{width:A,overflowX:"auto"},children:(0,i.jsxs)(o.XI,{style:{width:"100%",tableLayout:"fixed"},children:[(0,i.jsx)(f,{children:q.getHeaderGroups().map(e=>(0,i.jsx)(x,{children:e.headers.map(e=>(0,i.jsx)(v,{colSpan:e.colSpan,style:{width:`${e.column.getSize()}px`},children:e.isPlaceholder?null:(0,i.jsx)("div",{className:n()(d&&"pointer-events-none"),children:(0,h.Kv)(e.column.columnDef.header,e.getContext())})},e.id))},e.id))}),d&&0===r.length?(0,i.jsx)(g,{columns:F.length,rows:N.pageSize,avatarInColumns:t,avatarProps:S}):(0,i.jsx)(j,{children:q.getRowModel().rows.slice(0,z).map(e=>(0,i.jsx)(x,{children:e.getVisibleCells().map(e=>(0,i.jsx)(y,{style:{width:`${e.column.getSize()}px`},children:(0,h.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),(0,i.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,i.jsx)(o.dK,{pageSize:z,currentPage:I,total:R,onChange:e=>{d||null===b||void 0===b||b(e)}}),(0,i.jsx)("div",{style:{minWidth:130},children:(0,i.jsx)(o.l6,{size:"sm",menuPlacement:"top",isSearchable:!1,value:P.filter(e=>e.value===z),options:P,onChange:e=>{return a=e.value,void(d||null===D||void 0===D||D(Number(a)));var a}})})]})]})});b.defaultProps={pageSizes:[10,25,50,100],pagingData:{total:0,pageIndex:1,pageSize:10},data:[],columns:[],selectable:!1,loading:!1};const D=b}}]);
//# sourceMappingURL=5808.c96de294.chunk.js.map